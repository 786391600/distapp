import{F as e}from"./Form-Jbjh_oSi.js";import{u as t}from"./useForm-6GfEV21j.js";import{d as o,q as s,P as a,o as r,i as n,a as m,k as l}from"./index-bVKc0PdV.js";import{u as p}from"./useValidator-kEioXCvx.js";const i=o({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(o,{expose:i}){const{required:c,accountValidate:u}=p(),d=o;l();const{formRegister:f,formMethods:w}=t(),{setValues:P,getFormData:h,getElFormExpose:g,setSchema:I}=w,R=s([{field:"accountName",label:"账户名称",component:"Input",formItemProps:{rules:[c(),u()]},colProps:{span:15}},{field:"companyName",label:"企业名称",component:"Input",formItemProps:{rules:[c()]},colProps:{span:15}},{field:"password",label:"账户密码",component:"Input",formItemProps:{rules:[c(),u()]},colProps:{span:15}}]),b=s({title:[c()],author:[c()],importance:[c()],pageviews:[c()],display_time:[c()],content:[c()]});return a((()=>d.currentRow),(e=>{e&&(P(e),I([{field:"content",path:"componentProps.defaultHtml",value:e.content}]))}),{deep:!0,immediate:!0}),i({submit:async()=>{const e=await g();if(await(null==e?void 0:e.validate().catch((e=>{})))){return await h()}}}),(t,o)=>(r(),n(m(e),{rules:b,onRegister:m(f),schema:R},null,8,["rules","onRegister","schema"]))}});export{i as _};
