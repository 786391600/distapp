import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-JQS4WQ-M.js";import{_ as t}from"./Search.vue_vue_type_script_setup_true_lang-2YKLbXNH.js";import{d as a,u as i,r as s,q as l,e as o,D as r,F as n,a as p,o as d,i as m,w as u,f as c,A as g,t as _,O as j,N as f,k as h}from"./index-xKMN8uKn.js";import{_ as x}from"./Table.vue_vue_type_script_lang-lIORahCP.js";import{g as y,d as b}from"./index-mgweG9W_.js";import{u as v}from"./useTable-qCwfUbF9.js";import{u as S}from"./useEmitt-7UlwlJqL.js";import{u as w}from"./useCrudSchemas-5gDjgrAW.js";import"./el-card-l7jIfdM_.js";import"./el-popper-Y51o7hz7.js";import"./Form-qXqhdZYE.js";import"./el-col-kibpwO7y.js";import"./el-tag-lyEM4pop.js";import"./el-checkbox-TmK4Ph9W.js";import"./isEqual-Ylka9Umq.js";import"./el-input-number-k6q4cZ0X.js";import"./el-pagination-vGHARdHa.js";import"./debounce-aOP__3CO.js";import"./el-divider-jC1MEhk_.js";import"./el-tree-7jcNGfzR.js";import"./index-bnlgrIkK.js";import"./InputPassword-JCHiXxXw.js";import"./style.css_vue_type_style_index_0_src_true_lang-ERhaJcZL.js";import"./JsonEditor.vue_vue_type_script_setup_true_lang-m78h45WY.js";import"./IconPicker-PIWfgJvg.js";import"./tsxHelper-wGexMPjt.js";import"./useForm-DOc6O2io.js";import"./useIcon-dkmjLz5g.js";import"./el-image-viewer-na4tD7Qd.js";import"./el-dropdown-item-BRufpSJQ.js";import"./refs-x16bpk_F.js";import"./index-Mm_mg0nA.js";import"./index-nDEnW3MX.js";import"./tree-1FtpebiE.js";const D={class:"mb-10px"};function P(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!f(e)}const k=a({name:"ExamplePage",__name:"ExamplePage",setup(a){const{push:f}=i(),k=s([]),C=s({}),E=e=>{C.value=e,M()},{tableRegister:z,tableState:I,tableMethods:F}=v({fetchDataApi:async()=>{const{currentPage:e,pageSize:t}=I,a=await y({pageIndex:p(e),pageSize:p(t),...p(C)});return{list:a.data.list,total:a.data.total}},fetchDelApi:async()=>!!(await b(p(k)))}),{loading:L,dataList:R,total:T,currentPage:A,pageSize:H}=I,{getList:M,getElTableExpose:O,delList:Y}=F;M(),S({name:"getList",callback:e=>{"add"===e&&(A.value=1),M()}});const{t:U}=h(),q=l([{field:"selection",search:{hidden:!0},form:{hidden:!0},detail:{hidden:!0},table:{type:"selection"}},{field:"title",label:"岗位名称",search:{hidden:!1,component:"Input"},form:{hidden:!0},detail:{hidden:!0}},{field:"enterprise",label:"所属企业",search:{hidden:!0}},{field:"createTime",label:"添加时间",search:{hidden:!0},form:{component:"DatePicker",componentProps:{type:"datetime",valueFormat:"YYYY-MM-DD HH:mm:ss"}}},{field:"action",width:"260px",label:U("tableDemo.action"),search:{hidden:!0},form:{hidden:!0},detail:{hidden:!0},table:{slots:{default:e=>{let t,a,i;return o(n,null,[o(r,{type:"primary",onClick:()=>G(e.row,"edit")},P(t=U("exampleDemo.edit"))?t:{default:()=>[t]}),o(r,{type:"success",onClick:()=>G(e.row,"detail")},P(a=U("exampleDemo.detail"))?a:{default:()=>[a]}),o(r,{type:"danger",onClick:()=>B(e.row)},P(i=U("exampleDemo.del"))?i:{default:()=>[i]})])}}}}]),{allSchemas:J}=w(q),W=()=>{f("/station/example-add")},$=s(!1),B=async e=>{const t=await O();k.value=e?[e.id]:(null==t?void 0:t.getSelectionRows().map((e=>e.id)))||[],$.value=!0,await Y(p(k).length).finally((()=>{$.value=!1}))},G=(e,t)=>{f(`/station/example-${t}?id=${e.id}`)};return(a,i)=>(d(),m(p(e),null,{default:u((()=>[o(p(t),{schema:p(J).searchSchema,onSearch:E,onReset:E},null,8,["schema"]),c("div",D,[o(p(r),{type:"primary",onClick:W},{default:u((()=>[g(_(p(U)("exampleDemo.add")),1)])),_:1}),o(p(r),{loading:$.value,type:"danger",onClick:i[0]||(i[0]=e=>B(null))},{default:u((()=>[g(_(p(U)("exampleDemo.del")),1)])),_:1},8,["loading"])]),o(p(x),{pageSize:p(H),"onUpdate:pageSize":i[1]||(i[1]=e=>j(H)?H.value=e:null),currentPage:p(A),"onUpdate:currentPage":i[2]||(i[2]=e=>j(A)?A.value=e:null),columns:p(J).tableColumns,data:p(R),loading:p(L),pagination:{total:p(T)},onRegister:p(z)},null,8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}});export{k as default};
