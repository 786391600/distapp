import{F as e}from"./Form-Jbjh_oSi.js";import{u as r}from"./useForm-6GfEV21j.js";import{u as a}from"./useValidator-kEioXCvx.js";import{d as t,q as s,P as o,o as m,i,a as u}from"./index-bVKc0PdV.js";const n=t({__name:"Write",props:{currentRow:{type:Object,default:()=>{}},formSchema:{type:Array,default:()=>[]}},setup(t,{expose:n}){const{required:c}=a(),p=t,d=s({username:[c()],account:[c()],"department.id":[c()]}),{formRegister:l,formMethods:f}=r(),{setValues:h,getFormData:w,getElFormExpose:R}=f;return o((()=>p.currentRow),(e=>{e&&h(e)}),{deep:!0,immediate:!0}),n({submit:async()=>{const e=await R();if(await(null==e?void 0:e.validate().catch((e=>{})))){return await w()}}}),(r,a)=>(m(),i(u(e),{rules:d,onRegister:u(l),schema:t.formSchema},null,8,["rules","onRegister","schema"]))}});export{n as _};
