import{F as e}from"./Form-Jbjh_oSi.js";import{d as a,dK as o,b_ as l,q as s,o as t,i as r,w as m,e as u,a as i,f as n,A as d,D as p}from"./index-bVKc0PdV.js";import{E as f}from"./el-drawer-1FpiEvL2.js";import{u as c}from"./useForm-6GfEV21j.js";import{u as v}from"./useValidator-kEioXCvx.js";const V=a({__name:"AddButtonPermission",props:{modelValue:{type:Boolean}},emits:o(["confirm"],["update:modelValue"]),setup(a,{emit:o}){const V=l(a,"modelValue"),{required:_}=v(),b=s([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:w,formMethods:g}=c(),{getFormData:j,getElFormExpose:F}=g,h=o,y=s({label:[_()],value:[_()]}),R=async()=>{const e=await F();if(!e)return;if(await(null==e?void 0:e.validate().catch((e=>{})))){const e=await j();h("confirm",e),V.value=!1}};return(a,o)=>(t(),r(i(f),{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=e=>V.value=e),title:"新增按钮权限"},{default:m((()=>[u(i(e),{rules:y,onRegister:i(w),schema:b},null,8,["rules","onRegister","schema"])])),footer:m((()=>[n("div",null,[u(i(p),{onClick:o[0]||(o[0]=()=>V.value=!1)},{default:m((()=>[d("取消")])),_:1}),u(i(p),{type:"primary",onClick:R},{default:m((()=>[d("确认")])),_:1})])])),_:1},8,["modelValue"]))}});export{V as _};
