import{F as e}from"./Form-Jbjh_oSi.js";import{u as o}from"./useForm-6GfEV21j.js";import{d as t,q as a,P as s,o as r,i as l,a as n,k as m}from"./index-bVKc0PdV.js";import{u as i}from"./useValidator-kEioXCvx.js";const p=t({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(t,{expose:p}){const{required:c}=i(),u=t;m();const{formRegister:f,formMethods:d}=o(),{setValues:g,getFormData:P,getElFormExpose:I,setSchema:b}=d,w=a([{field:"title",label:"岗位名称",component:"Input",formItemProps:{rules:[c()]},colProps:{span:24}},{field:"salaryTag",label:"薪酬标签",component:"SalaryTag",formItemProps:{rules:[c()]},colProps:{span:24}},{field:"salaryInfo",label:"薪酬详情",component:"SalaryInfo",formItemProps:{rules:[c()]},colProps:{span:24}},{field:"content",label:"岗位详情",component:"StationInfo",formItemProps:{rules:[c()]},colProps:{span:24}},{field:"StationTag",component:"StationTag",label:"岗位标签"}]),y=a({title:[c()],author:[c()],importance:[c()],pageviews:[c()],display_time:[c()],content:[c()]});return s((()=>u.currentRow),(e=>{e&&g(e)}),{deep:!0,immediate:!0}),p({submit:async()=>{const e=await I();if(await(null==e?void 0:e.validate().catch((e=>{})))){return await P()}}}),(o,t)=>(r(),l(n(e),{rules:y,onRegister:n(f),schema:w},null,8,["rules","onRegister","schema"]))}});export{p as _};
