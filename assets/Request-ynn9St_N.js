import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-JQS4WQ-M.js";import{d as t,r as a,o as r,i as u,w as s,f as l,t as i,e as q,A as c,a as n,D as d,k as o}from"./index-xKMN8uKn.js";import{E as v}from"./el-divider-jC1MEhk_.js";import{r as p}from"./index-nDEnW3MX.js";import"./el-card-l7jIfdM_.js";import"./el-popper-Y51o7hz7.js";const y=t({__name:"Request",setup(t){const{t:y}=o(),f=a(new Set),m=async()=>{if(!f.value.has("/request/1"))try{f.value.add("/request/1");await p.get({url:"/mock/request/1"})}catch(e){}finally{f.value.delete("/request/1")}},_=async()=>{if(!f.value.has("/request/2"))try{f.value.add("/request/2");await p.get({url:"/mock/request/2"})}catch(e){}finally{f.value.delete("/request/2")}},h=async()=>{if(!f.value.has("/request/3"))try{f.value.add("/request/3");await p.get({url:"/mock/request/3"})}catch(e){}finally{f.value.delete("/request/3")}},k=async()=>{if(!f.value.has("/request/4"))try{f.value.add("/request/4");await p.get({url:"/mock/request/4"})}catch(e){}finally{f.value.delete("/request/4")}},C=async()=>{if(!f.value.has("/request/5"))try{f.value.add("/request/5");await p.get({url:"/mock/request/5"})}catch(e){}finally{f.value.delete("/request/5")}},g=()=>{m(),_(),h(),k(),C()},w=()=>{p.cancelAllRequest(),f.value.clear()},R=e=>{const t=[];return e.forEach((e=>{t.push(e)})),t},j=()=>{if(f.value.has("/request/1"))return p.cancelRequest("/request/1"),void f.value.delete("/request/1");m()},x=()=>{if(f.value.has("/request/2"))return p.cancelRequest("/request/2"),void f.value.delete("/request/2");_()},A=()=>{if(f.value.has("/request/3"))return p.cancelRequest("/request/3"),void f.value.delete("/request/3");h()},E=()=>{if(f.value.has("/request/4"))return p.cancelRequest("/request/4"),void f.value.delete("/request/4");k()},W=()=>{if(f.value.has("/request/5"))return p.cancelRequest("/request/5"),void f.value.delete("/request/5");C()},D=()=>{p.get({url:"/mock/request/expired"})};return(t,a)=>(r(),u(n(e),{title:n(y)("router.request")},{default:s((()=>[l("p",null,"正在请求的接口："+i(R(f.value)),1),q(n(d),{type:"primary",onClick:j},{default:s((()=>[c("请求/取消request1")])),_:1}),q(n(d),{type:"primary",onClick:x},{default:s((()=>[c("请求/取消request2")])),_:1}),q(n(d),{type:"primary",onClick:A},{default:s((()=>[c("请求/取消request3")])),_:1}),q(n(d),{type:"primary",onClick:E},{default:s((()=>[c("请求/取消request4")])),_:1}),q(n(d),{type:"primary",onClick:W},{default:s((()=>[c("请求/取消request5")])),_:1}),q(n(d),{type:"primary",onClick:g},{default:s((()=>[c("发送五个请求")])),_:1}),q(n(d),{type:"primary",onClick:w},{default:s((()=>[c("关闭所有请求")])),_:1}),q(n(v)),q(n(d),{type:"primary",onClick:D},{default:s((()=>[c("token过期")])),_:1})])),_:1},8,["title"]))}});export{y as default};
