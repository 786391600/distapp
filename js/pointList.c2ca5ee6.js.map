{"version":3,"sources":["webpack:///./src/components/common-components/page.vue?355b","webpack:///./src/components/common-components/page.vue","webpack:///./src/components/common-components/page.vue?4091","webpack:///./src/components/common-components/page.vue?c603","webpack:///./src/views/ticket/point/list.vue?b3ad","webpack:///./src/components/nav/index.vue?f967","webpack:///./src/components/nav/index.vue","webpack:///./src/components/nav/index.vue?8d00","webpack:///./src/components/nav/index.vue?48db","webpack:///./src/views/ticket/point/list.vue","webpack:///./src/views/ticket/point/list.vue?27ec","webpack:///./src/views/ticket/point/list.vue?9e6c","webpack:///./src/components/nav/index.vue?c325","webpack:///./src/components/common-ui/page-view.vue?6773","webpack:///src/components/common-ui/page-view.vue","webpack:///./src/components/common-ui/page-view.vue?b1c6","webpack:///./src/components/common-ui/page-view.vue","webpack:///./src/components/common-ui/page-view.vue?53e0","webpack:///./src/components/common-components/page.vue?209b","webpack:///./src/views/ticket/point/list.vue?7e2f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","type","_v","_s","title","directives","name","rawName","value","expression","on","back","_t","wrapper","isWhite","desc","content","staticRenderFns","$router","default","required","component","attrs","slot","navList","navChange","showTimes","_e","_l","pointObj","currentTab","item","index","key","label","point","getTime","$event","updateDialotText","addOrUpdatePoint","deletePoint","addPoint","savePoint","box","active","currentValue","setValue","console","log","list","emitValue","$emit","components","showMore","start","end","timeRows","dialog","pointList","fleetId","$route","query","getFleetInfoById","id","toast","time","txt","show","$store","dispatch","then","response","success","data","$set","hide","currentIndex","length","cObj","Math","floor","distance","secondsToTime","duration","pointTextDialot","seconds","hours","minutes","remainingSeconds","text","validateState","validate","$createDialog","icon","state","message","Object","keys","forEach","location","currentPoint","currentType","currentTabType","push","backInfo","updateIndex","updateType","splice","prompt","placeholder","onConfirm","e","promptValue","obj","newVal","backData","route","info","coordinate","Page","pageView","navView","nav"],"mappings":"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","file":"js/pointList.c2ca5ee6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cube-page\",class:_vm.type},[_c('header',{staticClass:\"header\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isBack),expression:\"isBack\"}],staticClass:\"cubeic-back\",on:{\"click\":_vm.back}}),_c('div',{staticClass:\"header-edit\"},[_vm._t(\"edit\")],2)]),_c('div',{class:{ wrapper: true, isWhite: _vm.type === 'white' }},[_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"desc\"},[_vm._t(\"desc\",[_vm._v(_vm._s(_vm.desc))])],2),_c('main',{staticClass:\"content\"},[_vm._t(\"content\",[_vm._v(_vm._s(_vm.content))])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class Page extends Vue {\r\n  @Prop() private msg!: string;\r\n  @Prop({ default: '', required: true }) readonly title!: string\r\n  @Prop({ default: '' }) readonly type!: string\r\n  @Prop({ default: '' }) readonly desc!: string\r\n  @Prop({ default: '' }) readonly content!: string\r\n  @Prop({ default: true }) readonly isBack!: boolean\r\n  back () {\r\n    this.$router.back()\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=0717ebb4&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=ts&\"\nexport * from \"./page.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0717ebb4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page',{attrs:{\"type\":\"form-def\",\"title\":_vm.title,\"isBack\":true}},[_c('div',{staticClass:\"content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('navView',{attrs:{\"list\":_vm.navList},on:{\"change\":_vm.navChange}}),(_vm.showTimes)?_c('div',{staticClass:\"oprate top-line\"},[_c('div',{staticClass:\"btn\"},[_vm._v(\"\\r\\n            \"+_vm._s(_vm.showTimes ? '点位时间已更新' : '点位时间更新中...')+\"\\r\\n        \")])]):_vm._e(),_c('div',{staticClass:\"list\"},[_vm._l((_vm.pointObj[_vm.currentTab]),function(item,index){return _c('div',{key:index,staticClass:\"list-item\"},[_c('div',{staticClass:\"list-item-title\"},[_vm._v(_vm._s(index + 1)+\".\"+_vm._s(item.label))]),_c('div',{staticClass:\"list-item-content\"},[_vm._v(_vm._s(item.point ? item.point.label : '未添加定位'))]),(_vm.showTimes)?_c('div',{staticClass:\"list-item-content\"},[_vm._v(_vm._s(_vm.getTime(index)))]):_vm._e(),_c('div',{staticClass:\"oprate\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.updateDialotText(item.label, index)}}},[_vm._v(\"\\r\\n                 修改名称\\r\\n              \")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.addOrUpdatePoint(index, item)}}},[_vm._v(\"\\r\\n                 \"+_vm._s(item.point ? '修改定位' : '添加定位')+\"\\r\\n              \")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.deletePoint(index)}}},[_vm._v(\"\\r\\n                 删除\\r\\n              \")])])])}),_c('div',{staticClass:\"oprate top-line\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.addPoint}},[_vm._v(\"\\r\\n                 +添加点位\\r\\n            \")]),_c('div',{staticClass:\"btn success\",on:{\"click\":_vm.savePoint}},[_vm._v(\"\\r\\n                 保存\\r\\n            \")])])],2),_c('pageView')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-box\"},[_c('div',{staticClass:\"nav-scroll\"},[_c('div',{staticClass:\"item-box\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,class:{box: true, active: _vm.currentValue === item.value},on:{\"click\":function($event){return _vm.setValue(item.value)}}},[_vm._v(_vm._s(item.label))])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\r\n@Component({\r\n  components: {\r\n    \r\n  }\r\n})\r\nexport default class Nav extends Vue {\r\n  @Prop() private list!: Array;\r\n  currentValue = ''\r\n  created () {\r\n    console.log('navvvvvvvvvvvvvvvvvvvvvvvvvvvvv')\r\n    this.currentValue = this.list[0].value;\r\n    this.emitValue(this.list[0].value)\r\n  }\r\n\r\n  setValue(value) {\r\n    this.currentValue = value\r\n    this.emitValue(value)\r\n  }\r\n\r\n  emitValue(value) {\r\n    this.$emit('change', value)\r\n  }\r\n\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24b323fc&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\r\nimport Page from '@/components/common-components/page.vue'\r\nimport pageView from '@/components/common-ui/page-view.vue'\r\nimport navView from '@/components/nav/index.vue'\r\n@Component({\r\n  components: {\r\n    Page,\r\n    pageView,\r\n    navView\r\n  }\r\n})\r\nexport default class Home extends Vue {\r\n  $route: any\r\n  $createToast : any\r\n  $createDialog: any\r\n  point = {}\r\n  // 声明周期钩子\r\n  fleetId : any\r\n  title: any\r\n  showMore = true\r\n  currentTab = ''\r\n  navList = [{\r\n    label: '出发点位',\r\n    value: 'start'\r\n  }, {\r\n    label: '到达点位',\r\n    value: 'end'\r\n  }]\r\n  pointObj = {\r\n    start: [],\r\n    end: []\r\n  }\r\n\r\n  timeRows = []\r\n  created () {\r\n    this.pointList = []\r\n    this.fleetId = this.$route.query.fleetId\r\n    this.title = '点位列表'\r\n    this.getFleetInfoById(this.fleetId)\r\n  }\r\n\r\n  get showTimes () {\r\n    return this.timeRows && this.timeRows.length > 0\r\n  }\r\n  @Prop({ default: 'default value' }) readonly propB!: string\r\n\r\n  // 计算属性\r\n  // get showMore () {\r\n  //   return Math.ceil(this.count / this.limit) >= (this.page + 1)\r\n  // }\r\n  getFleetInfoById (id : any) {\r\n    const toast = this['$createToast']({\r\n      time: 0,\r\n      txt: '加载...'\r\n    })\r\n    toast.show()\r\n    this.$store.dispatch('getFleetInfoById', { id: id }).then((response) => {\r\n      if (response.success) {\r\n        console.log(response, 'oooooooooo')\r\n        let data = response.data;\r\n        let point = data.point || {\r\n          start: [],\r\n          end: []\r\n        }\r\n        this.pointObj = point;\r\n        this.$set(this, 'timeRows', data.timeRows)\r\n      }  \r\n      toast.hide()\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  // addPoint () {\r\n  //   this.$router.push({ name: 'mapSelect', query: {} })\r\n  // }\r\n\r\n  dialog = null;\r\n  getTime(index){\r\n    if (!this.showTimes) {\r\n      return ''\r\n    }\r\n\r\n    let currentIndex = this.currentTab === 'start' ? index : this.pointObj.start.length + index;\r\n    if (!this.timeRows[currentIndex]) {\r\n      return ''\r\n    }\r\n    let cObj = this.timeRows[currentIndex][currentIndex + 1]\r\n    if (cObj) {\r\n      return '去下个点位  预估路程：' + Math.floor(cObj.distance/1000) + '公里  ' + '预估时间：' + this.secondsToTime(cObj.duration)\r\n    } else {\r\n      return '此点为终点站~'\r\n    }\r\n  }\r\n  addPoint () {\r\n    this.pointTextDialot('')\r\n  }\r\n\r\n  secondsToTime(seconds) {\r\n    var hours, minutes, remainingSeconds;\r\n    hours = Math.floor(seconds / 3600);\r\n    remainingSeconds = seconds % 3600;\r\n    minutes = Math.floor(remainingSeconds / 60);\r\n    remainingSeconds = remainingSeconds % 60;\r\n    let text = ''\r\n    if (hours) {\r\n      text = text + hours + '小时'\r\n    }\r\n    if (minutes) {\r\n      text = text + minutes + '分钟'\r\n    }\r\n    if (remainingSeconds) {\r\n      text = text + remainingSeconds + '秒'\r\n    }\r\n    return text\r\n}\r\n  savePoint () {\r\n    console.log(this.pointObj)\r\n    let validateState = this.validate()\r\n    if (!validateState) {\r\n      return\r\n    }\r\n    const toast = this['$createToast']({\r\n      time: 0,\r\n      txt: '保存中...'\r\n    })\r\n    toast.show()\r\n    this.$store.dispatch('updateFleetInfoById', { id: this.fleetId, key: 'point', data: this.pointObj }).then((response) => {\r\n      if (response.success) {\r\n        console.log(response, 'oooooooooo')\r\n        this.$set(this, 'timeRows', [])\r\n        this.$createDialog({\r\n          type: 'alert',\r\n          title: '提示',\r\n          content: '保存成功！',\r\n          icon: 'cubeic-alert'\r\n        }).show()\r\n      }  \r\n      toast.hide()\r\n    })\r\n  }\r\n\r\n  validate () {\r\n    let state = true;\r\n    let message = ''\r\n    Object.keys(this.pointObj).forEach((key)=>{\r\n      if (this.pointObj[key].length === 0) {\r\n        state = false\r\n        message = key === 'start' ? '出发点位必填' : '到达点位必填'\r\n      } else {\r\n        this.pointObj[key].forEach((item) => {\r\n          if (!item.point || !item.point.location) {\r\n            state = false\r\n            message = item.label + '未添加定位！'\r\n          } \r\n        })\r\n      }\r\n    })\r\n\r\n    if (!state) {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: message,\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    }\r\n    return state;\r\n  }\r\n  addOrUpdatePoint (index) {\r\n    let currentPoint = this.pointObj[this.currentTab][index]\r\n    let currentType = currentPoint.point ? 'update' : 'add'\r\n    let currentTabType = this.currentTab;\r\n    this.$router.push({ name: 'mapSelect', query: {\r\n      backInfo: {\r\n        updateIndex: index,\r\n        updateType: currentTabType \r\n      },\r\n      location: currentType === 'update'? currentPoint.point.location : []\r\n    } })\r\n  }\r\n\r\n  deletePoint (index) {\r\n    this.pointObj[this.currentTab].splice(index, 1)\r\n  }\r\n\r\n  updateDialotText (value, index) {\r\n    this.pointTextDialot(value, 'update', index)\r\n  }\r\n\r\n  pointTextDialot (value, type, index) {\r\n    let setValue = value ? value : '';\r\n    this.dialog = this.$createDialog({\r\n      type: 'prompt',\r\n      title: value ? '修改点位' : '添加点位',\r\n      prompt: {\r\n        value: setValue,\r\n        placeholder: '请输入'\r\n      },\r\n      onConfirm: (e, promptValue) => {\r\n        if (promptValue) {\r\n          if (type) {\r\n            let obj = this.pointObj[this.currentTab][index]\r\n            obj.label = promptValue\r\n            this.pointObj[this.currentTab]\r\n            this.$set(this.pointObj[this.currentTab], index, obj)\r\n          } else {\r\n            this.pointObj[this.currentTab].push({\r\n              label: promptValue\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }).show()\r\n  }\r\n  navChange (value) {\r\n    console.log(value)\r\n    this.currentTab = value\r\n  }\r\n\r\n  @Watch('$route')\r\n    routeChange (newVal) {\r\n     let backData = this.$store.state.backData;\r\n     console.log(backData, 'ssssssss')\r\n    if (backData.route === 'point') {\r\n      let info = backData.data\r\n      let backInfo = info.backInfo;\r\n      this.$set(this.pointObj[backInfo.updateType][backInfo.updateIndex], 'point', {\r\n        label: info.label || '未设置定位',\r\n        location: info.coordinate\r\n      })\r\n    }\r\n   }\r\n\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=f61d9f16&\"\nimport script from \"./list.vue?vue&type=script&lang=ts&\"\nexport * from \"./list.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"page-move\"}},[_c('router-view',{staticClass:\"cube-view\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: Wangtao\r\n * @Date: 2021-02-01 14:10:04\r\n * @LastEditors: Wangtao\r\n * @LastEditTime: 2021-04-21 11:11:19\r\n-->\r\n<template>\r\n  <transition name=\"page-move\">\r\n    <router-view class=\"cube-view\"></router-view>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n.page-move-enter, .page-move-leave-active\r\n  transform translate(100%, 0)\r\n.page-move-enter-active, .page-move-leave-active\r\n  transition transform 0.3s\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page-view.vue?vue&type=template&id=19583764&\"\nimport script from \"./page-view.vue?vue&type=script&lang=js&\"\nexport * from \"./page-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page-view.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-view.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-view.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}