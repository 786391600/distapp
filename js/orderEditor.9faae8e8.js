(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderEditor"],{"07e8":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cube-page",class:e.type},[r("header",{staticClass:"header"},[r("h1",[e._v(e._s(e.title))]),r("i",{directives:[{name:"show",rawName:"v-show",value:e.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:e.back}}),r("div",{staticClass:"header-edit"},[e._t("edit")],2)]),r("div",{class:{wrapper:!0,isWhite:"white"===e.type}},[r("section",{directives:[{name:"show",rawName:"v-show",value:e.desc,expression:"desc"}],staticClass:"desc"},[e._t("desc",[e._v(e._s(e.desc))])],2),r("main",{staticClass:"content"},[e._t("content",[e._v(e._s(e.content))])],2)])])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"back",value:function(){this.$router.back()}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])()],p.prototype,"msg",void 0),Object(u["a"])([Object(d["b"])({default:"",required:!0})],p.prototype,"title",void 0),Object(u["a"])([Object(d["b"])({default:""})],p.prototype,"type",void 0),Object(u["a"])([Object(d["b"])({default:""})],p.prototype,"desc",void 0),Object(u["a"])([Object(d["b"])({default:""})],p.prototype,"content",void 0),Object(u["a"])([Object(d["b"])({default:!0})],p.prototype,"isBack",void 0),p=Object(u["a"])([d["a"]],p);var h=p,f=h,b=(r("ca73"),r("2877")),v=Object(b["a"])(f,i,a,!1,null,"0717ebb4",null);t["a"]=v.exports},"0ff8":function(e,t,r){},"170f":function(e,t,r){"use strict";var i=r("1f3f"),a=r.n(i);a.a},"1abf":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var i=r("2b0e"),a=new i["a"]},"1f3f":function(e,t,r){},"2d6b":function(e,t,r){"use strict";var i=r("3e0a"),a=r.n(i);a.a},"2dcb":function(e,t,r){"use strict";var i=r("9e37"),a=r.n(i);a.a},"3ab6":function(e,t,r){},"3e0a":function(e,t,r){},"5eb0":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[r("cube-form-group",[r("cube-form-item",{attrs:{field:e.fields[0]}}),r("cube-form-item",{attrs:{field:e.fields[2]}}),r("cube-form-item",{attrs:{field:e.fields[3]}}),r("cube-form-item",{attrs:{field:e.fields[1]}})],1),r("cube-form-group",[r("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.departureTime="",e.model={},e.type="add",e.fields=[{type:"input",modelKey:"recruit_name",label:"职位名称",props:{placeholder:"请输入"},rules:{required:!0}},{type:"textarea",modelKey:"recruit_info",label:"职位详情",props:{placeholder:"请输入",maxlength:"3000"},rules:{required:!0}},{type:"input",modelKey:"recruit_num",label:"招聘人数",props:{placeholder:"请输入"},rules:{required:!0,type:"number"}},{type:"input",modelKey:"recruit_wages",label:"工资",props:{placeholder:"请输入"},rules:{required:!0}}],e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.type=this.$route.query.type||"add","edit"===this.type?this.model=this.$route.query.recruitInfo:this.model={enterpriseId:this.$route.query.enterpriseId}}},{key:"deactivated",value:function(){this.model={}}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),this.$store.dispatch("addOrUpdateRecruit",this.model).then(function(e){if(e.success){var r=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});r.show(),t.$router.push({path:"/recruit-list"})}else{var i=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});i.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2020,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",r=":",i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o);var c=e.getFullYear()+t+i+t+a+" "+s+r+n+r+o;return c}},{key:"title",get:function(){return"add"===this.type?"职位添加":"职位修改"}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("2dcb"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},6981:function(e,t,r){"use strict";var i=r("a2f4"),a=r.n(i);a.a},"828d":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:"订单分配",isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"screen-header"},[r("div",[r("span",{on:{click:e.screenOpen}},[e._v("筛选"),r("i",{class:e.openScreen?"cubeic-pullup":"cubeic-pulldown"})])]),r("div",{staticClass:"screen-search",on:{click:e.screenClick}},[e._v("搜索")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.openScreen,expression:"openScreen"}],staticClass:"screen"},[r("cube-input",{model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},[r("span",{staticClass:"screen-span",attrs:{slot:"prepend"},slot:"prepend"},[e._v("起点")])]),r("cube-input",{model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},[r("span",{staticClass:"screen-span",attrs:{slot:"prepend"},slot:"prepend"},[e._v("终点")])]),r("div",{staticClass:"screen-bottom"},[r("cube-button",{staticClass:"screen-bottom-btn",attrs:{inline:!0,light:!0},on:{click:e.screenReset}},[e._v("重置")]),r("cube-button",{staticClass:"screen-bottom-btn",attrs:{inline:!0},on:{click:e.screenOpen}},[e._v("确定")])],1)],1),r("cube-checkbox-group",{attrs:{shape:"square","hollow-style":!0},on:{checked:e.orderChecked,"cancel-checked":e.orderCancelChecked},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.orderList,function(t,i){return r("cube-checkbox",{key:i,staticClass:"checkbox",attrs:{option:t.out_trade_no+"@"+t.number+"@"+t.userId}},[r("p",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.start)+"-"+e._s(t.end))]),r("p",{staticClass:"number"},[e._v("人数:"+e._s(t.number))]),r("p",[e._v("联系电话: "+e._s(t.phone))]),r("p",[e._v("姓名: "+e._s(t.name))]),r("p",[e._v("身份证")]),e._l(t.riderList,function(t,i){return r("p",{key:i},[e._v("\r\n            "+e._s(t.idCard)+"\r\n          ")])})],2)}),1),r("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")]),r("div",{staticClass:"footer"}),r("cube-toolbar",{attrs:{actions:e.actions},on:{click:e.clickHandler}}),r("cube-drawer",{ref:"drawer",attrs:{data:e.drawerdata,"selected-index":e.selectedIndex}},[r("span",{attrs:{slot:"title"},slot:"title"},[e._v("车辆选择")]),r("cube-drawer-panel",{attrs:{data:e.drawerdata}},[e._l(e.drawerdata,function(t,i){return r("cube-drawer-item",{directives:[{name:"show",rawName:"v-show",value:t.id!==e.carId,expression:"item.id !== carId"}],key:i,attrs:{item:t,index:i}},[r("p",{on:{click:function(r){return e.drawerSelect(t)}}},[e._v("车牌："+e._s(t.licensePlate?t.licensePlate:"未填写"))])])}),r("cube-drawer-item",[r("span",[e._v("加载更多")])])],2)],1)],1)])},a=[],s=(r("28a5"),r("d225")),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.start="",e.end="",e.page=1,e.limit=10,e.count=0,e.carNums=0,e.checkList=[],e.orderList=[],e.selectNum=0,e.selectCarId="",e.drawerdata=[{}],e.selectedIndex=[],e.openScreen=!1,e.actions=[{text:"已选择：0人"},{text:"请选车辆",type:"button",action:"selectCar"},{text:"确认分配",type:"button",action:"distributionOrder"}],e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.checkList=[],this.selectNum=0,this.getOrderList({})}},{key:"getOrderList",value:function(e){var t=this,r=e.skip||0,i=(e.limit,this.carId),a=this["$createToast"]({time:0,txt:"加载..."});a.show(),this.$store.dispatch("getOrderList",{carId:i,skip:r,start:this.start,end:this.end}).then(function(r){r.success&&(e.skip?t.orderList=t.orderList.concat(r.data.list):t.orderList=r.data.list,t.count=r.data.count),a.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getOrderList({skip:e})}}},{key:"orderChecked",value:function(e){var t=e.split("@");this.selectNum+=parseInt(t[1]),this.actions[0].text="已选择："+this.selectNum+"人"}},{key:"orderCancelChecked",value:function(e){var t=e.split("@");this.selectNum-=parseInt(t[1]),this.actions[0].text="已选择："+this.selectNum+"人"}},{key:"clickHandler",value:function(e){"distributionOrder"===e.action?this.distributionOrder():"selectCar"===e.action&&this.selectCar()}},{key:"selectCar",value:function(){this.getCarList({})}},{key:"distributionOrder",value:function(){if(this.checkList.length<=0){var e=this.$createToast({time:1e3,txt:"请选择订单",type:"txt"});e.show()}else{if(!this.selectCarId){var t=this.$createToast({time:1e3,txt:"请选择要分配的车辆",type:"txt"});return t.show(),!1}this.orderAllocation()}}},{key:"getCarList",value:function(e){var t=this,r=e.skip||0,i=e.limit||10,a=(this.fleetId,this["$createToast"]({time:0,txt:"加载..."}));a.show(),console.log(this.fleetId,"fleetId"),console.log(this.$store.state);var s={skip:r,limit:i};(this.$store.state.user="13934691550")?console.log("user"):s.fleetId=this.fleetId,this.$store.dispatch("getCarList",s).then(function(e){e.success&&(t.drawerdata[0]?t.drawerdata=e.data.list:t.drawerdata=t.drawerdata.concat(e.data.list),t.count=e.data.count,t.$refs.drawer.show()),a.hide()})}},{key:"drawerSelect",value:function(e){this.selectCarId=e.id,this.actions[1].text=e.licensePlate?"车牌："+e.licensePlate:"车牌：未知",this.$refs.drawer.hide()}},{key:"resetComponentInfo",value:function(){this.page=1,this.count=0,this.orderList=[],this.selectCarId="",this.actions[1].text="请选车辆",this.actions[0].text="已选择：0人"}},{key:"orderAllocation",value:function(){var e=this;if(!(this.checkList.length<=0)&&this.selectCarId){var t=this["$createToast"]({time:0,txt:"订单分配中..."});t.show(),this.$store.dispatch("orderAllocation",{orderList:this.checkList,toCarId:this.selectCarId,carId:this.carId}).then(function(r){if(r.success){var i=e.$createToast({time:1e3,txt:"分配成功！",type:"txt"});i.show(),e.resetComponentInfo(),e.getOrderList({})}t.hide()})}}},{key:"screenClick",value:function(){this.getOrderList({})}},{key:"screenOpen",value:function(){this.openScreen=!this.openScreen}},{key:"screenReset",value:function(){this.start="",this.end=""}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}},{key:"carId",get:function(){return this.$route.query.carId}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("6981"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},"860b":function(e,t,r){},"912d":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("cube-button",{staticClass:"btn",attrs:{primary:!0},on:{click:function(t){return e.goTo("job-enterprise-edit")}}},[e._v("添加企业")])],1),r("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.enterpriseList,function(t,i){return r("cube-button",{key:i,staticClass:"btn",on:{click:function(r){return e.toEnterpriseInfo(t)}}},[r("p",[e._v(e._s(t.enterprise_name))])])}),r("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")])],2)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.enterpriseList=[],e.page=1,e.limit=10,e.count=0,e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.title="企业列表"}},{key:"activated",value:function(){this.enterpriseList=[],this.getEnterpriseList({})}},{key:"deactivated",value:function(){this.page=1,this.count=0}},{key:"getEnterpriseList",value:function(e){var t=this,r=e.skip||0,i=e.limit||10,a=this["$createToast"]({time:0,txt:"加载..."});a.show(),this.$store.dispatch("getEnterpriseList",{skip:r,limit:i}).then(function(e){e.success&&(t.enterpriseList=t.enterpriseList.concat(e.data.list),t.count=e.data.count),a.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getEnterpriseList({skip:e})}}},{key:"toEnterpriseInfo",value:function(e){console.log("ddddd",e),this.$router.push({path:"/job-enterprise-info",query:{enterpriseId:e.id}})}},{key:"goTo",value:function(e){this.$router.push({path:"/"+e})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("aba6"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},9424:function(e,t,r){"use strict";var i=r("860b"),a=r.n(i);a.a},"9e37":function(e,t,r){},a2f4:function(e,t,r){},a485:function(e,t,r){},a564:function(e,t,r){"use strict";var i=r("3ab6"),a=r.n(i);a.a},aba6:function(e,t,r){"use strict";var i=r("d7c6"),a=r.n(i);a.a},b13e:function(e,t,r){},b74c:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[r("cube-form-group",[r("cube-form-item",{attrs:{field:e.fields[0]}}),r("cube-form-item",{attrs:{field:e.fields[1]}})],1),r("cube-form-group",[r("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.departureTime="",e.model={},e.type="add",e.fields=[{type:"input",modelKey:"enterprise_name",label:"企业名称",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"enterprise_place",label:"企业地点",props:{placeholder:"请输入"},rules:{required:!0}}],e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.type=this.$route.query.type||"add","edit"===this.type?this.model=this.$route.query.enterpriseInfo:this.model={}}},{key:"deactivated",value:function(){this.model={}}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),this.$store.dispatch("addOrUpdateEnterprise",this.model).then(function(e){if(e.success){var r=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});r.show(),t.$router.push({path:"/job-enterprise"})}else{var i=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});i.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2020,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",r=":",i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o);var c=e.getFullYear()+t+i+t+a+" "+s+r+n+r+o;return c}},{key:"title",get:function(){return"add"===this.type?"企业添加":"企业修改"}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("cbd6"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},ca73:function(e,t,r){"use strict";var i=r("b13e"),a=r.n(i);a.a},cbd6:function(e,t,r){"use strict";var i=r("0ff8"),a=r.n(i);a.a},d66a:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:"公司详情",isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"carInfo"},[r("p",[r("span",[e._v("公司名称：")]),r("span",[e._v(e._s(e.enterpriseInfo.enterprise_name?e.enterpriseInfo.enterprise_name:"未填写"))])]),r("p",[r("span",[e._v("公司地点：")]),r("span",[e._v(e._s(e.enterpriseInfo.enterprise_place?e.enterpriseInfo.enterprise_place:"未填写"))])])]),r("cube-button",{staticClass:"btn",on:{click:e.toenterpriseEdit}},[e._v("信息修改")]),r("cube-button",{staticClass:"btn",on:{click:e.toRecruit}},[e._v("招聘信息")])],1)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.carList=[],e.page=1,e.limit=10,e.count=0,e.carId="",e.carNums=0,e.enterpriseInfo={},e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.enterpriseId=this.$route.query.enterpriseId,this.getEnterpriseInfo(this.enterpriseId)}},{key:"deactivated",value:function(){}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;this.page,this.limit}}},{key:"toenterpriseEdit",value:function(){this.$router.push({path:"/job-enterprise-edit",query:{type:"edit",enterpriseInfo:this.enterpriseInfo}})}},{key:"toRecruit",value:function(){this.$router.push({path:"/recruit-list",query:{enterpriseId:this.enterpriseInfo.id}})}},{key:"getEnterpriseInfo",value:function(e){var t=this,r=this["$createToast"]({time:0,txt:"加载..."});r.show(),this.$store.dispatch("getEnterpriseInfo",{enterpriseId:e}).then(function(e){if(e.success){var i=e.data;t.enterpriseInfo=i}r.hide()})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("9424"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},d7c6:function(e,t,r){},efa2:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:"车辆编辑",isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[r("cube-form-group",[r("cube-form-item",{attrs:{field:e.fields[0]}}),r("cube-form-item",{attrs:{field:e.fields[1]}}),r("cube-form-item",{attrs:{field:e.fields[2]}}),r("cube-form-item",{attrs:{field:e.fields[3]}}),r("cube-form-item",{attrs:{field:e.fields[4]}}),r("cube-form-item",{attrs:{field:e.fields[5]}},[r("div",{staticStyle:{"text-align":"left"},on:{click:e.showDatePicker}},[e._v("\n            "+e._s(e.model.departureTime||"Please select")+"\n          ")])]),e.showComplete?r("cube-form-item",{attrs:{field:e.fields[6]}}):e._e(),r("cube-form-item",{attrs:{field:e.fields[7]}}),r("div",{staticClass:"interval"},[e._l(e.model.startLimit,function(t,i){return r("div",{key:i,staticClass:"limitList"},[r("span",[e._v(e._s(t.name)+"：")]),r("cube-input",{attrs:{type:"number"},model:{value:t.num,callback:function(r){e.$set(t,"num",e._n(r))},expression:"item.num"}}),e._v("张\n            "),r("cube-button",{staticStyle:{"margin-left":"5px"},attrs:{outline:!0,inline:!0},on:{click:function(t){return e.deleteLimit("startLimit",i)}}},[e._v("删除")])],1)}),r("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.model.controlLine,expression:"model.controlLine"}],attrs:{inline:!0},on:{click:function(t){return e.limitHandle("startLimit")}}},[e._v("配置起点")])],2),r("div",{staticClass:"interval"},[e._l(e.model.endLimit,function(t,i){return r("div",{key:i,staticClass:"limitList"},[r("span",[e._v(e._s(t.name)+"：")]),r("cube-input",{attrs:{type:"number"},model:{value:t.num,callback:function(r){e.$set(t,"num",e._n(r))},expression:"item.num"}}),e._v("张\n            "),r("cube-button",{staticStyle:{"margin-left":"5px"},attrs:{outline:!0,inline:!0},on:{click:function(t){return e.deleteLimit("endLimit",i)}}},[e._v("删除")])],1)}),r("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.model.controlLine,expression:"model.controlLine"}],attrs:{inline:!0},on:{click:function(t){return e.limitHandle("endLimit")}}},[e._v("配置终点")])],2)],1),r("cube-form-group",[r("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},a=[],s=(r("456d"),r("ac6a"),r("d225")),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("07e8"),h=r("1abf"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.departureTime="",e.currentLineList=[],e.selectedIndex=[],e.model={num:"",contacts_name:"",contacts_phone:"",licensePlate:"",departurePlace:"",departureTime:"",complete:!1,controlLine:!1,startLimit:[],endLimit:[]},e.fields=[{type:"input",modelKey:"num",label:"票数",props:{placeholder:"请输入",type:"number"},rules:{required:!0}},{type:"input",modelKey:"contacts_name",label:"负责人",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"contacts_phone",label:"联系电话",props:{placeholder:"请输入",type:"number"},rules:{required:!0}},{type:"input",modelKey:"licensePlate",label:"车牌",props:{placeholder:"请输入"},rules:{required:!1}},{type:"input",modelKey:"departurePlace",label:"发车地点",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"departureTime",label:"发车时间",props:{placeholder:"请输入"},rules:{required:!0}},{type:"switch",modelKey:"complete",label:"业务完成",props:{placeholder:"请输入"}},{type:"switch",modelKey:"controlLine",label:"配置区间票",props:{placeholder:"请输入"}}],e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){var e=this;this.carId=this.$route.query.carId,Object.keys(this.$route.query.carInfo).forEach(function(t){e.model[t]=e.$route.query.carInfo[t]})}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),this.$store.dispatch("addOrUpdateCar",this.model).then(function(e){if(e.success){var r=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});r.show(),Object.keys(t.model).forEach(function(e){t.$route.query.carInfo[e]=t.model[e]}),h["a"].$emit("carInfoChange",t.$route.query.carInfo),t.$router.back()}else{var i=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});i.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2030,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",r=":",i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o);var c=e.getFullYear()+t+i+t+a+" "+s+r+n+r+o;return c}},{key:"limitHandle",value:function(e){var t=this,r={value:"",placeholder:"请输入"};this.$createDialog({type:"prompt",title:"添加区间地",prompt:r,onConfirm:function(r,i){if(t.model[e].length>0){var a=!1;if(t.model[e].some(function(e){if(e.name===i)return a=!0,!0}),a)return}t.model[e].push({name:i,num:0})}}).show()}},{key:"deleteLimit",value:function(e,t){this.model[e].splice(t,1)}},{key:"fleetId",get:function(){return this.$route.query.fleetId}},{key:"showComplete",get:function(){var e=this.model.departureTime;return new Date>new Date(e)}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{Page:p["a"]},filters:{stringToNumber:function(e){return parseInt(e)}}})],f);var b=f,v=b,m=(r("f653"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},f653:function(e,t,r){"use strict";var i=r("a485"),a=r.n(i);a.a},fac5:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:"招工管理",isBack:!0}},[r("div",{staticClass:"form-btn",attrs:{slot:"content"},slot:"content"},[r("cube-button",{on:{click:function(t){return e.goTo("job-enterprise")}}},[e._v("企业管理")])],1),r("div",{staticClass:"form-btn",attrs:{slot:"content"},slot:"content"},[r("cube-button",{on:{click:function(t){return e.goTo("job-enterprise")}}},[e._v("投递记录")])],1)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.fleetList=[],e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"goTo",value:function(e){this.$router.push({path:"/"+e})}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("a564"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},fc60:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("cube-button",{staticClass:"btn",on:{click:function(t){return e.goTo("recruit-edit")}}},[e._v("添加职位")])],1),r("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.recruitList,function(t,i){return r("cube-button",{key:i,staticClass:"btn",on:{click:function(r){return e.toRecruitInfo(t)}}},[r("p",[e._v(e._s(t.recruit_name))])])}),r("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")])],2)])},a=[],s=r("d225"),n=r("b0b4"),o=r("308d"),c=r("6bb5"),l=r("4e2b"),u=r("9ab4"),d=r("60a3"),p=r("fdab"),h=r("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.recruitList=[],e.page=1,e.limit=10,e.count=0,e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.title="职位列表"}},{key:"activated",value:function(){this.enterpriseId=this.$route.query.enterpriseId,this.recruitList=[],this.getRecruitList({})}},{key:"deactivated",value:function(){this.page=1,this.count=0}},{key:"getRecruitList",value:function(e){var t=this,r=e.skip||0,i=e.limit||10,a=this["$createToast"]({time:0,txt:"加载..."});a.show(),this.$store.dispatch("getRecruitList",{enterpriseId:this.enterpriseId,skip:r,limit:i}).then(function(e){e.success&&(t.recruitList=t.recruitList.concat(e.data.list),t.count=e.data.count),a.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getRecruitList({skip:e})}}},{key:"toRecruitInfo",value:function(e){this.$router.push({path:"/recruit-edit",query:{recruitInfo:e,type:"edit"}})}},{key:"goTo",value:function(e){this.$router.push({path:"/"+e,query:{enterpriseId:this.enterpriseId,type:"add"}})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(u["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(r("2d6b"),r("2877")),y=Object(m["a"])(v,i,a,!1,null,null,null);t["default"]=y.exports},fdab:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),r("br"),e._v("\n    check out the\n    "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript",target:"_blank",rel:"noopener"}},[e._v("typescript")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],s=r("d225"),n=r("308d"),o=r("6bb5"),c=r("4e2b"),l=r("9ab4"),u=r("60a3"),d=function(e){function t(){return Object(s["a"])(this,t),Object(n["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(u["c"]);Object(l["a"])([Object(u["b"])()],d.prototype,"msg",void 0),d=Object(l["a"])([u["a"]],d);var p=d,h=p,f=(r("170f"),r("2877")),b=Object(f["a"])(h,i,a,!1,null,"13913fa2",null);t["a"]=b.exports}}]);
//# sourceMappingURL=orderEditor.9faae8e8.js.map