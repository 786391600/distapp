(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fleetTaskUpdate"],{"07e8":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cube-page",class:e.type},[a("header",{staticClass:"header"},[a("h1",[e._v(e._s(e.title))]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:e.back}}),a("div",{staticClass:"header-edit"},[e._t("edit")],2)]),a("div",{class:{wrapper:!0,isWhite:"white"===e.type}},[a("section",{directives:[{name:"show",rawName:"v-show",value:e.desc,expression:"desc"}],staticClass:"desc"},[e._t("desc",[e._v(e._s(e.desc))])],2),a("main",{staticClass:"content"},[e._t("content",[e._v(e._s(e.content))])],2)])])},c=[],s=a("d225"),n=a("b0b4"),r=a("308d"),o=a("6bb5"),l=a("4e2b"),u=a("9ab4"),m=a("60a3"),b=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"back",value:function(){this.$router.back()}}]),t}(m["c"]);Object(u["a"])([Object(m["b"])()],b.prototype,"msg",void 0),Object(u["a"])([Object(m["b"])({default:"",required:!0})],b.prototype,"title",void 0),Object(u["a"])([Object(m["b"])({default:""})],b.prototype,"type",void 0),Object(u["a"])([Object(m["b"])({default:""})],b.prototype,"desc",void 0),Object(u["a"])([Object(m["b"])({default:""})],b.prototype,"content",void 0),Object(u["a"])([Object(m["b"])({default:!0})],b.prototype,"isBack",void 0),b=Object(u["a"])([m["a"]],b);var d=b,f=d,p=(a("ca73"),a("2877")),h=Object(p["a"])(f,i,c,!1,null,"0717ebb4",null);t["a"]=h.exports},2222:function(e,t,a){"use strict";var i=a("d7c3"),c=a.n(i);c.a},"2b1f":function(e,t,a){},"3a45":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"page-move"}},[a("router-view",{staticClass:"cube-view"})],1)},c=[],s={},n=s,r=(a("72ee"),a("2877")),o=Object(r["a"])(n,i,c,!1,null,null,null);t["a"]=o.exports},"72ee":function(e,t,a){"use strict";var i=a("2b1f"),c=a.n(i);c.a},"8ddf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page",{attrs:{title:e.className}},[a("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"form-box"},[a("cube-form",{attrs:{model:e.form,"immediate-validate":!1},on:{validate:e.validateHandler,submit:e.submitHandler,reset:e.resetHandler}},[a("cube-form-group",[a("cube-form-item",{attrs:{field:e.fields[0]}}),a("cube-form-item",{attrs:{field:e.fields[1]}}),e._l(e.form.timeValue,function(t,i){return a("cube-form-item",{key:i,attrs:{field:{modelKey:"timeValue",label:"发车时间"+(i+1),rules:{required:!0}}}},[a("cube-button",{staticClass:"select-btn",attrs:{inline:!0,primary:!0},on:{click:function(t){return e.showDatePicker(i)}}},[e._v(e._s(e.form.timeValue[i]?e.form.timeValue[i]:"选择时间"))]),a("cube-button",{attrs:{inline:!0,primary:!0,outline:!0},on:{click:function(t){return e.deleteTimeValue(i)}}},[e._v("删除")])],1)}),a("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.form.timeValue.length<5,expression:"form.timeValue.length < 5"}],attrs:{inline:!0,primary:!0},on:{click:e.addTime}},[e._v("添加时间")])],2),a("cube-form-group",[a("cube-button",{attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])])},c=[],s=a("d225"),n=a("b0b4"),r=a("308d"),o=a("6bb5"),l=a("4e2b"),u=a("9ab4"),m=a("60a3"),b=a("07e8"),d=a("3a45"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(r["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.className="点位选择",e.showBtn=!1,e.form={name:"",taskType:"time",timeValue:[],state:!0},e.dateTimePicker=null,e.fields=[{type:"input",modelKey:"name",label:"任务名称",props:{placeholder:"请输入"},rules:{required:!0}},{type:"radio-group",modelKey:"taskType",label:"任务类型",props:{options:[{label:"指定时间",value:"time"}]},rules:{required:!0}},{modelKey:"timeValue",label:"发车时间",rules:{required:!0}},{modelKey:"state",label:"开启任务"}],e.backInfo={},e.backType="",e}return Object(l["a"])(t,e),Object(n["a"])(t,[{key:"addTime",value:function(){this.form.timeValue.push("")}},{key:"showDatePicker",value:function(e){var t=this;"time"===this.form.taskType&&(this.dateTimePicker=this.$createDatePicker({title:"发车时间",min:new Date,max:new Date(2060,9,20,20,59,59),value:new Date(this.form.timeValue[e]),columnCount:5,format:{year:"YYYY年",month:"MM月",date:"D 日",hour:"hh点",minute:"mm分"},onSelect:function(a){t.selectHandle(e,a)},onCancel:this.cancelHandle}),this.dateTimePicker.show())}},{key:"formatDate",value:function(e){var t=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2),c=("0"+e.getHours()).slice(-2),s=("0"+e.getMinutes()).slice(-2),n=("0"+e.getSeconds()).slice(-2);return"".concat(t,"-").concat(a,"-").concat(i," ").concat(c,":").concat(s,":").concat(n)}},{key:"deleteTimeValue",value:function(e){this.form.timeValue.splice(e,1)}},{key:"selectHandle",value:function(e,t){this.$set(this.form.timeValue,e,this.formatDate(t))}},{key:"cancelHandle",value:function(){}},{key:"hidePopup",value:function(e){var t=this.$refs[e];t.hide()}},{key:"submitHandler",value:function(e){e.preventDefault(),this.form.timeValue.length<=0?this.$createDialog({type:"alert",icon:"cubeic-alert",showClose:!0,title:"发车时间未添加"}).show():(this.$store.commit("SET_BACK_DATA",{route:"fleetTask",data:{type:this.backType,data:this.form}}),this.$router.back())}},{key:"mounted",value:function(){var e=this.$route.query,t=e.type;this.backType=t,this.className="add"===t?"添加任务":"更新任务"}},{key:"showToastType",value:function(){var e=this.$createToast({txt:"保存成功",type:"correct"});e.show()}}]),t}(m["c"]);f=Object(u["a"])([Object(m["a"])({components:{page:b["a"],pageView:d["a"]}})],f);var p=f,h=p,v=(a("2222"),a("2877")),y=Object(v["a"])(h,i,c,!1,null,"4237f0fc",null);t["default"]=y.exports},b13e:function(e,t,a){},ca73:function(e,t,a){"use strict";var i=a("b13e"),c=a.n(i);c.a},d7c3:function(e,t,a){}}]);
//# sourceMappingURL=fleetTaskUpdate.89c38683.js.map