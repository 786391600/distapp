(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payoffConfig"],{"07e8":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cube-page",class:e.type},[a("header",{staticClass:"header"},[a("h1",[e._v(e._s(e.title))]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:e.back}}),a("div",{staticClass:"header-edit"},[e._t("edit")],2)]),a("div",{class:{wrapper:!0,isWhite:"white"===e.type}},[a("section",{directives:[{name:"show",rawName:"v-show",value:e.desc,expression:"desc"}],staticClass:"desc"},[e._t("desc",[e._v(e._s(e.desc))])],2),a("main",{staticClass:"content"},[e._t("content",[e._v(e._s(e.content))])],2)])])},o=[],s=a("d225"),i=a("b0b4"),c=a("308d"),r=a("6bb5"),l=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=function(e){function t(){return Object(s["a"])(this,t),Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"back",value:function(){this.$router.back()}}]),t}(p["c"]);Object(u["a"])([Object(p["b"])()],d.prototype,"msg",void 0),Object(u["a"])([Object(p["b"])({default:"",required:!0})],d.prototype,"title",void 0),Object(u["a"])([Object(p["b"])({default:""})],d.prototype,"type",void 0),Object(u["a"])([Object(p["b"])({default:""})],d.prototype,"desc",void 0),Object(u["a"])([Object(p["b"])({default:""})],d.prototype,"content",void 0),Object(u["a"])([Object(p["b"])({default:!0})],d.prototype,"isBack",void 0),d=Object(u["a"])([p["a"]],d);var b=d,f=b,v=(a("724a"),a("2877")),y=Object(v["a"])(f,n,o,!1,null,"758695be",null);t["a"]=y.exports},"16b8":function(e,t,a){"use strict";var n=a("f80c"),o=a.n(n);o.a},"2f6b":function(e,t,a){},"724a":function(e,t,a){"use strict";var n=a("2f6b"),o=a.n(n);o.a},"78c5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page",{attrs:{title:e.className}},[a("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[a("cube-form",{ref:"addForm",attrs:{model:e.model,schema:e.schema,"immediate-validate":!1,options:e.options},on:{validate:e.validateHandler,submit:e.submitHandler,reset:e.resetHandler}})],1)])},o=[],s=a("d225"),i=a("b0b4"),c=a("308d"),r=a("6bb5"),l=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=a("07e8"),b=a("3a45"),f=a("c88e"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payoffForm"},[a("cube-input",{staticClass:"input",staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{type:"number"},on:{blur:e.perChange},model:{value:e.data.per,callback:function(t){e.$set(e.data,"per",t)},expression:"data.per"}}),a("span",{staticClass:"span"},[e._v("%")]),a("cube-input",{staticClass:"input",staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{type:"number",step:"0.01"},on:{blur:e.perChange},model:{value:e.data.money,callback:function(t){e.$set(e.data,"money",t)},expression:"data.money"}}),a("span",{staticClass:"span"},[e._v("元")])],1)},y=[],h=(a("456d"),a("ac6a"),function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.data=Object(f["a"])(e.value),e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"perChange",value:function(e){var t=this;Object.keys(this.data).forEach(function(e){"number"!==typeof t.data[e]?t.data[e]=0:t.data[e]=parseFloat(t.data[e])}),this.$emit("input",this.data)}}]),t}(p["c"]));Object(u["a"])([Object(p["b"])({default:{per:0,money:0}})],h.prototype,"value",void 0),h=Object(u["a"])([Object(p["a"])({components:{page:d["a"]}})],h);var m=h,O=m,j=(a("16b8"),a("2877")),k=Object(j["a"])(O,v,y,!1,null,"485021e0",null),g=k.exports,_=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.className="发薪方案",e.validity={},e.valid=void 0,e.model={0:{per:0,money:0},1:{per:0,money:0}},e.schema={groups:[{fields:[{component:g,modelKey:"0",label:"帮我取薪资",rules:{required:!0,require:function(e){return"number"===typeof e.per&&"number"===typeof e.money}},messages:{require:"方案数字必填"}},{component:g,modelKey:"1",label:"帮我做薪资",rules:{required:!0,require:function(e){return"number"===typeof e.per&&"number"===typeof e.money}},messages:{require:"方案数字必填"}}]},{fields:[{type:"submit",label:"保存"}]}]},e.options={scrollToInvalidField:!0,layout:"standard"},e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"submitHandler",value:function(e){e.preventDefault(),console.log(this.model,"ppppppppppppppp"),this.saveSchoolInfo("payoffConfig",this.model)}},{key:"validateHandler",value:function(e){this.validity=e.validity,this.valid=e.valid,console.log("validity",e.validity,e.valid,e.dirty,e.firstInvalidFieldIndex)}},{key:"reset",value:function(e){this.$refs.addForm.reset()}},{key:"saveSchoolInfo",value:function(e,t){var a=this;this.$store.dispatch("updateSchoolInfo",{schoolId:this.schoolInfo.id,type:e,value:t}).then(function(n){n.success&&a.showToastType(),a.$store.commit("SET_SCHOOL_INFO_BY_TYPE",{type:e,value:t})})}},{key:"showToastType",value:function(){var e=this.$createToast({txt:"保存成功",type:"correct"});e.show()}},{key:"initModelData",value:function(){Object(f["a"])(this.schoolInfo.payoffConfig||{0:{per:0,money:0},1:{per:0,money:0}})}},{key:"mounted",value:function(){this.initModelData()}},{key:"schoolInfo",get:function(){return this.$store.state.schoolInfo}}]),t}(p["c"]);_=Object(u["a"])([Object(p["a"])({components:{page:d["a"],pageView:b["a"]}})],_);var w=_,C=w,I=Object(j["a"])(C,n,o,!1,null,"3ec36a58",null);t["default"]=I.exports},b0b4:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("85f2"),o=a.n(n);function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),o()(e,n.key,n)}}function i(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}},c88e:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("7618");a("3b2b"),a("a481");var o=function e(t){var a;if("object"===Object(n["a"])(t))if(null===t)a=null;else if(t instanceof Date)a=t;else if(t instanceof Array){a=[];for(var o=0,s=t.length;o<s;o++)a.push(e(t[o]))}else for(var i in a={},t)a[i]=e(t[i]);else a=t;return a}},f80c:function(e,t,a){}}]);
//# sourceMappingURL=payoffConfig.e8383642.js.map