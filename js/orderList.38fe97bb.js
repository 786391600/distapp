(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderList"],{"0355":function(t,e,i){},"15b6":function(t,e,i){},4e3:function(t,e,i){},5701:function(t,e,i){},6120:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderList"},[i("div",{staticClass:"race-list"},[t._l(t.orderList,function(e){return i("div",{staticClass:"order-box"},[i("div",{staticClass:"order-box-tit"},[i("span",{staticClass:"time"}),i("span",{staticClass:"type"},[t._v(t._s(t._f("getType")(e)))])]),i("div",{staticClass:"order-box-con"},t._l(e.commodityList,function(e){return i("div",{staticClass:"order-box-con-box"},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.imgUrl,expression:"commodity.imgUrl"}],attrs:{src:e.imgUrl}}),i("div",[t._v(t._s(e.name)+"×"+t._s(e.num))])])}),0),i("div",[i("span",[t._v("下单时间:"+t._s(t._f("getFormatDate")(e.payTime)))])]),i("div",{staticClass:"user"},[i("div",{staticClass:"tip"},[t._v("有任何问题，请联系配送人员。")]),i("div",{staticClass:"info"},[i("a",{attrs:{href:"tel:13934691550"}},[i("span",[t._v("13934691550")]),i("i",{staticClass:"cubeic-phone"})])])])])}),t.isShowMore?i("div",{staticClass:"more",on:{click:t.showMoreClick}},[t._v("加载更多")]):t._e(),t.isShowMore?t._e():i("div",{staticClass:"more"},[t._v("没有数据了")])],2)])},s=[],n=(i("3b2b"),i("a481"),i("d225")),o=i("b0b4"),c=i("308d"),r=i("6bb5"),d=i("4e2b"),u=i("9ab4"),l=i("60a3"),h=i("b312"),f=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(c["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.openid="",t.page=1,t.orderList=[],t.isShowMore=!1,t}return Object(d["a"])(e,t),Object(o["a"])(e,[{key:"activated",value:function(){this.orderList=[{fee:.28,body:"集合订单",out_trade_no:"20201003165943225",userId:"oJ-T_0irr1zac2cWKuSmRDp-xWWM",commodityList:[{id:"bc8f37d0-fb41-11ea-8a76-532bd2785fca",name:"巨峰葡萄",num:1,price:"0.1"},{id:"cd394000-fb53-11ea-90c2-8585cc3e4cd4",name:"山东秋月梨 秋月冰糖梨 礼盒装脆甜梨子莱阳梨 羊脂秋月梨梨5",num:1,price:"0.02"},{id:"14067010-0244-11eb-a74a-f3981c383190",name:"哈密瓜",num:1,price:"0.01"},{id:"59fb86a0-0244-11eb-a74a-f3981c383190",name:"橙子",num:1,price:"0.02"},{id:"0889c5c0-fb00-11ea-a4a8-297c219632b8",name:"小油菜",num:1,price:"0.01"},{id:"eda03540-fb4b-11ea-a0c9-89bd040e4daa",name:"鸡蛋",num:1,price:"0.1"},{id:"0492dc50-0243-11eb-a74a-f3981c383190",name:"新西兰原装进口高钙儿童牛奶 安佳（Anchor）金装高钙儿童牛奶 190ml*27 整箱装",num:1,price:"0.01"},{id:"d07eba90-0244-11eb-a74a-f3981c383190",name:"白菜",num:1,price:"0.01"}],type:"commodity",payTime:1601715583388}],this.$store.commit("SET_SESSION_ID","noSession"),this.pageInit()}},{key:"pageInit",value:function(){var t=this.$route.query;t.openid?(this.openid=t.openid,this.getOrderList()):t.code&&this.getUserInfo()}},{key:"getOrderList",value:function(){var t=this,e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getOrderList",{openid:this.openid,page:this.page}).then(function(i){if(i.success){var a=i.data;i.data.list.length>=0&&i.data.list.length<10?(t.orderList=t.orderList.concat(a.list),t.isShowMore=!1):10===i.data.list.length?(t.orderList=t.orderList.concat(a.list),t.isShowMore=!0):t.isShowMore=!1}e.hide()})}},{key:"getUserInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var i=this["$createToast"]({time:0,txt:"数据获取中..."});i.show(),this.$store.dispatch("getCommodityUserInfo",{code:e.code}).then(function(e){e.success&&e.data.openid&&(t.openid=e.data.openid,t.getOrderList(),e.data.userInfo&&(t.userInfo=e.data.userInfo)),i.hide()})}else console.log("不是微信登陆")}},{key:"showMoreClick",value:function(){this.page++,this.getOrderList()}},{key:"format",value:function(t,e){e||(e="yyyy-MM-dd hh:mm:ss");var i={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e}},{key:"formatMonth",get:function(){return this.format(this.selectDate,"yyyy-MM")}}]),e}(l["c"]);f=Object(u["a"])([Object(l["a"])({components:{accountSelect:h["a"]},filters:{getFormatDate:function(t){return t?new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()+"号":""},getImage:function(t){return t.commodity_info[0]&&t.commodity_info[0].imgUrlList?t.commodity_info[0].imgUrlList[0]:""},getType:function(t){return"processed"===t.state?"配送成功":"配送中"}}})],f);var m=f,p=m,g=(i("dd8f"),i("894e"),i("2877")),b=Object(g["a"])(p,a,s,!1,null,"6dabfaed",null);e["default"]=b.exports},"894e":function(t,e,i){"use strict";var a=i("5701"),s=i.n(a);s.a},b312:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"accountSelect"},[i("div",{staticClass:"address"},[i("div",{staticClass:"info"},[i("i",{staticClass:"iconfont iconxiaoqu1"}),i("cube-select",{attrs:{options:t.accountOptions},on:{change:t.accountChange},model:{value:t.accountId,callback:function(e){t.accountId=e},expression:"accountId"}})],1)])])},s=[],n=(i("ac6a"),i("a481"),i("d225")),o=i("b0b4"),c=i("308d"),r=i("6bb5"),d=i("4e2b"),u=i("9ab4"),l=i("60a3"),h=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(c["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.accountList=[],t.accountId="",t}return Object(d["a"])(e,t),Object(o["a"])(e,[{key:"activated",value:function(){this.accountId?this.$emit("change",this.accountId):this.pageInit()}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var i=this["$createToast"]({time:0,txt:"数据获取中..."});i.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),t.getAdminAccountList())),i.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;this.$store.state.sessionId&&!this.accountId?this.getAdminAccountList():t.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getAdminAccountList",value:function(){var t=this,e=this;this.$store.dispatch("getAdminAccountList",{}).then(function(i){i.data.list&&(i.data.list.forEach(function(t,i){e.$set(e.accountList,i,t)}),t.accountId||(t.accountId=t.accountList[0].id))})}},{key:"getFloorByAccountId",value:function(){var t=this,e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getFloorByAccountId",{accountId:this.accountId}).then(function(i){i.success&&("incomplete"===t.selectedLabelDefault?(t.billList=i.data.list,t.initCheckbox()):i.data.list.length>0?t.billList=t.billList.concat(i.data.list):t.isShowMore=!1),e.hide()})}},{key:"accountChange",value:function(t){var e={};this.accountOptions.forEach(function(i){i.id===t&&(e=i)}),this.$emit("change",t,e)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"accountOptions",get:function(){return this.accountList.forEach(function(t){t.value=t.id,t.text=t.name}),this.accountList}}]),e}(l["c"]);Object(u["a"])([Object(l["d"])("accountId")],h.prototype,"accountChange",null),h=Object(u["a"])([Object(l["a"])({components:{},filters:{}})],h);var f=h,m=f,p=(i("c530"),i("b77c"),i("2877")),g=Object(p["a"])(m,a,s,!1,null,"220f41c5",null);e["a"]=g.exports},b77c:function(t,e,i){"use strict";var a=i("0355"),s=i.n(a);s.a},c530:function(t,e,i){"use strict";var a=i("15b6"),s=i.n(a);s.a},dd8f:function(t,e,i){"use strict";var a=i("4000"),s=i.n(a);s.a}}]);
//# sourceMappingURL=orderList.38fe97bb.js.map