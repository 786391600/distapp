{"version":3,"sources":["webpack:///./src/views/repair/index.vue?ed7d","webpack:///./src/views/repair/index.vue?b99a","webpack:///./src/views/repair/index.vue?7c99","webpack:///./src/views/repair/index.vue","webpack:///./src/views/repair/index.vue?7b2d","webpack:///./src/views/repair/index.vue?2b3c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","tabBarList","on","tabBarChange","model","value","callback","$$v","selectedLabelDefault","expression","title","houseOptions","placeholder","autoPop","disabled","houseChange","houseId","options","validateHandler","submitHandler","fields","_v","staticRenderFns","details","type","modelKey","props","maxlength","autoExpand","autofocus","label","text","valid","undefined","validity","time","sendMsgDisabled","isVerification","openid","jump","actions","action","selectCost","totalCost","checkList","billList","page","isShowMore","pageInit","result","console","log","dirty","firstInvalidFieldIndex","query","$route","code","toast","txt","show","$store","dispatch","then","response","success","data","$router","replace","path","sessionId","commit","userInfo","getHouseList","hide","state","getBindingInfo","list","listData","id","getBillListByHouseId","propB","houseList","forEach","obj","account_info","name","build_info","unitNum","floorNum","roomNum","default","components","HelloWorld","filters","getFormatDate","date","Date","getFullYear","getMonth","getDate","fenToYuan","num","isNaN","toFixed","billType","component"],"mappings":"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","file":"js/repair.597cb372.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1863e8d2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1863e8d2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"repair\"},[_c('div',{staticClass:\"swipe-wrapper\"},[_c('cube-tab-bar',{attrs:{\"data\":_vm.tabBarList},on:{\"change\":_vm.tabBarChange},model:{value:(_vm.selectedLabelDefault),callback:function ($$v) {_vm.selectedLabelDefault=$$v},expression:\"selectedLabelDefault\"}}),_c('div',{staticClass:\"address\"},[_c('div',{staticClass:\"info\"},[_c('i',{staticClass:\"iconfont iconxiaoqu1\"}),_c('cube-select',{attrs:{\"title\":_vm.title,\"options\":_vm.houseOptions,\"placeholder\":_vm.placeholder,\"auto-pop\":_vm.autoPop,\"disabled\":_vm.disabled},on:{\"change\":_vm.houseChange},model:{value:(_vm.houseId),callback:function ($$v) {_vm.houseId=$$v},expression:\"houseId\"}})],1)]),_c('div',[_c('cube-form',{staticClass:\"home-form\",attrs:{\"model\":_vm.model,\"options\":_vm.options},on:{\"validate\":_vm.validateHandler,\"submit\":_vm.submitHandler}},[_c('cube-form-group',[_c('div',[_c('cube-form-item',{attrs:{\"field\":_vm.fields[0]}})],1),_c('div',[_c('cube-form-item',{attrs:{\"field\":_vm.fields[1]}})],1)]),_c('cube-form-group',[_c('cube-button',{staticClass:\"submit\",attrs:{\"type\":\"submit\"}},[_vm._v(\"点击报修\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\r\nimport HelloWorld from '@/components/HelloWorld.vue' // @ is an alias to /src\r\nimport wx from 'weixin-js-sdk'\r\nimport { formatDate } from '@/until/index'\r\n\r\n@Component({\r\n  components: {\r\n    HelloWorld\r\n  },\r\n  filters: {\r\n    getFormatDate (date: any) {\r\n      return new Date(date).getFullYear() + '年' + (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate()\r\n    },\r\n    fenToYuan (num: any) {\r\n      if (typeof num !== 'number' || isNaN(num)) return null\r\n      return '¥' + (num / 100).toFixed(2)\r\n    },\r\n    billType (type: any) {\r\n      if (type === 'property') {\r\n        return '物业费用'\r\n      } else {\r\n        return '其他费用'\r\n      }\r\n    }\r\n  }\r\n})\r\nexport default class Home extends Vue {\r\n  $createDialog : any\r\n  $createToast : any\r\n  // 声明周期钩子\r\n  model = { details: '', type: 'type1' }\r\n  fields = [\r\n             { \r\n              type: 'textarea', \r\n              modelKey: 'details', \r\n              props: { placeholder: '请描述您要报修的详情...', maxlength: '100', autoExpand: true, autofocus: true }\r\n            }, \r\n            { \r\n              type: 'select',\r\n              modelKey: 'type',\r\n              label: '报修类型',\r\n              props: { \r\n                placeholder: '请输入',\r\n                type: 'text',\r\n                options: [\r\n                  {\r\n                    text: '开锁服务',\r\n                    value: 'type1'\r\n                  },\r\n                  {\r\n                    text: '公共报修',\r\n                    value: 'type2'\r\n                  },\r\n                  {\r\n                    text: '个人报修',\r\n                    value: 'type3'\r\n                  }\r\n                ]\r\n             }\r\n            }\r\n          ]\r\n  valid = undefined\r\n  validity = {}\r\n  options = {}\r\n  time = 60 // 验证码等待时间\r\n  sendMsgDisabled = false\r\n  isVerification = false // 是否需要开启验证码\r\n  openid = ''\r\n  jump = '' // 登陆成功跳转页\r\n\r\n  actions = [\r\n    {\r\n      text: '合计 ¥00.00',\r\n      action: 'moreMoney'\r\n    },\r\n    {\r\n      type: 'button',\r\n      text: '<div class=\"payButton\">立即缴费</div>',\r\n      action: 'payButtonClick'\r\n    }\r\n  ]\r\n  selectCost = 0 // 选择总费用 单位 分\r\n  totalCost = 0 // 总费用 单位 分\r\n  checkList: any = []\r\n  billList = []\r\n  houseId = ''\r\n  // tab切换配置\r\n  selectedLabelDefault = 'incomplete'\r\n  tabBarList = [{\r\n    label: '快捷报修',\r\n    value: 'incomplete'\r\n  }, {\r\n    label: '报修记录',\r\n    value: 'complete'\r\n  }]\r\n\r\n  // 已缴费用\r\n  page = 1\r\n  isShowMore = true\r\n\r\n  activated () {\r\n    // this.getWeiXinConfig()\r\n    this.pageInit()\r\n  }\r\n\r\n  @Prop({ default: 'default value' }) readonly propB!: string\r\n\r\n  // 计算属性\r\n  get computedMsg () {\r\n    return 'computed ' + this.propB\r\n  }\r\n  validateHandler (result : any) {\r\n    this.validity = result.validity\r\n    this.valid = result.valid\r\n    console.log(result)\r\n    console.log('validity', result.validity, result.valid, result.dirty, result.firstInvalidFieldIndex)\r\n  }\r\n  getBindingInfo () {\r\n    let query = this.$route.query\r\n    if (query.code) {\r\n      const toast = this['$createToast']({\r\n        time: 0,\r\n        txt: '数据获取中...'\r\n      })\r\n      toast.show()\r\n      this.$store.dispatch('getCodeInfo', { code: query.code }).then((response) => {\r\n        if (response.success) {\r\n          if (response.data.openid) {\r\n            this.openid = response.data.openid\r\n            this.$router.replace({ path: '/login', query: { openid: response.data.openid, jump: '/home' } })\r\n          } else if (response.data.sessionId) {\r\n            this.$store.commit('SET_SESSION_ID', response.data.sessionId)\r\n            this.$store.commit('SET_USER_INFO', response.data.userInfo)\r\n            this.getHouseList()\r\n          }\r\n        }\r\n        toast.hide()\r\n      })\r\n    } else {\r\n      console.log('不是微信登陆')\r\n    }\r\n  }\r\n  pageInit () {\r\n    let query = this.$route.query\r\n    if (query.houseId) {\r\n      this.houseId = query.houseId\r\n    }\r\n    if (this.$store.state.sessionId && !this.houseId) {\r\n      this.getHouseList()\r\n    } else if (query.code && !this.$store.state.sessionId) {\r\n      this.getBindingInfo()\r\n    }\r\n  }\r\n\r\n  getHouseList () {\r\n    this.$store.dispatch('getHouseList', {}).then((response) => {\r\n      if (response.data.list) {\r\n        this.listData = response.data.list\r\n        if (!this.houseId) {\r\n          this.houseId = this.listData[0].id\r\n        }\r\n        this.$store.commit('SET_HOUSE_LIST', this.listData)\r\n      }\r\n    })\r\n  }\r\n\r\n  tabBarChange (value:any) {\r\n    this.page = 1\r\n    this.isShowMore = true\r\n    this.billList = []\r\n    this.getBillListByHouseId()\r\n  }\r\n  showMoreClick () {\r\n    this.page++\r\n    this.getBillListByHouseId()\r\n  }\r\n\r\n  get houseOptions () {\r\n    this.$store.state.houseList.forEach((obj) =>{\r\n      obj.value = obj.id\r\n      obj.text = obj.account_info[0].name + ' ' + obj.build_info[0].name + ' '+ obj.unitNum + '单元' + obj.floorNum + '层' + obj.roomNum + '室'\r\n    })\r\n    return this.$store.state.houseList\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--18-2!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1863e8d2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1863e8d2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1863e8d2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}