{"version":3,"sources":["webpack:///./src/views/proDetails/orderAdmin.vue?e55d","webpack:///./src/views/proDetails/orderAdmin.vue","webpack:///./src/views/proDetails/orderAdmin.vue?c10b","webpack:///./src/views/proDetails/orderAdmin.vue?d5c2","webpack:///./src/views/proDetails/orderAdmin.vue?9faa","webpack:///./src/views/proDetails/orderAdmin.vue?e9e6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","tabBarList","on","tabBarChange","model","value","callback","$$v","selectedLabelDefault","expression","_l","item","_v","_s","_f","payTime","body","num","fee","directives","name","rawName","$event","updateRepairState","out_trade_no","showMoreClick","_e","isShowMore","staticRenderFns","Home","arguments","details","type","houseId","label","page","repairList","$store","commit","pageInit","query","$route","openid","getCommodityOrderList","code","getUserInfo","result","validity","valid","console","log","dirty","firstInvalidFieldIndex","toast","time","txt","show","dispatch","then","response","success","data","userInfo","hide","list","length","concat","id","content","icon","state","houseList","forEach","obj","text","account_info","build_info","unitNum","floorNum","roomNum","Vue","__decorate","Prop","default","prototype","Component","components","filters","getFormatDate","date","Date","getFullYear","getMonth","getDate","getPhone","user_info","phone","getAddress","address","component"],"mappings":"qHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,KAAOP,EAAIQ,YAAYC,GAAG,CAAC,OAAST,EAAIU,cAAcC,MAAM,CAACC,MAAOZ,EAAwB,qBAAEa,SAAS,SAAUC,GAAMd,EAAIe,qBAAqBD,GAAKE,WAAW,0BAA0BZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIiB,GAAIjB,EAAc,WAAE,SAASkB,GAAM,OAAOd,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,GAAG,gBAAPrB,CAAwBkB,EAAKI,aAA2C,cAA7BtB,EAAIe,qBAAsCX,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAImB,GAAG,UAAUf,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAImB,GAAG,WAAWf,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,UAAUf,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGF,EAAKK,WAAWnB,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,QAAQf,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGF,EAAKM,UAAUpB,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,QAAQf,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGF,EAAKO,KAAK,SAASrB,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,QAAQf,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,GAAG,WAAPrB,CAAmBkB,SAAYd,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAImB,GAAG,UAAUf,EAAG,OAAO,CAACJ,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,GAAG,aAAPrB,CAAqBkB,WAAcd,EAAG,cAAc,CAACsB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAShB,MAAoC,gBAA7BZ,EAAIe,qBAAwCC,WAAW,2CAA6CV,YAAY,YAAYG,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO7B,EAAI8B,kBAAkBZ,EAAKa,iBAAiB,CAAC/B,EAAImB,GAAG,WAAW,KAAMnB,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,OAAOG,GAAG,CAAC,MAAQT,EAAIgC,gBAAgB,CAAChC,EAAImB,GAAG,UAAUnB,EAAIiC,KAAOjC,EAAIkC,WAA6DlC,EAAIiC,KAArD7B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAImB,GAAG,YAAqB,IAAI,MACzyDgB,EAAkB,G,gGCClBC,EAAI,YACJ,aAAc,oCACV,mDAASC,YAET,EAAK1B,MAAQ,CAAE2B,QAAS,GAAIC,KAAM,SAClC,EAAKC,QAAU,GAEf,EAAKzB,qBAAuB,cAC5B,EAAKP,WAAa,CAAC,CACXiC,MAAO,MACP7B,MAAO,eACR,CACC6B,MAAO,MACP7B,MAAO,cAGf,EAAK8B,KAAO,EACZ,EAAKR,YAAa,EAClB,EAAKS,WAAa,GAjBR,EADV,+EAsBA1C,KAAK2C,OAAOC,OAAO,iBAAkB,aACrC5C,KAAK6C,aAvBL,iCA0BA,IAAIC,EAAQ9C,KAAK+C,OAAOD,MACpBA,EAAME,QACNhD,KAAKgD,OAASF,EAAME,OACpBhD,KAAKiD,yBAEAH,EAAMI,MACXlD,KAAKmD,gBAhCT,sCAmCYC,GACZpD,KAAKqD,SAAWD,EAAOC,SACvBrD,KAAKsD,MAAQF,EAAOE,MACpBC,QAAQC,IAAIJ,GACZG,QAAQC,IAAI,WAAYJ,EAAOC,SAAUD,EAAOE,MAAOF,EAAOK,MAAOL,EAAOM,0BAvC5E,oCAyCU,WACNZ,EAAQ9C,KAAK+C,OAAOD,MACxB,GAAIA,EAAMI,KAAM,CACZ,IAAMS,EAAQ3D,KAAK,gBAAgB,CAC/B4D,KAAM,EACNC,IAAK,aAETF,EAAMG,OACN9D,KAAK2C,OAAOoB,SAAS,uBAAwB,CAAEb,KAAMJ,EAAMI,OAAQc,KAAK,SAACC,GACjEA,EAASC,SACLD,EAASE,KAAKnB,SACd,EAAKA,OAASiB,EAASE,KAAKnB,OAC5B,EAAKC,wBACDgB,EAASE,KAAKC,WACd,EAAKA,SAAWH,EAASE,KAAKC,WAK1CT,EAAMU,cAIVd,QAAQC,IAAI,YAhEhB,mCAmES7C,GACTX,KAAKyC,KAAO,EACZzC,KAAK0C,WAAa,GAClB1C,KAAKiC,YAAa,EAClBjC,KAAKiD,0BAvEL,8CAmFoB,WACdU,EAAQ3D,KAAK,gBAAgB,CAC/B4D,KAAM,EACNC,IAAK,aAETF,EAAMG,OACN9D,KAAK2C,OAAOoB,SAAS,wBAAyB,CAAEtB,KAAMzC,KAAKyC,KAAMH,KAAMtC,KAAKc,uBAAwBkD,KAAK,SAACC,GAClGA,EAASC,UACTX,QAAQC,IAAIS,EAASE,KAAKG,MACtBL,EAASE,KAAKG,KAAKC,OAAS,EAC5B,EAAK7B,WAAa,EAAKA,WAAW8B,OAAOP,EAASE,KAAKG,MAGvD,EAAKrC,YAAa,GAG1B0B,EAAMU,WAnGV,sCAuGArE,KAAKyC,OACLzC,KAAKiD,0BAxGL,wCA0GcwB,GAAI,WAClBzE,KAAK2C,OAAOoB,SAAS,4BAA6B,CAAEjC,aAAc2C,IAAMT,KAAK,SAACC,GACtEA,EAASC,UACT,EAAK,iBAAiB,CAClB5B,KAAM,QACNoC,QAAS,OACTC,KAAM,cACPb,OACH,EAAKrD,oBAlHb,mCA8EA,OAJAT,KAAK2C,OAAOiC,MAAMC,UAAUC,QAAQ,SAACC,GACjCA,EAAIpE,MAAQoE,EAAIN,GAChBM,EAAIC,KAAOD,EAAIE,aAAa,GAAGvD,KAAO,IAAMqD,EAAIG,WAAW,GAAGxD,KAAO,IAAMqD,EAAII,QAAU,KAAOJ,EAAIK,SAAW,IAAML,EAAIM,QAAU,MAEhIrF,KAAK2C,OAAOiC,MAAMC,YA9EzB,+BAiFA,OAAO7E,KAAK2C,OAAOiC,MAAMR,aAjFzB,GAAsBkB,QAuH9BC,eAAW,CACPC,eAAK,CAAEC,QAAS,mBACjBtD,EAAKuD,UAAW,aAAS,GAC5BvD,EAAOoD,eAAW,CACdI,eAAU,CACNC,WAAY,GACZC,QAAS,CACLC,cADK,SACSC,GACV,OAAO,IAAIC,KAAKD,GAAME,cAAgB,KAAO,IAAID,KAAKD,GAAMG,WAAa,GAAK,IAAM,IAAIF,KAAKD,GAAMI,UAAY,KAEnHC,SAJK,SAIInF,GACL,OAAIA,GAAQA,EAAKoF,UACNpF,EAAKoF,UAAU,GAAGC,MAGlB,IAGfC,WAZK,SAYMtF,GACP,OAAIA,GAAQA,EAAKoF,UACNpF,EAAKoF,UAAU,GAAGG,QAGlB,QAKxBrE,GACYA,QCtJmZ,I,kCCS9ZsE,EAAY,eACd,EACA3G,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAuE,E,6CCpBf,yBAAslB,EAAG,G,6DCAzlB,yBAA8jB,EAAG,G","file":"js/orderAdmin.6f19adf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderAdmin\"},[_c('div',{staticClass:\"swipe-wrapper\"},[_c('cube-tab-bar',{attrs:{\"data\":_vm.tabBarList},on:{\"change\":_vm.tabBarChange},model:{value:(_vm.selectedLabelDefault),callback:function ($$v) {_vm.selectedLabelDefault=$$v},expression:\"selectedLabelDefault\"}}),_c('div',{staticClass:\"repairList\"},[_vm._l((_vm.repairList),function(item){return _c('div',{staticClass:\"repairList-box\"},[_c('div',{staticClass:\"repairList-box-head\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"getFormatDate\")(item.payTime)))]),(_vm.selectedLabelDefault === 'processed')?_c('span',{staticClass:\"processed\"},[_vm._v(\"配送完成\")]):_c('span',{staticClass:\"unprocessed\"},[_vm._v(\"未配送\")])]),_c('div',{staticClass:\"repairList-box-box\"},[_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"商品名称\")]),_c('span',[_vm._v(_vm._s(item.body))])]),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"数量\")]),_c('span',[_vm._v(_vm._s(item.num))])]),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"支付\")]),_c('span',[_vm._v(_vm._s(item.fee)+\"元\")])]),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"手机\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"getPhone\")(item)))])]),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"送货地址\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"getAddress\")(item)))])])]),_c('cube-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedLabelDefault === \"unprocessed\"),expression:\"selectedLabelDefault === \\\"unprocessed\\\"\"}],staticClass:\"repairBtn\",on:{\"click\":function($event){return _vm.updateRepairState(item.out_trade_no)}}},[_vm._v(\"配送完成\")])],1)}),(_vm.isShowMore)?_c('div',{staticClass:\"more\",on:{\"click\":_vm.showMoreClick}},[_vm._v(\"加载更多\")]):_vm._e(),(!_vm.isShowMore)?_c('div',{staticClass:\"more\"},[_vm._v(\"没有数据了\")]):_vm._e()],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nlet Home = class Home extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 声明周期钩子\r\n        this.model = { details: '', type: 'type1' };\r\n        this.houseId = '';\r\n        // tab切换配置\r\n        this.selectedLabelDefault = 'unprocessed';\r\n        this.tabBarList = [{\r\n                label: '未处理',\r\n                value: 'unprocessed'\r\n            }, {\r\n                label: '已处理',\r\n                value: 'processed'\r\n            }];\r\n        // \r\n        this.page = 1;\r\n        this.isShowMore = true;\r\n        this.repairList = [];\r\n    }\r\n    activated() {\r\n        // this.getWeiXinConfig()\r\n        this.$store.commit('SET_SESSION_ID', 'noSession');\r\n        this.pageInit();\r\n    }\r\n    pageInit() {\r\n        let query = this.$route.query;\r\n        if (query.openid) {\r\n            this.openid = query.openid;\r\n            this.getCommodityOrderList();\r\n        }\r\n        else if (query.code) {\r\n            this.getUserInfo();\r\n        }\r\n    }\r\n    validateHandler(result) {\r\n        this.validity = result.validity;\r\n        this.valid = result.valid;\r\n        console.log(result);\r\n        console.log('validity', result.validity, result.valid, result.dirty, result.firstInvalidFieldIndex);\r\n    }\r\n    getUserInfo() {\r\n        let query = this.$route.query;\r\n        if (query.code) {\r\n            const toast = this['$createToast']({\r\n                time: 0,\r\n                txt: '数据获取中...'\r\n            });\r\n            toast.show();\r\n            this.$store.dispatch('getCommodityUserInfo', { code: query.code }).then((response) => {\r\n                if (response.success) {\r\n                    if (response.data.openid) {\r\n                        this.openid = response.data.openid;\r\n                        this.getCommodityOrderList();\r\n                        if (response.data.userInfo) {\r\n                            this.userInfo = response.data.userInfo;\r\n                        }\r\n                        // this.$router.replace({ path: '/login', query: { openid: response.data.openid, jump: '/home' } })\r\n                    }\r\n                }\r\n                toast.hide();\r\n            });\r\n        }\r\n        else {\r\n            console.log('不是微信登陆');\r\n        }\r\n    }\r\n    tabBarChange(value) {\r\n        this.page = 1;\r\n        this.repairList = [];\r\n        this.isShowMore = true;\r\n        this.getCommodityOrderList();\r\n    }\r\n    get houseOptions() {\r\n        this.$store.state.houseList.forEach((obj) => {\r\n            obj.value = obj.id;\r\n            obj.text = obj.account_info[0].name + ' ' + obj.build_info[0].name + ' ' + obj.unitNum + '单元' + obj.floorNum + '层' + obj.roomNum + '室';\r\n        });\r\n        return this.$store.state.houseList;\r\n    }\r\n    get userInfo() {\r\n        return this.$store.state.userInfo;\r\n    }\r\n    getCommodityOrderList() {\r\n        const toast = this['$createToast']({\r\n            time: 0,\r\n            txt: '数据获取中...'\r\n        });\r\n        toast.show();\r\n        this.$store.dispatch('getCommodityOrderList', { page: this.page, type: this.selectedLabelDefault }).then((response) => {\r\n            if (response.success) {\r\n                console.log(response.data.list);\r\n                if (response.data.list.length > 0) {\r\n                    this.repairList = this.repairList.concat(response.data.list);\r\n                }\r\n                else {\r\n                    this.isShowMore = false;\r\n                }\r\n            }\r\n            toast.hide();\r\n        });\r\n    }\r\n    showMoreClick() {\r\n        this.page++;\r\n        this.getCommodityOrderList();\r\n    }\r\n    updateRepairState(id) {\r\n        this.$store.dispatch('updateCommodityOrderState', { out_trade_no: id }).then((response) => {\r\n            if (response.success) {\r\n                this['$createDialog']({\r\n                    type: 'alert',\r\n                    content: '处理完成',\r\n                    icon: 'cubeic-ok'\r\n                }).show();\r\n                this.tabBarChange();\r\n            }\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: 'default value' })\r\n], Home.prototype, \"propB\", void 0);\r\nHome = __decorate([\r\n    Component({\r\n        components: {},\r\n        filters: {\r\n            getFormatDate(date) {\r\n                return new Date(date).getFullYear() + '年' + (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate() + '号';\r\n            },\r\n            getPhone(item) {\r\n                if (item && item.user_info) {\r\n                    return item.user_info[0].phone;\r\n                }\r\n                else {\r\n                    return '';\r\n                }\r\n            },\r\n            getAddress(item) {\r\n                if (item && item.user_info) {\r\n                    return item.user_info[0].address;\r\n                }\r\n                else {\r\n                    return '';\r\n                }\r\n            }\r\n        }\r\n    })\r\n], Home);\r\nexport default Home;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./orderAdmin.vue?vue&type=template&id=56955585&scoped=true&\"\nimport script from \"./orderAdmin.vue?vue&type=script&lang=ts&\"\nexport * from \"./orderAdmin.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./orderAdmin.vue?vue&type=style&index=0&id=56955585&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\nimport style1 from \"./orderAdmin.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56955585\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=style&index=0&id=56955585&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=style&index=0&id=56955585&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdmin.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}