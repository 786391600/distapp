(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commodityManage"],{6331:function(t,s,i){"use strict";var a=i("8c31"),e=i.n(a);e.a},"8c31":function(t,s,i){},d6c5:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("page",{attrs:{title:t.className,type:"white"}},[i("div",{attrs:{slot:"edit"},slot:"edit"},[i("span",{staticClass:"add-btn",on:{click:t.addCommodity}},[t._v("新增商品")])]),i("div",{attrs:{slot:"content"},slot:"content"},[i("pageView"),i("ul",{staticClass:"commodity-list"},t._l(t.commodityList,function(s,a){return i("li",{key:a,staticClass:"commodity-card"},[i("div",[i("p",{staticClass:"title"},[t._v(t._s(s.name))]),i("p",{staticClass:"price"},[t._v("价格："+t._s(s.price)+"元")]),i("p",{staticClass:"price"},[t._v("单位："+t._s(s.unit))]),i("p",{staticClass:"class"},[t._v("分类："+t._s(t.className))])]),i("div",{staticClass:"edit"},[i("cube-button",{attrs:{inline:!0},on:{click:function(i){return t.editCommodity(s)}}},[t._v("编辑")])],1)])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.commodityList.length<=0,expression:"commodityList.length <= 0"}],staticClass:"empy"},[t._v("暂无数据")])],1)])},e=[],c=i("d225"),o=i("b0b4"),d=i("308d"),n=i("6bb5"),m=i("4e2b"),l=i("9ab4"),u=i("60a3"),r=i("07e8"),h=i("bd85"),p=i("3a45"),y=i("7078"),v=function(t){function s(){var t;return Object(c["a"])(this,s),t=Object(d["a"])(this,Object(n["a"])(s).apply(this,arguments)),t.classId="",t.className="",t.shopId="",t.commodityList=[],t.commodityObj={name:"",price:0,unit:"",disabled:!1,number:0,imgUrlList:[]},t}return Object(m["a"])(s,t),Object(o["a"])(s,[{key:"mounted",value:function(){var t=this,s=this.$route.query;this.classId=s.id,this.shopId=s.shopId,this.className=s.name,y["a"].$on("commodityManage",function(s){t.saveSuccess(s.type,s.data)})}},{key:"deactivated",value:function(){this.classId="",this.$set(this,"commodityList",[])}},{key:"idChange",value:function(t){t&&this.getCommodityListByClassId()}},{key:"getCommodityListByClassId",value:function(){var t=this;if(this.classId){var s=this["$createToast"]({time:0,txt:"商品获取中..."});s.show(),this.$store.dispatch("getCommodityListByClassId",{class:this.classId,page:1}).then(function(i){if(i.success){var a=i.data.list;t.$set(t,"commodityList",a),s.hide()}})}}},{key:"addCommodity",value:function(){var t={data:{name:"",price:0,unit:"",disabled:!1,number:0,imgUrlList:[]},classId:this.classId,shopId:this.shopId};this.$router.push({name:"commodityAdd",params:t})}},{key:"saveSuccess",value:function(t,s){var i;"add"===t?this.commodityList.push(s):(this.commodityList.some(function(t,i){if(s.id===t.id)return i=i,!0}),this.$set(this.commodityList,i,s))}},{key:"editCommodity",value:function(t){var s={data:t,classId:this.classId,shopId:this.shopId};this.$router.push({name:"commodityAdd",params:s})}}]),s}(u["c"]);Object(l["a"])([Object(u["d"])("classId")],v.prototype,"idChange",null),v=Object(l["a"])([Object(u["a"])({components:{page:r["a"],commodityAdd:h["default"],pageView:p["a"]}})],v);var b=v,f=b,C=(i("6331"),i("2877")),I=Object(C["a"])(f,a,e,!1,null,"7e3d0178",null);s["default"]=I.exports}}]);
//# sourceMappingURL=commodityManage.df3c2639.js.map