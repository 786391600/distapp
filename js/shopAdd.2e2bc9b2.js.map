{"version":3,"sources":["webpack:///./src/components/common-components/page.vue?7cca","webpack:///./src/components/common-components/page.vue","webpack:///./src/components/common-components/page.vue?ed90","webpack:///./src/components/common-components/page.vue?b1c2","webpack:///./src/views/appcenter/commodityManage/shop-add.vue?716f","webpack:///./src/until/index.js","webpack:///./src/views/appcenter/commodityManage/shop-add.vue","webpack:///./src/views/appcenter/commodityManage/shop-add.vue?4e0b","webpack:///./src/views/appcenter/commodityManage/shop-add.vue?0428","webpack:///./src/components/common-components/image-upload.vue?c944","webpack:///./src/components/common-components/image-upload.vue","webpack:///./src/components/common-components/image-upload.vue?42f2","webpack:///./src/components/common-components/image-upload.vue?9442","webpack:///./src/until/event-bus.js","webpack:///./src/components/common-components/image-upload.vue?895a","webpack:///./src/views/appcenter/commodityManage/shop-add.vue?f30f","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./src/components/common-components/page.vue?8f1c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","type","_v","_s","title","directives","name","rawName","value","expression","on","back","_t","wrapper","isWhite","desc","content","staticRenderFns","Page","$router","Vue","__decorate","Prop","prototype","default","required","Component","component","attrs","slot","submitClick","ref","model","options","validateHandler","submitHandler","resetHandler","fields","callback","$$v","$set","deepClone","source","Error","targetObj","constructor","Array","Object","keys","forEach","AppList","arguments","transType","imgUrlList","address","modelKey","label","props","placeholder","rules","trigger","scrollToInvalidField","layout","console","log","e","preventDefault","queryObj","businessId","$store","state","userInfo","business","dispatch","then","response","success","data","EventBus","$emit","toast","$createToast","txt","time","show","shopData","$route","params","id","$refs","cubeForm","submit","components","page","imageUpload","_l","img","index","key","$event","handleImgsClick","imageRemove","action","filesAdded","fileRemove","fileSuccess","files","Home","fileUrl","imageArr","target","token","isUploading","upload","start","pause","retry","hasIgnore","maxSize","k","file","size","ignore","evt","md5","str","indexOf","splice","push","initialIndex","$props","imgs","loop","$events","change","i","$createImagePreview","list","length","url","Watch","immediate","filters","_defineProperties","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps"],"mappings":"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","file":"js/shopAdd.2e2bc9b2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cube-page\",class:_vm.type},[_c('header',{staticClass:\"header\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isBack),expression:\"isBack\"}],staticClass:\"cubeic-back\",on:{\"click\":_vm.back}}),_c('div',{staticClass:\"header-edit\"},[_vm._t(\"edit\")],2)]),_c('div',{class:{ wrapper: true, isWhite: _vm.type === 'white' }},[_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"desc\"},[_vm._t(\"desc\",[_vm._v(_vm._s(_vm.desc))])],2),_c('main',{staticClass:\"content\"},[_vm._t(\"content\",[_vm._v(_vm._s(_vm.content))])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nlet Page = class Page extends Vue {\r\n    back() {\r\n        this.$router.back();\r\n    }\r\n};\r\n__decorate([\r\n    Prop()\r\n], Page.prototype, \"msg\", void 0);\r\n__decorate([\r\n    Prop({ default: '', required: true })\r\n], Page.prototype, \"title\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"type\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"desc\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"content\", void 0);\r\n__decorate([\r\n    Prop({ default: true })\r\n], Page.prototype, \"isBack\", void 0);\r\nPage = __decorate([\r\n    Component\r\n], Page);\r\nexport default Page;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=0717ebb4&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=ts&\"\nexport * from \"./page.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0717ebb4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page',{attrs:{\"title\":_vm.title,\"type\":'white'}},[_c('div',{attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('span',{on:{\"click\":_vm.submitClick}},[_vm._v(\"完成\")])]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('cube-form',{ref:\"cubeForm\",attrs:{\"model\":_vm.model,\"immediate-validate\":false,\"options\":_vm.options},on:{\"validate\":_vm.validateHandler,\"submit\":_vm.submitHandler,\"reset\":_vm.resetHandler}},[_c('cube-form-item',{attrs:{\"field\":_vm.fields[0]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[1]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[2]}}),_c('imageUpload',{model:{value:(_vm.model.imgUrlList),callback:function ($$v) {_vm.$set(_vm.model, \"imgUrlList\", $$v)},expression:\"model.imgUrlList\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * @Author: Wangtao\r\n * @Date: 2020-06-03 14:52:05\r\n * @LastEditors: Wangtao\r\n * @LastEditTime: 2021-01-31 21:15:37\r\n */\r\nexport function formatDate (str, fmt) {\r\n  const date = new Date(str)\r\n  var o = {\r\n    'M+': date.getMonth() + 1, // 月份\r\n    'd+': date.getDate(), // 日\r\n    'h+': date.getHours(), // 小时\r\n    'm+': date.getMinutes(), // 分\r\n    's+': date.getSeconds(), // 秒\r\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\r\n    'S': date.getMilliseconds() // 毫秒\r\n  }\r\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n  for (var k in o) {\r\n    if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\r\n  }\r\n  return fmt\r\n}\r\n\r\nexport function isHasFunc (key, user) {\r\n  let funcIds = user.power\r\n  if (funcIds.indexOf(key) !== -1) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * This is just a simple version of deep copy\r\n * Has a lot of edge cases bug\r\n * If you want to use a perfect deep copy, use lodash's _.cloneDeep\r\n * @param {Object} source\r\n * @returns {Object}\r\n */\r\nexport function deepClone(source) {\r\n  if (!source && typeof source !== 'object') {\r\n    throw new Error('error arguments', 'deepClone')\r\n  }\r\n  const targetObj = source.constructor === Array ? [] : {}\r\n  Object.keys(source).forEach(keys => {\r\n    if (source[keys] && typeof source[keys] === 'object') {\r\n      targetObj[keys] = deepClone(source[keys])\r\n    } else {\r\n      targetObj[keys] = source[keys]\r\n    }\r\n  })\r\n  return targetObj\r\n}","import { __decorate } from \"tslib\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport page from '@/components/common-components/page.vue';\r\nimport imageUpload from '@/components/common-components/image-upload.vue';\r\nimport { deepClone } from '@/until/index';\r\nimport { EventBus } from '@/until/event-bus';\r\nlet AppList = class AppList extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.title = '店铺新增';\r\n        this.model = {\r\n            name: '',\r\n            transType: ['sf'],\r\n            imgUrlList: [],\r\n            address: ''\r\n        };\r\n        this.fields = [\r\n            {\r\n                type: 'input',\r\n                modelKey: 'name',\r\n                label: '商店名称',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur'\r\n            },\r\n            {\r\n                type: 'checkbox-group',\r\n                modelKey: 'transType',\r\n                label: '配送方式',\r\n                props: {\r\n                    options: [{\r\n                            label: '客户自提',\r\n                            value: 'sf'\r\n                        }, {\r\n                            label: '配送',\r\n                            value: 'ds'\r\n                        }]\r\n                },\r\n                rules: {\r\n                    required: true\r\n                }\r\n            },\r\n            {\r\n                type: 'input',\r\n                modelKey: 'address',\r\n                label: '店铺地址',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur'\r\n            }\r\n        ];\r\n        this.options = {\r\n            scrollToInvalidField: true,\r\n            layout: 'standard' // classic fresh\r\n        };\r\n    }\r\n    validateHandler() {\r\n        console.log('validateHandler');\r\n    }\r\n    submitHandler(e) {\r\n        e.preventDefault();\r\n        let businessId = this.$store.state.userInfo.business;\r\n        let queryObj;\r\n        queryObj = { ...this.model, businessId: businessId };\r\n        this.$store.dispatch('addOrUpdateShop', queryObj).then((response) => {\r\n            if (response.success) {\r\n                if (response.data) {\r\n                    EventBus.$emit(\"shopList\", { type: 'add', data: response.data });\r\n                }\r\n                else {\r\n                    EventBus.$emit('shopList', { type: 'update', data: queryObj });\r\n                }\r\n                this.$router.back();\r\n                const toast = this.$createToast({\r\n                    txt: '保存成功',\r\n                    time: 3000,\r\n                    type: 'txt'\r\n                });\r\n                toast.show();\r\n            }\r\n        });\r\n    }\r\n    resetHandler() {\r\n        this.$emit('cancel');\r\n    }\r\n    mounted() {\r\n        let shopData = this.$route.params;\r\n        if (shopData.id) {\r\n            this.title = '店铺修改';\r\n            if (!shopData.transType) {\r\n                shopData.transType = ['sf'];\r\n            }\r\n            let cloneData = {\r\n                id: shopData.id,\r\n                name: shopData.name,\r\n                transType: shopData.transType,\r\n                businessId: shopData.businessId,\r\n                address: shopData.address\r\n            };\r\n            this.$set(this, 'model', deepClone(shopData));\r\n        }\r\n    }\r\n    submitClick() {\r\n        this.$refs.cubeForm.submit();\r\n    }\r\n};\r\nAppList = __decorate([\r\n    Component({\r\n        components: {\r\n            page,\r\n            imageUpload\r\n        }\r\n    })\r\n], AppList);\r\nexport default AppList;\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop-add.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop-add.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./shop-add.vue?vue&type=template&id=68e673a1&scoped=true&\"\nimport script from \"./shop-add.vue?vue&type=script&lang=ts&\"\nexport * from \"./shop-add.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./shop-add.vue?vue&type=style&index=0&id=68e673a1&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68e673a1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-upload\"},[_c('div',{staticClass:\"file-upload-box\"},[_vm._l((_vm.imageArr),function(img,index){return _c('div',{key:img,staticClass:\"img-box\"},[_c('img',{staticClass:\"imgPriview\",attrs:{\"src\":img},on:{\"click\":function($event){return _vm.handleImgsClick(index)}}}),_c('i',{staticClass:\"cubeic-wrong\",on:{\"click\":function($event){return _vm.imageRemove(img, index)}}})])}),_c('cube-upload',{ref:\"upload\",attrs:{\"action\":_vm.action,\"simultaneous-uploads\":1},on:{\"files-added\":_vm.filesAdded,\"file-removed\":_vm.fileRemove,\"file-success\":_vm.fileSuccess},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}},[_c('div',{staticClass:\"clear-fix\"},[_c('cube-upload-btn',{attrs:{\"multiple\":false}},[_c('div',{staticClass:\"cube-upload-btn-def\"},[_c('i')])])],1)])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nlet Home = class Home extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 文件上传测试\r\n        this.fileUrl = 'http://img.beijixiong.club:4869/';\r\n        this.imageArr = [];\r\n        this.action = { target: '/fileUpload', data: { token: 'rwwXO0wQq5SBEqP7' } };\r\n        this.isUploading = true;\r\n    }\r\n    upload() {\r\n        this.isUploading = true;\r\n        this.$refs.upload.start();\r\n    }\r\n    pause() {\r\n        this.isUploading = false;\r\n        this.$refs.upload.pause();\r\n    }\r\n    retry() {\r\n        this.$refs.upload.retry();\r\n    }\r\n    filesAdded(files) {\r\n        let hasIgnore = false;\r\n        const maxSize = 1 * 1024 * 1024; // 1M\r\n        for (let k in files) {\r\n            const file = files[k];\r\n            if (file.size > maxSize) {\r\n                file.ignore = true;\r\n                hasIgnore = true;\r\n            }\r\n        }\r\n        hasIgnore && this.$createToast({\r\n            type: 'warn',\r\n            time: 2000,\r\n            txt: '文件需要小于1M'\r\n        }).show();\r\n    }\r\n    fileRemove(evt) {\r\n        if (evt.response && evt.response.md5) {\r\n            let str = this.fileUrl + evt.response.md5;\r\n            var index = this.imageArr.indexOf(str);\r\n            if (index > -1) {\r\n                this.imageArr.splice(index, 1);\r\n            }\r\n        }\r\n    }\r\n    fileSuccess(file) {\r\n        let md5 = file.response.md5;\r\n        let fileUrl = this.fileUrl + md5;\r\n        var index = this.imageArr.indexOf(fileUrl);\r\n        if (index === -1) {\r\n            this.imageArr.push(fileUrl);\r\n        }\r\n    }\r\n    handleImgsClick(index) {\r\n        this.initialIndex = index;\r\n        const params = {\r\n            $props: {\r\n                imgs: this.imageArr,\r\n                initialIndex: 'initialIndex',\r\n                loop: false\r\n            },\r\n            $events: {\r\n                change: (i) => {\r\n                    // 必须更新 initialIndex\r\n                    this.initialIndex = i;\r\n                }\r\n            }\r\n        };\r\n        this.$createImagePreview({ ...params }).show();\r\n    }\r\n    imageArrChange(list) {\r\n        this.$emit('input', list);\r\n    }\r\n    valueChange(value) {\r\n        if (value.length > 0) {\r\n            this.$set(this, 'imageArr', value);\r\n        }\r\n    }\r\n    imageRemove(url, index) {\r\n        this.$store.dispatch('removeImage', { url: url }).then((response) => {\r\n            if (response.success) {\r\n                console.log(url);\r\n                console.log('图片删除成功！');\r\n            }\r\n            this.imageArr.splice(index, 1);\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: [] })\r\n], Home.prototype, \"value\", void 0);\r\n__decorate([\r\n    Watch('imageArr')\r\n], Home.prototype, \"imageArrChange\", null);\r\n__decorate([\r\n    Watch('value', { immediate: true })\r\n], Home.prototype, \"valueChange\", null);\r\nHome = __decorate([\r\n    Component({\r\n        components: {},\r\n        filters: {}\r\n    })\r\n], Home);\r\nexport default Home;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image-upload.vue?vue&type=template&id=62b3ef50&\"\nimport script from \"./image-upload.vue?vue&type=script&lang=ts&\"\nexport * from \"./image-upload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: Wangtao\r\n * @Date: 2021-02-01 19:18:51\r\n * @LastEditors: Wangtao\r\n * @LastEditTime: 2021-02-01 19:20:03\r\n */\r\nimport Vue from 'vue'\r\nexport const EventBus = new Vue()","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop-add.vue?vue&type=style&index=0&id=68e673a1&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop-add.vue?vue&type=style&index=0&id=68e673a1&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\""],"sourceRoot":""}