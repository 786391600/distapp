{"version":3,"sources":["webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/index.vue?7dcd","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/index.vue?2d69","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue?6a4d","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue?907e","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue?8b69","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/add-nav.vue?18c8","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/add-nav.vue","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/add-nav.vue?afeb","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/add-nav.vue?deb7","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/index.vue","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/index.vue?af79","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/index.vue?96ed","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue?0aa9","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/add-nav.vue?d1c4","webpack:///./src/views/schoolAdmin/businessManagement/shopAdmin/edit-food.vue?b352"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","pageTitle","staticClass","slot","on","saveFood","_v","_l","item","index","key","id","class","active","currentIndex","$event","navClick","_s","name","addNav","ref","data","menuitem","menuindex","style","backgroundImage","img","defaultImg","price","editMenu","deleteMenu","model","value","callback","$$v","$set","expression","addFood","showEditbox","changeSuccess","showAddNav","navChangeSuccess","staticRenderFns","options","validateHandler","submitHandler","resetHandler","fields","imageList","menuItem","menuIndex","deleteSpec","addSpec","goodsTypeOptions","resetClick","submitClick","AddForm","arguments","validity","valid","undefined","num","total","goodsType","isEdit","type","modelKey","label","props","placeholder","rules","required","trigger","messages","custom","val","scrollToInvalidField","layout","$emit","e","preventDefault","menu","deepClone","modelId","setMenu","filter","spec","map","Number","length","console","log","initMode","specObj","push","splice","$refs","editForm","submit","reset","$store","state","schoolInfo","Vue","__decorate","Prop","default","prototype","Component","components","imageUpload","textButton","component","businessManagement","modelIndex","shopData","$route","params","setShopData","currentItem","currentMenu","sellout","rightBox","scrollTop","cloneMenu","$nextTick","setData","$createDialog","content","onConfirm","show","currentModel","addObj","menuChildItem","menuChildIndex","dispatch","shopId","then","success","$router","oprate","query","shopName","page","editBox"],"mappings":"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","file":"js/shopAdmin.d4839bf6.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page',{attrs:{\"title\":_vm.pageTitle}},[_c('div',{staticClass:\"edit\",attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.saveFood}},[_vm._v(\"保存店铺\")])]),_c('div',{staticClass:\"content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"shop-admin-box\"},[_c('div',{staticClass:\"left-nav\"},[_vm._l((_vm.data),function(item,index){return _c('div',{key:item.id,class:{ 'nav-item': true, active: index === _vm.currentIndex },on:{\"click\":function($event){return _vm.navClick(index)}}},[_vm._v(\"\\n          \"+_vm._s(item.name)+\"\\n        \")])}),_c('div',{staticClass:\"nav-item add-item\",on:{\"click\":_vm.addNav}},[_vm._v(\"添加分类\")])],2),_c('div',{ref:\"rightBox\",staticClass:\"right-box\"},[_vm._l((this.data[_vm.currentIndex].menu),function(menuitem,menuindex){return _c('div',{key:menuitem.id,staticClass:\"food-item\"},[_c('div',{staticClass:\"food-img\",style:({\n              backgroundImage:\n                'url(' + (menuitem.img ? menuitem.img : _vm.defaultImg) + ')'\n            }),attrs:{\"src\":menuitem.img}}),_c('div',{staticClass:\"food-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(menuitem.name))]),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(menuitem.price))]),_c('div',{staticClass:\"oprate\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.editMenu(menuitem, menuindex)}}},[_vm._v(\"\\n                编辑\\n              \")]),_c('div',{staticClass:\"btn delete\",on:{\"click\":function($event){return _vm.deleteMenu(menuitem, menuindex)}}},[_vm._v(\"\\n                删除\\n              \")])]),_c('div',{staticClass:\"oprate\"},[_c('cube-switch',{model:{value:(menuitem.sellout),callback:function ($$v) {_vm.$set(menuitem, \"sellout\", $$v)},expression:\"menuitem.sellout\"}},[_vm._v(\"\\n                售罄\\n              \")])],1)])])}),_c('textButton',{attrs:{\"block\":true},on:{\"click\":_vm.addFood}},[_vm._v(\"+添加商品\")])],2)]),_c('editBox',{ref:\"addForm1\",attrs:{\"visible\":_vm.showEditbox},on:{\"update:visible\":function($event){_vm.showEditbox=$event}}},[_c('editForm',{ref:\"editForm\",on:{\"cancel\":function($event){_vm.showEditbox = false},\"change\":_vm.changeSuccess}})],1),_c('editBox',{ref:\"addForm1\",attrs:{\"visible\":_vm.showAddNav},on:{\"update:visible\":function($event){_vm.showAddNav=$event}}},[_c('addNav',{ref:\"addNav\",on:{\"cancel\":function($event){_vm.showAddNav = false},\"change\":_vm.navChangeSuccess}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cube-form',{ref:\"editForm\",attrs:{\"model\":_vm.model,\"immediate-validate\":false,\"options\":_vm.options},on:{\"validate\":_vm.validateHandler,\"submit\":_vm.submitHandler,\"reset\":_vm.resetHandler}},[_c('cube-form-group',{attrs:{\"legend\":\"商品编辑\"}},[_c('cube-form-item',{attrs:{\"field\":_vm.fields[0]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[1]}}),_c('imageUpload',{model:{value:(_vm.imageList),callback:function ($$v) {_vm.imageList=$$v},expression:\"imageList\"}})],1),_c('cube-form-group',{attrs:{\"legend\":\"商品规格\"}},[_vm._l((_vm.model.menu),function(menuItem,menuIndex){return _c('div',{key:menuItem.id,staticClass:\"food-spec\"},[_c('div',{staticClass:\"food-spec-item\"},[_c('div',[_c('span',[_vm._v(\"名称\")]),_c('cube-input',{model:{value:(menuItem.spec),callback:function ($$v) {_vm.$set(menuItem, \"spec\", $$v)},expression:\"menuItem.spec\"}})],1),_c('div',[_c('span',[_vm._v(\"价格\")]),_c('cube-input',{attrs:{\"type\":\"number\"},model:{value:(menuItem.price),callback:function ($$v) {_vm.$set(menuItem, \"price\", $$v)},expression:\"menuItem.price\"}}),_vm._v(\"元\\n        \")],1)]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.deleteSpec(menuIndex)}}},[_vm._v(\"删除\")])])}),_c('text-button',{attrs:{\"block\":true},on:{\"click\":_vm.addSpec}},[_vm._v(\"+添加规格\")])],2),_c('cube-form-group',{attrs:{\"legend\":\"商品类型\"}},[_c('cube-radio-group',{attrs:{\"options\":_vm.goodsTypeOptions,\"position\":\"right\",\"hollow-style\":true},model:{value:(_vm.model.goodsType),callback:function ($$v) {_vm.$set(_vm.model, \"goodsType\", $$v)},expression:\"model.goodsType\"}})],1),_c('cube-form-group',[_c('div',{staticClass:\"submit-group\"},[_c('div',{staticClass:\"btn reset\",attrs:{\"inline\":true,\"outline\":true,\"type\":\"reset\"},on:{\"click\":_vm.resetClick}},[_vm._v(\"\\n        取消\\n      \")]),_c('div',{staticClass:\"btn submit\",attrs:{\"inline\":true,\"type\":\"submit\"},on:{\"click\":_vm.submitClick}},[_vm._v(\"\\n        保存\\n      \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { deepClone } from '@/until';\r\nimport imageUpload from '@/components/common-components/image-upload.vue';\r\nimport textButton from '@/components/common-components/text-btn.vue';\r\nlet AddForm = class AddForm extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        // ----------------内部属性-----------------------\r\n        this.validity = {};\r\n        this.valid = undefined;\r\n        this.model = {\r\n            name: '',\r\n            price: 0,\r\n            num: 0,\r\n            img: '',\r\n            total: 0,\r\n            goodsType: 'delivery' // 商品类型 1.delivery 配送型 2.arrival 到店核销\r\n        };\r\n        this.imageList = [];\r\n        this.isEdit = false;\r\n        this.fields = [\r\n            {\r\n                type: 'input',\r\n                modelKey: 'name',\r\n                label: '商品名称',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true\r\n                },\r\n                trigger: 'blur',\r\n                messages: { required: '商品名称必填' },\r\n            },\r\n            {\r\n                type: 'input',\r\n                modelKey: 'price',\r\n                label: '价格',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true,\r\n                    custom: (val) => {\r\n                        return val > 0;\r\n                    }\r\n                },\r\n                messages: { required: '价格必填', custom: '价格需要大于等于0元' },\r\n                trigger: 'blur'\r\n            }\r\n        ];\r\n        this.goodsTypeOptions = [\r\n            {\r\n                label: '帮手配送',\r\n                value: 'delivery'\r\n            },\r\n            {\r\n                label: '到店核销',\r\n                value: 'arrival'\r\n            }\r\n        ];\r\n        this.options = {\r\n            scrollToInvalidField: true,\r\n            layout: 'classic' // classic fresh\r\n        };\r\n        // ----------------生命周期-----------------------\r\n    }\r\n    // ----------------计算属性-----------------------\r\n    get schoolInfo() {\r\n        return this.$store.state.schoolInfo;\r\n    }\r\n    // ----------------监听方法-----------------------\r\n    // ----------------调用方法-----------------------\r\n    resetHandler() {\r\n        this.$emit('cancel');\r\n    }\r\n    submitHandler(e) {\r\n        e.preventDefault();\r\n        let menu = deepClone(this.model.menu) || [];\r\n        let modelId = this.model.id;\r\n        // 整理规格id\r\n        let setMenu = menu.filter((item) => {\r\n            return item.spec && item.price > 0;\r\n        }).map((item, index) => {\r\n            item.id = modelId + '-' + index;\r\n            item.price = Number(item.price);\r\n            return item;\r\n        });\r\n        if (!setMenu || setMenu.length <= 0) {\r\n            // 兼容老数据\r\n            setMenu = null;\r\n        }\r\n        this.model.menu = setMenu;\r\n        // 数字化价格\r\n        this.model.price = Number(this.model.price);\r\n        if (this.imageList.length > 0) {\r\n            this.model.img = this.imageList[0];\r\n        }\r\n        else {\r\n            this.model.img = 'http://mmbiz.qpic.cn/mmbiz_png/5XHic5LQPCDjZwNLhL8Opj5Mkpib5mZgFLSmZDOO7dQP3yezUpIMIucia9yLL0M2Cft1Z1nicCErZByDN7teCYefiaA/0';\r\n        }\r\n        console.log(this.model, 'this.modellllllllllllll');\r\n        this.$emit('change', this.model);\r\n    }\r\n    setData(model) {\r\n        if (model.img) {\r\n            this.$set(this, 'imageList', [model.img]);\r\n        }\r\n        const initMode = {\r\n            ...deepClone(this.model),\r\n            ...model\r\n        };\r\n        this.$set(this, 'model', initMode);\r\n    }\r\n    addSpec() {\r\n        let menu = (this.model.menu && this.model.menu.length > 0) ? deepClone(this.model.menu) : [];\r\n        let index = (menu && menu.length) ? menu.length : 0;\r\n        let specObj = {\r\n            id: this.model.id + '' + index,\r\n            num: 0,\r\n            price: 0,\r\n            spec: ''\r\n        };\r\n        menu.push(specObj);\r\n        this.$set(this.model, 'menu', menu);\r\n    }\r\n    deleteSpec(index) {\r\n        console.log(index, '');\r\n        let menu = deepClone(this.model.menu);\r\n        menu.splice(index, 1);\r\n        this.$set(this.model, 'menu', menu);\r\n    }\r\n    submitClick() {\r\n        this.$refs.editForm.submit(false);\r\n    }\r\n    resetClick() {\r\n        this.$refs.editForm.reset();\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: '' })\r\n], AddForm.prototype, \"shopId\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], AddForm.prototype, \"shopName\", void 0);\r\nAddForm = __decorate([\r\n    Component({\r\n        name: 'addForm',\r\n        components: {\r\n            imageUpload,\r\n            textButton\r\n        }\r\n    })\r\n], AddForm);\r\nexport default AddForm;\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit-food.vue?vue&type=template&id=693111ba&scoped=true&\"\nimport script from \"./edit-food.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit-food.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit-food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\nimport style1 from \"./edit-food.vue?vue&type=style&index=1&id=693111ba&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"693111ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cube-form',{attrs:{\"model\":_vm.model,\"immediate-validate\":false,\"options\":_vm.options},on:{\"validate\":_vm.validateHandler,\"submit\":_vm.submitHandler,\"reset\":_vm.resetHandler}},[_c('cube-form-group',{attrs:{\"legend\":\"分类编辑\"}},[_c('cube-form-item',{attrs:{\"field\":_vm.fields[0]}})],1),_c('cube-form-group',[_c('cube-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"保存\")]),_c('cube-button',{attrs:{\"type\":\"reset\"}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { deepClone } from '@/until';\r\nlet AddForm = class AddForm extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        // ----------------内部属性-----------------------\r\n        this.validity = {};\r\n        this.valid = undefined;\r\n        this.model = {\r\n            id: '',\r\n            name: '',\r\n            menu: []\r\n        };\r\n        this.isEdit = false;\r\n        this.fields = [\r\n            {\r\n                type: 'input',\r\n                modelKey: 'name',\r\n                label: '分类名称',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur',\r\n                messages: { required: '分类名称必填' },\r\n            }\r\n        ];\r\n        this.options = {\r\n            scrollToInvalidField: true,\r\n            layout: 'classic' // classic fresh\r\n        };\r\n        // ----------------生命周期-----------------------\r\n    }\r\n    // ----------------计算属性-----------------------\r\n    get schoolInfo() {\r\n        return this.$store.state.schoolInfo;\r\n    }\r\n    // ----------------监听方法-----------------------\r\n    // ----------------调用方法-----------------------\r\n    resetHandler() {\r\n        this.$emit('cancel');\r\n    }\r\n    submitHandler(e) {\r\n        e.preventDefault();\r\n        this.$emit('change', this.model);\r\n    }\r\n    setData(model) {\r\n        this.$set(this, 'model', model);\r\n    }\r\n    deleteSpec(index) {\r\n        console.log(index, '');\r\n        let menu = deepClone(this.model.menu);\r\n        menu.splice(index, 1);\r\n        this.$set(this.model, 'menu', menu);\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: '' })\r\n], AddForm.prototype, \"shopId\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], AddForm.prototype, \"shopName\", void 0);\r\nAddForm = __decorate([\r\n    Component({\r\n        name: 'addForm'\r\n    })\r\n], AddForm);\r\nexport default AddForm;\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-nav.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-nav.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./add-nav.vue?vue&type=template&id=1d25b946&scoped=true&\"\nimport script from \"./add-nav.vue?vue&type=script&lang=ts&\"\nexport * from \"./add-nav.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./add-nav.vue?vue&type=style&index=0&id=1d25b946&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d25b946\",\n  null\n  \n)\n\nexport default component.exports","import { __decorate } from \"tslib\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport page from '@/components/common-components/page.vue';\r\nimport rightBox from '@/components/common-components/right-box.vue';\r\nimport editBox from '@/components/common-components/edit-box.vue';\r\nimport editForm from './edit-food.vue';\r\nimport addNav from './add-nav.vue';\r\nimport { deepClone } from '@/until';\r\nimport textButton from '@/components/common-components/text-btn.vue';\r\nlet businessManagement = class businessManagement extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.showEditbox = false;\r\n        this.showAddNav = false;\r\n        this.pageTitle = '商品管理';\r\n        this.defaultImg = 'http://mmbiz.qpic.cn/mmbiz_png/5XHic5LQPCDjZwNLhL8Opj5Mkpib5mZgFLSmZDOO7dQP3yezUpIMIucia9yLL0M2Cft1Z1nicCErZByDN7teCYefiaA/0';\r\n        this.data = [];\r\n        this.currentIndex = 0;\r\n        this.modelIndex = 0;\r\n    }\r\n    get shopId() {\r\n        return this.$route.params.id;\r\n    }\r\n    get shopName() {\r\n        return this.$route.query.shopName;\r\n    }\r\n    created() {\r\n        let shopData = deepClone(this.$route.params.shopData);\r\n        let setShopData = shopData.map((item) => {\r\n            let currentItem = item;\r\n            if (currentItem.menu && currentItem.menu.length > 0) {\r\n                let currentMenu = currentItem.menu.map((menuitem) => {\r\n                    if (!menuitem.sellout) {\r\n                        menuitem.sellout = false;\r\n                    }\r\n                    return menuitem;\r\n                });\r\n                currentItem.menu = currentMenu;\r\n            }\r\n            return currentItem;\r\n        });\r\n        this.$set(this, 'data', setShopData);\r\n    }\r\n    navClick(index) {\r\n        this.currentIndex = index;\r\n        this.$refs.rightBox.scrollTop = 0;\r\n    }\r\n    editMenu(menu, index) {\r\n        this.modelIndex = index;\r\n        let cloneMenu = deepClone(menu);\r\n        this.showEditbox = true;\r\n        this.$nextTick(() => {\r\n            this.$refs.editForm.setData(cloneMenu);\r\n        });\r\n    }\r\n    deleteMenu(menu, index) {\r\n        this.$createDialog({\r\n            type: 'confirm',\r\n            content: '确定删除【' + menu.name + '】吗？',\r\n            onConfirm: (e) => {\r\n                let currentMenu = deepClone(this.data[this.currentIndex].menu);\r\n                currentMenu.splice(index, 1);\r\n                this.$set(this.data[this.currentIndex], 'menu', currentMenu);\r\n            }\r\n        }).show();\r\n    }\r\n    changeSuccess(model) {\r\n        this.$set(this.data[this.currentIndex].menu, this.modelIndex, model);\r\n        this.showEditbox = false;\r\n    }\r\n    navChangeSuccess(model) {\r\n        let currentModel = deepClone(model);\r\n        if (!currentModel.id) {\r\n            let addObj = {\r\n                id: 'C' + (this.data.length ? this.data.length : 0),\r\n                name: currentModel.name,\r\n                menu: []\r\n            };\r\n            this.data.push(addObj);\r\n        }\r\n        this.showAddNav = false;\r\n    }\r\n    addNav() {\r\n        this.showAddNav = true;\r\n    }\r\n    addFood() {\r\n        let menu = this.data[this.currentIndex].menu || [];\r\n        let id = this.data[this.currentIndex].id + '-' + menu.length;\r\n        this.editMenu({ id: id, name: '', price: 0, num: 0 }, menu.length);\r\n    }\r\n    saveFood() {\r\n        // 重设商品id \r\n        let setData = this.data.map((item, index) => {\r\n            item.id = 'C' + index;\r\n            if (item.menu && item.menu.length > 0) {\r\n                item.menu = item.menu.map((menuItem, menuIndex) => {\r\n                    menuItem.id = item.id + '-' + menuIndex;\r\n                    if (menuItem.menu) {\r\n                        menuItem.menu = menuItem.menu.map((menuChildItem, menuChildIndex) => {\r\n                            menuChildItem.id = menuItem.id + '-' + menuChildIndex;\r\n                            return menuChildItem;\r\n                        });\r\n                    }\r\n                    return menuItem;\r\n                });\r\n            }\r\n            return item;\r\n        });\r\n        this.$store.dispatch('updateShopInfo', {\r\n            shopId: this.shopId,\r\n            type: 'shopData',\r\n            value: setData\r\n        }).then((e) => {\r\n            if (e.success) {\r\n                this.$createDialog({\r\n                    type: 'alert',\r\n                    content: '保存成功',\r\n                    onConfirm: (e) => {\r\n                        this.$router.push({\r\n                            name: 'businessManagement',\r\n                            params: {\r\n                                id: this.shopId,\r\n                                oprate: 'update',\r\n                                type: 'shopData',\r\n                                data: this.data\r\n                            }\r\n                        });\r\n                    }\r\n                }).show();\r\n            }\r\n        });\r\n    }\r\n};\r\nbusinessManagement = __decorate([\r\n    Component({\r\n        components: {\r\n            page,\r\n            rightBox,\r\n            editBox,\r\n            editForm,\r\n            addNav,\r\n            textButton\r\n        }\r\n    })\r\n], businessManagement);\r\nexport default businessManagement;\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb70bbd0&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=style&index=1&id=693111ba&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=style&index=1&id=693111ba&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-nav.vue?vue&type=style&index=0&id=1d25b946&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-nav.vue?vue&type=style&index=0&id=1d25b946&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}