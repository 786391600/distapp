(function(t){function e(e){for(var a,r,s=e[0],u=e[1],c=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);p&&p(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function s(t){return u.p+"js/"+({"home~index~pay~repair":"home~index~pay~repair",home:"home",index:"index",pay:"pay",repair:"repair"}[t]||t)+"."+{"home~index~pay~repair":"f74f94b3",home:"249cf70b",index:"0c1a2dae",pay:"185701c0",repair:"597cb372"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"home~index~pay~repair":1,home:1,index:1,pay:1,repair:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({"home~index~pay~repair":"home~index~pay~repair",home:"home",index:"index",pay:"pay",repair:"repair"}[t]||t)+"."+{"home~index~pay~repair":"b80ff810",home:"d005317a",index:"4db35086",pay:"7704e361",repair:"60f8630d"}[t]+".css",o=u.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===o))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){c=f[s],d=c.getAttribute("data-href");if(d===a||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],p.parentNode.removeChild(p),n(i)},p.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(p)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(t);var f=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[t]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var f=0;f<c.length;f++)e(c[f]);var p=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"7faf":function(t,e,n){"use strict";var a=n("8fba"),r=n.n(a);r.a},"8fba":function(t,e,n){},be35:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getFleetList",function(){return ht}),n.d(a,"getCarList",function(){return mt}),n.d(a,"getCarInfo",function(){return gt}),n.d(a,"getOrderList",function(){return vt}),n.d(a,"orderAllocation",function(){return yt}),n.d(a,"addOrUpdateCar",function(){return bt}),n.d(a,"sendSMS",function(){return St}),n.d(a,"qrValidate",function(){return Ot});var r={};n.r(r),n.d(r,"initVuexModules",function(){return wt}),n.d(r,"login",function(){return Lt}),n.d(r,"getWxConfig",function(){return jt}),n.d(r,"getCodeInfo",function(){return Et}),n.d(r,"bindingOpenid",function(){return _t}),n.d(r,"getHouseList",function(){return kt}),n.d(r,"getBillListByHouseId",function(){return Tt}),n.d(r,"setUppropertyOrder",function(){return Pt}),n.d(r,"getWeixinConfig",function(){return At});n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=(n("df49"),n("e7bd")),s=n("0c29"),u=n("cd5d"),c=n("6f24"),d=n("2696"),f=n("7c8a"),p=n("ae0c"),l=n("47fe"),h=n("4403"),m=n("1cf7"),g=n("7add"),v=n("84d6"),y=n("d2c1"),b=n("291f"),S=n("7ced"),O=n("09ad"),x=n("81c3"),I=n("6fe1"),C=n("a801"),w=n("031d"),L=n("63b4"),j=n("9173"),E=n("8344"),_=n("664d"),k=n("0124"),T=n("9736"),P=n("1cc1"),A=n("e231"),B=n("aea1"),N=n("5f4e"),U=n("0679"),H=n("2799"),M=n("bdd9"),q=n("a2d2"),F=n("ba90"),W=n("36b6"),J=n("0f85");o["a"].use(i["a"]),o["a"].use(s["a"]),o["a"].use(u["a"]),o["a"].use(c["a"]),o["a"].use(d["a"]),o["a"].use(f["a"]),o["a"].use(p["a"]),o["a"].use(l["a"]),o["a"].use(h["a"]),o["a"].use(m["a"]),o["a"].use(g["a"]),o["a"].use(v["a"]),o["a"].use(y["a"]),o["a"].use(b["a"]),o["a"].use(S["a"]),o["a"].use(O["a"]),o["a"].use(x["a"]),o["a"].use(I["a"]),o["a"].use(C["a"]),o["a"].use(w["a"]),o["a"].use(L["a"]),o["a"].use(j["a"]),o["a"].use(E["a"]),o["a"].use(_["a"]),o["a"].use(k["a"]),o["a"].use(T["a"]),o["a"].use(P["a"]),o["a"].use(A["a"]),o["a"].use(B["a"]),o["a"].use(N["a"]),o["a"].use(U["a"]),o["a"].use(H["a"]),o["a"].use(M["a"]),o["a"].use(q["a"]),o["a"].use(F["a"]),o["a"].use(W["a"]),o["a"].use(J["a"]);var V,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},K=[],$=(n("7faf"),n("2877")),R={},z=Object($["a"])(R,D,K,!1,null,null,null),G=z.exports,Q=n("8c4f"),X=[{path:"/",name:"index",component:function(){return Promise.all([n.e("home~index~pay~repair"),n.e("index")]).then(n.bind(null,"9ed6"))}},{path:"/login",name:"login",component:function(){return Promise.all([n.e("home~index~pay~repair"),n.e("index")]).then(n.bind(null,"9ed6"))},meta:{title:"业主绑定"}},{path:"/home",name:"home",component:function(){return Promise.all([n.e("home~index~pay~repair"),n.e("home")]).then(n.bind(null,"bb51"))},meta:{title:"主页"}},{path:"/pay",name:"pay",component:function(){return Promise.all([n.e("home~index~pay~repair"),n.e("pay")]).then(n.bind(null,"7bb3"))},meta:{title:"物业缴费"}},{path:"/repair",name:"repair",component:function(){return Promise.all([n.e("home~index~pay~repair"),n.e("repair")]).then(n.bind(null,"d470"))},meta:{title:"物业报修"}}],Y=n("2f62"),Z=n("bd86"),tt="SET_TOKEN",et="SET_USER_INFO",nt="SET_SESSION_ID",at="SET_HOUSE_LIST",rt=(V={},Object(Z["a"])(V,tt,function(t,e){t.token=e,window.localStorage.setItem("sessionId",e)}),Object(Z["a"])(V,et,function(t,e){o["a"].set(t,"userInfo",e)}),Object(Z["a"])(V,nt,function(t,e){t.sessionId=e}),Object(Z["a"])(V,at,function(t,e){o["a"].set(t,"houseList",e)}),V),ot=(n("a481"),n("6b54"),"/action");function it(t,e){console.log(Bt,"ssssssssssssssss");var n=Bt.state.sessionId,a={data:JSON.stringify(t.data),action:t.action,sessionId:""};return a.sessionId="login"!==t.action?n:"",e&&(a.sessionId=null),window.fetch(t.url,{method:t.method||"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(t){return ut(t)}).catch(function(t){return console.log(t),!1})}function st(t){var e=Bt.state.sessionId,n={data:JSON.stringify(t.data),action:t.action,sessionId:""};console.log(t.action),n.sessionId="loginToAuthCenter"!==t.action?e:"";var a=t.url+"?action="+n.action+"&data= "+n.data+"&sessionId="+n.sessionId;return window.fetch(a,{method:t.method||"get",headers:{"Content-Type":"application/json"}}).then(function(t){}).catch(function(t){})}function ut(t){var e=t.json();return e.then(function(t){(401===t.result||403===t.result&&!window.localStorage.sessionId||t.sessionExpire)&&(window.localStorage.removeItem("sessionId"),Ht.push("/login"))}),"2"===t.status.toString()[0]?e:Promise.reject(t)}var ct={fetch:function(t,e,n,a){var r=t;return r.url=ot,"post"===e?it(r,a):st(r)}},dt="login",ft="getCodeInfo",pt={login:function(t){var e={data:t,action:dt};return ct.fetch(e,"post")},getCodeInfo:function(t){var e={data:t,action:ft};return ct.fetch(e,"post")},bindingOpenid:function(t){var e={data:t,action:"bindingOpenid"};return ct.fetch(e,"post")},getHouseList:function(t){var e={data:t,action:"app.getHouseList"};return ct.fetch(e,"post")},getBillListByHouseId:function(t){var e={data:t,action:"app.getBillListByHouseId"};return ct.fetch(e,"post")},setUppropertyOrder:function(t){var e={data:t,action:"app.setUppropertyOrder"};return ct.fetch(e,"post")},getWeixinConfig:function(t){var e={data:t,action:"app.getWeixinConfig"};return ct.fetch(e,"post")}},lt={getFleetList:function(t){var e={data:t,action:"ticket.getFleetList"};return ct.fetch(e,"post")},getCarList:function(t){var e={data:t,action:"ticket.getCarList"};return ct.fetch(e,"post")},getCarInfo:function(t){var e={data:t,action:"ticket.getCarInfo"};return ct.fetch(e,"post")},getOrderList:function(t){var e={data:t,action:"ticket.getOrderList"};return ct.fetch(e,"post")},orderAllocation:function(t){var e={data:t,action:"ticket.orderAllocation"};return ct.fetch(e,"post")},addOrUpdateCar:function(t){var e={data:t,action:"ticket.addOrUpdateCar"};return ct.fetch(e,"post")},sendSMS:function(t){var e={data:t,action:"ticket.sendSMS"};return ct.fetch(e,"post")},qrValidate:function(t){var e={data:t,action:"qrValidate"};return ct.fetch(e,"post")}},ht=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.getFleetList(e)},mt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.getCarList(e)},gt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.getCarInfo(e)},vt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.getOrderList(e)},yt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.orderAllocation(e)},bt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.addOrUpdateCar(e)},St=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.sendSMS(e)},Ot=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return lt.qrValidate(e)},xt={},It={},Ct={state:It,actions:a,mutations:xt};function wt(t){!t.state.bus&&t.registerModule("bus",Ct)}var Lt=function(t,e){var n=t.commit;t.state,t.rootState,t.dispatch;return pt.login(e).then(function(t){return t.success&&t.sessionId?(n(tt,t.sessionId),wt(Bt),Ht.replace("home"),{success:!0}):{success:!1}})},jt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.getWxConfig(e).then(function(t){if(console.log(t),!t.success)return{success:!1};console.log(t)})},Et=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.getCodeInfo(e).then(function(t){return t.success?{success:!0,data:t.data}:{success:!1}})},_t=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.bindingOpenid(e).then(function(t){return t.success?{success:!0,data:t.data}:t})},kt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.getHouseList(e).then(function(t){return t.success?{success:!0,data:t.data}:t})},Tt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.getBillListByHouseId(e).then(function(t){return t.success?{success:!0,data:t.data}:t})},Pt=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.setUppropertyOrder(e).then(function(t){return t.success?{success:!0,data:t.data}:t})},At=function(t,e){t.commit,t.state,t.rootState,t.dispatch;return pt.getWeixinConfig(e).then(function(t){return t.success?{success:!0,data:t.data}:t})};o["a"].use(Y["a"]);var Bt=new Y["a"].Store({state:{sessionId:"",houseList:[]},mutations:rt,actions:r});o["a"].use(Q["a"]);var Nt=new Q["a"]({mode:"history",base:"/",routes:X});function Ut(t){t=t||"",window.document.title=t}Nt.beforeEach(function(t,e,n){console.log(t,"to"),(t.query.code||Bt.state.sessionId||"login"===t.name&&t.query.openid)&&n(),Ut(t.meta.title)});var Ht=Nt;n("be35"),n("5cfb");console.log(Bt),o["a"].config.productionTip=!1,new o["a"]({router:Ht,store:Bt,render:function(t){return t(G)}}).$mount("#app")}});
//# sourceMappingURL=app.6b77396c.js.map