(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["notice"],{"00c8":function(t,e,s){"use strict";var i=s("8d43"),a=s.n(i);a.a},"170f":function(t,e,s){"use strict";var i=s("1f3f"),a=s.n(i);a.a},"1f3f":function(t,e,s){},"3cdd":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"accountSelect"},[s("div",{staticClass:"address"},[s("div",{staticClass:"info"},[s("i",{staticClass:"iconfont iconxiaoqu1"}),s("cube-select",{attrs:{options:t.houseOptions},on:{change:t.houseChange},model:{value:t.houseId,callback:function(e){t.houseId=e},expression:"houseId"}})],1)])])},a=[],o=(s("ac6a"),s("a481"),s("28a5"),s("d225")),n=s("b0b4"),r=s("308d"),u=s("6bb5"),c=s("4e2b"),l=s("9ab4"),h=s("60a3"),d=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.houseList=[],t.houseId="",t.queryHouseId="",t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){var t=this.$route.query,e=t.state;if(e){var s=e.split("@");"houseId"===s[0]&&(this.queryHouseId=s[1],t.houseId=s[1])}if(this.houseId&&t.houseId&&t.houseId===this.houseId)this.$emit("change",this.houseId);else{if(this.houseId&&!t.houseId)return;this.pageInit()}}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),e.data.userInfo.houseId&&e.data.userInfo.houseId.length>0?t.getHouseList():t.$store.state.userInfo&&t.$store.state.userInfo.power&&t.$store.state.userInfo.power.length>0&&t.$router.push({path:"/admin",query:{}}))),s.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this,e=this.$route.query;if(this.$store.state.houseList&&this.$store.state.houseList.length>0)return this.$store.state.houseList.forEach(function(e,s){t.$set(t.houseList,s,e)}),void(e.houseId?this.houseId=e.houseId:this.houseId=this.houseList[0].id);this.$store.state.sessionId&&!this.houseId?this.getHouseList():e.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getHouseList",value:function(){var t=this,e=this;this.$store.dispatch("getHouseList",{}).then(function(s){s.data&&s.data.list?s.data.list.length>0&&(s.data.list.forEach(function(t,s){e.$set(e.houseList,s,t)}),t.queryHouseId?t.houseId=t.queryHouseId:t.houseId=t.houseList[0].id,t.$store.commit("SET_HOUSE_LIST",t.houseList)):t.$store.state.userInfo&&t.$store.state.userInfo.power&&t.$store.state.userInfo.power.length>0&&t.$router.push({path:"/admin",query:{}})})}},{key:"getFloorByAccountId",value:function(){var t=this,e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getFloorByAccountId",{accountId:this.accountId}).then(function(s){s.success&&("incomplete"===t.selectedLabelDefault?(t.billList=s.data.list,t.initCheckbox()):s.data.list.length>0?t.billList=t.billList.concat(s.data.list):t.isShowMore=!1),e.hide()})}},{key:"houseChange",value:function(t){this.$emit("change",t)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"houseOptions",get:function(){return this.houseList.forEach(function(t){t.value=t.id;var e="";"0"!==t.unitNum&&0!==t.unitNum&&(e=t.unitNum+"单元"),t.text=t.account_info[0].name+" "+t.build_info[0].name+" "+e+t.floorNum+"层"+t.roomNum+"室"}),this.houseList}}]),e}(h["c"]);Object(l["a"])([Object(h["d"])("houseId")],d.prototype,"houseChange",null),d=Object(l["a"])([Object(h["a"])({components:{},filters:{}})],d);var f=d,v=f,p=(s("a1c9"),s("8a2a"),s("2877")),g=Object(p["a"])(v,i,a,!1,null,"29081e81",null);e["a"]=g.exports},"3f10":function(t,e,s){},"3f1d":function(t,e,s){"use strict";var i=s("df6b"),a=s.n(i);a.a},"559f":function(t,e,s){"use strict";var i=s("3f10"),a=s.n(i);a.a},"8a2a":function(t,e,s){"use strict";var i=s("ee7d"),a=s.n(i);a.a},"8d43":function(t,e,s){},a1c9:function(t,e,s){"use strict";var i=s("be17"),a=s.n(i);a.a},ab43:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"repair"},[s("div",{staticClass:"swipe-wrapper"},[s("div",{staticClass:"address"},[s("houseSelect",{on:{change:t.setHouseId}})],1),s("div",{staticClass:"repairList"},[t._l(t.noticeList,function(e){return s("div",{staticClass:"repairList-box",on:{click:function(s){return t.toOtherPage("noticeDetail",e)}}},[s("div",{staticClass:"repairList-box-head"},[t._v("小区通知")]),s("div",{staticClass:"repairList-box-box"},[s("div",[s("span",{staticClass:"title-time"},[t._v(t._s(t._f("getFormatDate")(e.time)))])]),s("div",[s("span",{staticClass:"title"},[t._v(t._s(e.title))])]),s("div",[s("span",{staticClass:"title-content"},[t._v(t._s(e.details))])])])])}),t.isShowMore?s("div",{staticClass:"more",on:{click:t.showMoreClick}},[t._v("加载更多")]):t._e(),t.isShowMore?t._e():s("div",{staticClass:"more"},[t._v("没有数据了")])],2)])])},a=[],o=(s("ac6a"),s("a481"),s("d225")),n=s("b0b4"),r=s("308d"),u=s("6bb5"),c=s("4e2b"),l=s("9ab4"),h=s("60a3"),d=s("3cdd"),f=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.houseId="",t.page=1,t.isShowMore=!0,t.noticeList=[],t.listData=[],t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){}},{key:"validateHandler",value:function(t){this.validity=t.validity,this.valid=t.valid,console.log(t),console.log("validity",t.validity,t.valid,t.dirty,t.firstInvalidFieldIndex)}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),t.getHouseList())),s.hide()})}else console.log("不是微信登陆")}},{key:"getHouseInfo",value:function(){var t=this,e={};return this.$store.state.houseList.forEach(function(s){s.id===t.houseId&&(e=s)}),e}},{key:"getNoticeList",value:function(){var t=this,e=this.getHouseInfo();console.log(e,"houseInfo");var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getNoticeList",{page:this.page,accountId:e.accountId}).then(function(e){e.success&&(e.data.list.length>0?t.noticeList=t.noticeList.concat(e.data.list):t.isShowMore=!1),s.hide()})}},{key:"houseChange",value:function(){this.page=1,this.noticeList=[],this.getNoticeList()}},{key:"showMoreClick",value:function(){this.page++,this.getNoticeList()}},{key:"toOtherPage",value:function(t,e){if(console.log(e,"data"),t){var s="/"+t;this.$router.push({path:s,query:{houseId:this.houseId,Id:e}})}}},{key:"setHouseId",value:function(t){this.houseId!==t&&(this.houseId=t,this.houseChange())}},{key:"userInfo",get:function(){return this.$store.state.userInfo}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(h["a"])({components:{houseSelect:d["a"]},filters:{getFormatDate:function(t){return new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()+"号"}}})],f);var v=f,p=v,g=(s("00c8"),s("3f1d"),s("2877")),I=Object(g["a"])(p,i,a,!1,null,"4bf86408",null);e["default"]=I.exports},be17:function(t,e,s){},c402:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"repair"},[s("div",{staticClass:"detail-header"},[t._v(t._s(this.detailData.title))]),s("div",{staticClass:"detail-time"},[t._v(t._s(t._f("getFormatDate")(this.detailData.time)))]),s("textarea",{staticClass:"detail-content",attrs:{readonly:"",rows:"20"}},[t._v(t._s(this.detailData.details))])])},a=[],o=(s("ac6a"),s("28a5"),s("a481"),s("d225")),n=s("b0b4"),r=s("308d"),u=s("6bb5"),c=s("4e2b"),l=s("9ab4"),h=s("60a3"),d=s("fdab"),f=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.noticeId="",t.houseId="",t.page=1,t.isShowMore=!0,t.noticeList=[],t.listData=[],t.detailData={},t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){this.pageInit()}},{key:"validateHandler",value:function(t){this.validity=t.validity,this.valid=t.valid,console.log(t),console.log("validity",t.validity,t.valid,t.dirty,t.firstInvalidFieldIndex)}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),t.getNoticeById())),s.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;if(t.Id)this.getDetailData(t.Id);else if(t.code){var e=t.state;if(e){var s=e.split("@");"noticeId"===s[0]&&(this.noticeId=s[1],this.getBindingInfo())}}}},{key:"getDetailData",value:function(t){this.detailData=t}},{key:"getNoticeById",value:function(){var t=this;this.$store.dispatch("getNoticeById",{id:this.noticeId}).then(function(e){e.success&&(t.detailData=e.data)})}},{key:"getHouseList",value:function(){var t=this;this.$store.dispatch("getHouseList",{}).then(function(e){e.data.list&&(t.listData=e.data.list,t.houseId||(t.houseId=t.listData[0].id),t.$store.commit("SET_HOUSE_LIST",t.listData),t.noticeList=[],t.page=1,t.getNoticeList())})}},{key:"getHouseInfo",value:function(){var t=this,e={};return this.$store.state.houseList.forEach(function(s){s.id===t.houseId&&(e=s)}),e}},{key:"getNoticeList",value:function(){var t=this,e=this.getHouseInfo();console.log(e,"houseInfo");var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getNoticeList",{page:this.page,accountId:e.accountId}).then(function(e){e.success&&(e.data.list.length>0?t.noticeList=t.noticeList.concat(e.data.list):t.isShowMore=!1),s.hide()})}},{key:"houseChange",value:function(){this.page=1,this.noticeList=[],this.getNoticeList()}},{key:"showMoreClick",value:function(){this.page++,this.getNoticeList()}},{key:"houseOptions",get:function(){return this.$store.state.houseList.forEach(function(t){t.value=t.id,t.text=t.account_info[0].name+" "+t.build_info[0].name+" "+t.unitNum+"单元"+t.floorNum+"层"+t.roomNum+"室"}),this.$store.state.houseList}},{key:"userInfo",get:function(){return this.$store.state.userInfo}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(h["a"])({components:{HelloWorld:d["a"]},filters:{getFormatDate:function(t){return new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()+"号"}}})],f);var v=f,p=v,g=(s("559f"),s("2877")),I=Object(g["a"])(p,i,a,!1,null,"fcc0a7da",null);e["default"]=I.exports},df6b:function(t,e,s){},ee7d:function(t,e,s){},fdab:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._m(0),s("h3",[t._v("Installed CLI Plugins")]),t._m(1),s("h3",[t._v("Essential Links")]),t._m(2),s("h3",[t._v("Ecosystem")]),t._m(3)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n    For a guide and recipes on how to configure / customize this project,"),s("br"),t._v("\n    check out the\n    "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript",target:"_blank",rel:"noopener"}},[t._v("typescript")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],o=s("d225"),n=s("308d"),r=s("6bb5"),u=s("4e2b"),c=s("9ab4"),l=s("60a3"),h=function(t){function e(){return Object(o["a"])(this,e),Object(n["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(l["c"]);Object(c["a"])([Object(l["b"])()],h.prototype,"msg",void 0),h=Object(c["a"])([l["a"]],h);var d=h,f=d,v=(s("170f"),s("2877")),p=Object(v["a"])(f,i,a,!1,null,"13913fa2",null);e["a"]=p.exports}}]);
//# sourceMappingURL=notice.c8d5dd21.js.map