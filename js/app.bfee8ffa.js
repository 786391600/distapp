(function(e){function t(t){for(var r,o,c=t[0],u=t[1],d=t[2],s=0,f=[];s<c.length;s++)o=c[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function c(e){return u.p+"js/"+({"car~carInfo~fleet~home~index~orderEditor":"car~carInfo~fleet~home~index~orderEditor",car:"car",carInfo:"carInfo",fleet:"fleet",home:"home",index:"index",orderEditor:"orderEditor"}[e]||e)+"."+{"car~carInfo~fleet~home~index~orderEditor":"6ca223d5",car:"7cb0c171",carInfo:"a4f157fd",fleet:"a66fda50",home:"68a8234f",index:"1b19931d",orderEditor:"1c1f829b"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"car~carInfo~fleet~home~index~orderEditor":1,car:1,carInfo:1,fleet:1,home:1,index:1,orderEditor:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({"car~carInfo~fleet~home~index~orderEditor":"car~carInfo~fleet~home~index~orderEditor",car:"car",carInfo:"carInfo",fleet:"fleet",home:"home",index:"index",orderEditor:"orderEditor"}[e]||e)+"."+{"car~carInfo~fleet~home~index~orderEditor":"b80ff810",car:"b7dc10f4",carInfo:"6bec4075",fleet:"cfbf5781",home:"39844172",index:"5efce882",orderEditor:"35795110"}[e]+".css",a=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var d=i[c],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===r||s===a))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){d=f[c],s=d.getAttribute("data-href");if(s===r||s===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],l.parentNode.removeChild(l),n(i)},l.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(l)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=i);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=c(e);var f=new Error;d=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,n[1](f)}a[e]=void 0}};var l=setTimeout(function(){d({type:"timeout",target:s})},12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var f=0;f<d.length;f++)t(d[f]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"7faf":function(e,t,n){"use strict";var r=n("8fba"),o=n.n(r);o.a},"8fba":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getFleetList",function(){return me}),n.d(r,"getCarList",function(){return he}),n.d(r,"getCarInfo",function(){return pe}),n.d(r,"getOrderList",function(){return ge}),n.d(r,"orderAllocation",function(){return be}),n.d(r,"addOrUpdateCar",function(){return ve}),n.d(r,"sendSMS",function(){return Ie}),n.d(r,"getWeixinConfig",function(){return Se}),n.d(r,"qrValidate",function(){return Ee});var o={};n.r(o),n.d(o,"initVuexModules",function(){return Oe}),n.d(o,"login",function(){return Ce}),n.d(o,"getWxConfig",function(){return je}),n.d(o,"getCodeInfo",function(){return Pe}),n.d(o,"bindingOpenid",function(){return ke});n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=(n("df49"),n("e7bd")),c=n("0c29"),u=n("cd5d"),d=n("6f24"),s=n("2696"),f=n("7c8a"),l=n("ae0c"),m=n("47fe"),h=n("4403"),p=n("1cf7"),g=n("7add"),b=n("84d6"),v=n("d2c1"),I=n("291f"),S=n("7ced"),E=n("09ad"),x=n("81c3"),y=n("6fe1"),w=n("a801"),O=n("031d"),C=n("63b4"),j=n("9173"),P=n("8344"),k=n("664d"),L=n("0124"),_=n("9736"),T=n("1cc1"),A=n("e231"),N=n("aea1"),M=n("5f4e"),q=n("0679"),F=n("2799"),U=n("bdd9"),W=n("a2d2"),J=n("ba90"),V=n("36b6"),B=n("0f85");a["a"].use(i["a"]),a["a"].use(c["a"]),a["a"].use(u["a"]),a["a"].use(d["a"]),a["a"].use(s["a"]),a["a"].use(f["a"]),a["a"].use(l["a"]),a["a"].use(m["a"]),a["a"].use(h["a"]),a["a"].use(p["a"]),a["a"].use(g["a"]),a["a"].use(b["a"]),a["a"].use(v["a"]),a["a"].use(I["a"]),a["a"].use(S["a"]),a["a"].use(E["a"]),a["a"].use(x["a"]),a["a"].use(y["a"]),a["a"].use(w["a"]),a["a"].use(O["a"]),a["a"].use(C["a"]),a["a"].use(j["a"]),a["a"].use(P["a"]),a["a"].use(k["a"]),a["a"].use(L["a"]),a["a"].use(_["a"]),a["a"].use(T["a"]),a["a"].use(A["a"]),a["a"].use(N["a"]),a["a"].use(M["a"]),a["a"].use(q["a"]),a["a"].use(F["a"]),a["a"].use(U["a"]),a["a"].use(W["a"]),a["a"].use(J["a"]),a["a"].use(V["a"]),a["a"].use(B["a"]);var D,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},$=[],H=(n("7faf"),n("2877")),R={},z=Object(H["a"])(R,K,$,!1,null,null,null),G=z.exports,Q=n("8c4f"),X=[{path:"/",name:"index",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("index")]).then(n.bind(null,"9ed6"))}},{path:"/login",name:"login",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("index")]).then(n.bind(null,"9ed6"))},meta:{title:"登陆"}},{path:"/home",name:"home",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("home")]).then(n.bind(null,"bb51"))},meta:{title:"主页"}},{path:"/fleet",name:"fleet",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("fleet")]).then(n.bind(null,"90db"))},meta:{title:"车队列表"}},{path:"/car",name:"car",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("car")]).then(n.bind(null,"2d45"))},meta:{title:"车辆列表"}},{path:"/carInfo",name:"carInfo",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("carInfo")]).then(n.bind(null,"b897"))},meta:{title:"车辆详情"}},{path:"/orderEditor",name:"orderEditor",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("orderEditor")]).then(n.bind(null,"828d"))},meta:{title:"订单分配"}},{path:"/carEditor",name:"carEditor",component:function(){return Promise.all([n.e("car~carInfo~fleet~home~index~orderEditor"),n.e("orderEditor")]).then(n.bind(null,"efa2"))},meta:{title:"车辆编辑"}}],Y=n("2f62"),Z=n("bd86"),ee="SET_TOKEN",te="SET_USER_INFO",ne="SET_SESSION_ID",re=(D={},Object(Z["a"])(D,ee,function(e,t){e.token=t,window.localStorage.setItem("sessionId",t)}),Object(Z["a"])(D,te,function(e,t){e.userInfo=t}),Object(Z["a"])(D,ne,function(e,t){e.sessionId=t}),D),oe=(n("a481"),n("6b54"),"/action");function ae(e,t){var n=window.localStorage.getItem("sessionId"),r={data:JSON.stringify(e.data),action:e.action,sessionId:""};return r.sessionId="login"!==e.action?n:"",t&&(r.sessionId=null),window.fetch(e.url,{method:e.method||"post",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(function(e){return ce(e)}).catch(function(e){return console.log(e),!1})}function ie(e){var t=window.localStorage.getItem("sessionId"),n={data:JSON.stringify(e.data),action:e.action,sessionId:""};console.log(e.action),n.sessionId="loginToAuthCenter"!==e.action?t:"";var r=e.url+"?action="+n.action+"&data= "+n.data+"&sessionId="+n.sessionId;return window.fetch(r,{method:e.method||"get",headers:{"Content-Type":"application/json"}}).then(function(e){}).catch(function(e){})}function ce(e){var t=e.json();return t.then(function(e){(401===e.result||403===e.result&&!window.localStorage.sessionId||e.sessionExpire)&&(window.localStorage.removeItem("sessionId"),Ae.push("/login"))}),"2"===e.status.toString()[0]?t:Promise.reject(e)}var ue={fetch:function(e,t,n,r){var o=e;return o.url=oe,"post"===t?ae(o,r):ie(o)}},de="login",se="getCodeInfo",fe={login:function(e){var t={data:e,action:de};return ue.fetch(t,"post")},getCodeInfo:function(e){var t={data:e,action:se};return ue.fetch(t,"post")},bindingOpenid:function(e){var t={data:e,action:"bindingOpenid"};return ue.fetch(t,"post")}},le={getFleetList:function(e){var t={data:e,action:"ticket.getFleetList"};return ue.fetch(t,"post")},getCarList:function(e){var t={data:e,action:"ticket.getCarList"};return ue.fetch(t,"post")},getCarInfo:function(e){var t={data:e,action:"ticket.getCarInfo"};return ue.fetch(t,"post")},getOrderList:function(e){var t={data:e,action:"ticket.getOrderList"};return ue.fetch(t,"post")},orderAllocation:function(e){var t={data:e,action:"ticket.orderAllocation"};return ue.fetch(t,"post")},addOrUpdateCar:function(e){var t={data:e,action:"ticket.addOrUpdateCar"};return ue.fetch(t,"post")},sendSMS:function(e){var t={data:e,action:"ticket.sendSMS"};return ue.fetch(t,"post")},getWeixinConfig:function(e){var t={data:e,action:"ticket.getWeixinConfig"};return ue.fetch(t,"post")},qrValidate:function(e){var t={data:e,action:"qrValidate"};return ue.fetch(t,"post")}},me=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.getFleetList(t)},he=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.getCarList(t)},pe=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.getCarInfo(t)},ge=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.getOrderList(t)},be=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.orderAllocation(t)},ve=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.addOrUpdateCar(t)},Ie=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.sendSMS(t)},Se=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.getWeixinConfig(t)},Ee=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return le.qrValidate(t)},xe={},ye={},we={state:ye,actions:r,mutations:xe};function Oe(e){!e.state.bus&&e.registerModule("bus",we)}var Ce=function(e,t){var n=e.commit;e.state,e.rootState,e.dispatch;return fe.login(t).then(function(e){return e.success&&e.sessionId?(n(ee,e.sessionId),Oe(Le),Ae.replace("home"),{success:!0}):{success:!1}})},je=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return fe.getWxConfig(t).then(function(e){if(console.log(e),!e.success)return{success:!1};console.log(e)})},Pe=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return fe.getCodeInfo(t).then(function(e){return e.success?{success:!0,data:e.data}:{success:!1}})},ke=function(e,t){e.commit,e.state,e.rootState,e.dispatch;return fe.bindingOpenid(t).then(function(e){return e.success?{success:!0,data:e.data}:e})};a["a"].use(Y["a"]);var Le=new Y["a"].Store({state:{sessionId:""},mutations:re,actions:o});a["a"].use(Q["a"]);var _e=new Q["a"]({mode:"history",base:"/",routes:X});function Te(e){e=e||"",window.document.title=e}_e.beforeEach(function(e,t,n){(e.query.code||Le.state.sessionId)&&n(),Te(e.meta.title)});var Ae=_e;n("5cfb");console.log(Le),a["a"].config.productionTip=!1,new a["a"]({router:Ae,store:Le,render:function(e){return e(G)}}).$mount("#app")}});
//# sourceMappingURL=app.bfee8ffa.js.map