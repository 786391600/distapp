(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["repairAdmin"],{"170f":function(e,t,a){"use strict";var s=a("1f3f"),i=a.n(s);i.a},"1f3f":function(e,t,a){},"3a89":function(e,t,a){"use strict";var s=a("93ee"),i=a.n(s);i.a},"93ee":function(e,t,a){},"9d84":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"repair"},[a("div",{staticClass:"swipe-wrapper"},[a("cube-tab-bar",{attrs:{data:e.tabBarList},on:{change:e.tabBarChange},model:{value:e.selectedLabelDefault,callback:function(t){e.selectedLabelDefault=t},expression:"selectedLabelDefault"}}),a("div",{staticClass:"repairList"},[e._l(e.repairList,function(t){return a("div",{staticClass:"repairList-box"},[a("div",{staticClass:"repairList-box-head"},[a("span",[e._v(e._s(e._f("getFormatDate")(t.time)))]),"processed"===e.selectedLabelDefault?a("span",{staticClass:"processed"},[e._v("已完成")]):a("span",{staticClass:"unprocessed"},[e._v("未完成")])]),a("div",{staticClass:"repairList-box-box"},[a("div",[a("span",{staticClass:"title"},[e._v("报修类型")]),a("span",[e._v(e._s(e._f("getRepairType")(t.type)))])]),a("div",[a("span",{staticClass:"title"},[e._v("报修人")]),a("span",[e._v(e._s(t.name))])]),a("div",[a("span",{staticClass:"title"},[e._v("报修详情")]),a("span",[e._v(e._s(t.details))])]),a("div",[a("span",{staticClass:"title"},[e._v("报修地址")]),a("span",[e._v(e._s(t.address))])])]),a("cube-button",{directives:[{name:"show",rawName:"v-show",value:"unprocessed"===e.selectedLabelDefault,expression:'selectedLabelDefault === "unprocessed"'}],staticClass:"repairBtn",on:{click:function(a){return e.updateRepairState(t.id)}}},[e._v("确认完成")])],1)}),e.isShowMore?a("div",{staticClass:"more",on:{click:e.showMoreClick}},[e._v("加载更多")]):e._e(),e.isShowMore?e._e():a("div",{staticClass:"more"},[e._v("没有数据了")])],2)],1)])},i=[],r=(a("ac6a"),a("a481"),a("d225")),n=a("b0b4"),o=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),v=a("fdab"),h=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.model={details:"",type:"type1"},e.houseId="",e.selectedLabelDefault="unprocessed",e.tabBarList=[{label:"未处理",value:"unprocessed"},{label:"已处理",value:"processed"}],e.page=1,e.isShowMore=!0,e.repairList=[],e}return Object(c["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.pageInit()}},{key:"validateHandler",value:function(e){this.validity=e.validity,this.valid=e.valid,console.log(e),console.log("validity",e.validity,e.valid,e.dirty,e.firstInvalidFieldIndex)}},{key:"getBindingInfo",value:function(){var e=this,t=this.$route.query;if(t.code){var a=this["$createToast"]({time:0,txt:"数据获取中..."});a.show(),this.$store.dispatch("getCodeInfo",{code:t.code}).then(function(t){t.success&&(t.data.openid?(e.openid=t.data.openid,e.$router.replace({path:"/login",query:{openid:t.data.openid,jump:"/home"}})):t.data.sessionId&&(e.$store.commit("SET_SESSION_ID",t.data.sessionId),e.$store.commit("SET_USER_INFO",t.data.userInfo),e.tabBarChange())),a.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var e=this.$route.query;this.$store.state.sessionId?this.tabBarChange():e.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"tabBarChange",value:function(e){this.page=1,this.repairList=[],this.isShowMore=!0,this.getRepairList()}},{key:"getHouseInfo",value:function(){var e=this,t={};return this.$store.state.houseList.forEach(function(a){a.id===e.houseId&&(t=a)}),t}},{key:"getRepairList",value:function(){var e=this,t=this["$createToast"]({time:0,txt:"数据获取中..."});t.show(),this.$store.dispatch("getRepairList",{page:this.page,type:this.selectedLabelDefault}).then(function(a){a.success&&(a.data.list.length>0?e.repairList=e.repairList.concat(a.data.list):e.isShowMore=!1),t.hide()})}},{key:"showMoreClick",value:function(){this.page++,this.getRepairList()}},{key:"updateRepairState",value:function(e){var t=this;this.$store.dispatch("updateRepairState",{id:e}).then(function(e){e.success&&(t["$createDialog"]({type:"alert",content:"处理完成",icon:"cubeic-ok"}).show(),t.tabBarChange())})}},{key:"houseOptions",get:function(){return this.$store.state.houseList.forEach(function(e){e.value=e.id,e.text=e.account_info[0].name+" "+e.build_info[0].name+" "+e.unitNum+"单元"+e.floorNum+"层"+e.roomNum+"室"}),this.$store.state.houseList}},{key:"userInfo",get:function(){return this.$store.state.userInfo}}]),t}(p["c"]);Object(u["a"])([Object(p["b"])({default:"default value"})],h.prototype,"propB",void 0),h=Object(u["a"])([Object(p["a"])({components:{HelloWorld:v["a"]},filters:{getFormatDate:function(e){return new Date(e).getFullYear()+"年"+(new Date(e).getMonth()+1)+"月"+new Date(e).getDate()+"号"},getRepairType:function(e){return"type1"===e?"开锁服务":"type2"===e?"公共报修":"type3"===e?"个人报修":"其他报修"}}})],h);var d=h,f=d,b=(a("3a89"),a("d4c7"),a("2877")),_=Object(b["a"])(f,s,i,!1,null,"d2eeb806",null);t["default"]=_.exports},d4c7:function(e,t,a){"use strict";var s=a("ee8d"),i=a.n(s);i.a},ee8d:function(e,t,a){},fdab:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._m(0),a("h3",[e._v("Installed CLI Plugins")]),e._m(1),a("h3",[e._v("Essential Links")]),e._m(2),a("h3",[e._v("Ecosystem")]),e._m(3)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),a("br"),e._v("\n    check out the\n    "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript",target:"_blank",rel:"noopener"}},[e._v("typescript")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],r=a("d225"),n=a("308d"),o=a("6bb5"),l=a("4e2b"),c=a("9ab4"),u=a("60a3"),p=function(e){function t(){return Object(r["a"])(this,t),Object(n["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(u["c"]);Object(c["a"])([Object(u["b"])()],p.prototype,"msg",void 0),p=Object(c["a"])([u["a"]],p);var v=p,h=v,d=(a("170f"),a("2877")),f=Object(d["a"])(h,s,i,!1,null,"13913fa2",null);t["a"]=f.exports}}]);
//# sourceMappingURL=repairAdmin.7c77760f.js.map