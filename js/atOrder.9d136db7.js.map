{"version":3,"sources":["webpack:///./src/views/appcenter/index.vue?5af0","webpack:///./src/views/appcenter/appList.vue?2154","webpack:///./src/views/appcenter/appList.vue","webpack:///./src/views/appcenter/appList.vue?0c61","webpack:///./src/views/appcenter/appList.vue?f6db","webpack:///./src/views/appcenter/index.vue","webpack:///./src/views/appcenter/index.vue?9eae","webpack:///./src/views/appcenter/index.vue?23af","webpack:///./src/components/common-components/previewOrder.vue?a174","webpack:///./src/views/commodityClass/atOrder.vue?8746","webpack:///./src/views/appcenter/appList.vue?f04a","webpack:///./src/views/commodityClass/atOrder.vue?1835","webpack:///./src/components/common-components/previewOrder.vue?f5d1","webpack:///./src/components/common-components/previewOrder.vue","webpack:///./src/components/common-components/previewOrder.vue?8b19","webpack:///./src/components/common-components/previewOrder.vue?4057","webpack:///./src/components/common-components/payClick.vue?97f2","webpack:///./src/components/common-components/payClick.vue","webpack:///./src/components/common-components/payClick.vue?bba7","webpack:///./src/components/common-components/payClick.vue?89b2","webpack:///./src/views/commodityClass/atOrder.vue","webpack:///./src/views/commodityClass/atOrder.vue?1397","webpack:///./src/views/commodityClass/atOrder.vue?ea84","webpack:///./src/components/common-components/payClick.vue?7592","webpack:///./src/views/appcenter/index.vue?dd82","webpack:///./src/views/commodityClass/atOrder.vue?8853"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","selectedLabelDefault","tag","on","clickHandler","changeHandler","model","value","callback","$$v","expression","_l","item","index","key","attrs","class","icon","slot","_v","_s","label","staticRenderFns","sessionId","$event","appClick","AppList","arguments","appList","path","console","log","$route","query","$router","push","state","Vue","__decorate","Component","components","banner","component","Home","tabs","actions","ref","style","selectCommodityList","options","food","imgUrlList","length","name","getFoodPrice","num","unit","staticStyle","selectCommodityPrice","houseSelect","autoHeight","height","isShowChange","NP","strip","price","$set","$store","commit","type","classId","setClassNum","setNum","$nextTick","$refs","atScroll","refresh","pullDownRefresh","pullUpLoad","scrollbar","fade","sumValue","forEach","obj","allPrice","Prop","default","prototype","Watch","filters","getFoodNum","text","paymentClick","$emit","action","commodityNum","indicator","phone","openid","page","commodityId","commodityObj","totalCost","userInfo","address","payButtonClick","weixinInfo","payShowVisible","newPrice","code","toast","time","txt","show","dispatch","then","response","success","data","getWeiXinConfig","hide","stateArr","split","replace","getUserInfo","id","isNaN","toFixed","url","window","location","href","res","config","wx","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","error","err","commodityList","imgUrl","businessId","$createToast","JSON","stringify","getIsMiniProgram","isMini","miniProgram","navigateTo","that","fee","body","payData","chooseWXPay","timeStamp","package","signType","paySign","mask","onTimeout","Promise","resolve","getEnv","miniprogram","propB","previewOrder","payClick","getFormatDate","date","Date","getFullYear","getMonth","getDate","fenToYuan"],"mappings":"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","file":"js/atOrder.9d136db7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"app-box\"},[_c('keep-alive',[_c(_vm.selectedLabelDefault,{tag:\"component\"})],1)],1),_c('div',{staticClass:\"app-tab\"},[_c('cube-tab-bar',{on:{\"click\":_vm.clickHandler,\"change\":_vm.changeHandler},model:{value:(_vm.selectedLabelDefault),callback:function ($$v) {_vm.selectedLabelDefault=$$v},expression:\"selectedLabelDefault\"}},_vm._l((_vm.tabs),function(item,index){return _c('cube-tab',{key:index,attrs:{\"label\":item.value}},[_c('div',[_c('i',{class:['iconfont', item.icon],attrs:{\"slot\":\"icon\"},slot:\"icon\"})]),_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(item.label))])])}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_vm._v(\"\\n  \"+_vm._s(_vm.sessionId)+\"\\n  \"),_c('div',{staticClass:\"app-con\"},[_c('div',{staticClass:\"app-con-tit\"},[_vm._v(\"营销拓客\")]),_c('div',{staticClass:\"app-con-box\"},_vm._l((_vm.appList),function(item,index){return _c('div',{key:index,staticClass:\"app-block\",on:{\"click\":function($event){return _vm.appClick(item)}}},[_c('div',{staticClass:\"icon\"},[_c('i',{class:['iconfont', item.icon]})]),_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(item.label))])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport banner from '@/components/common-components/bannerSlide.vue';\r\nlet AppList = class AppList extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.sessionId = '';\r\n        this.appList = [\r\n            {\r\n                icon: 'iconshangpin',\r\n                label: '商品管理',\r\n                path: '/commodityClass'\r\n            },\r\n            {\r\n                icon: 'iconshangpin',\r\n                label: '在线传单'\r\n            },\r\n            {\r\n                icon: 'iconshangpin',\r\n                label: '群发短信'\r\n            },\r\n            {\r\n                icon: 'iconshangpin',\r\n                label: '客户'\r\n            },\r\n            {\r\n                icon: 'iconshangpin',\r\n                label: '群活码'\r\n            }\r\n        ];\r\n    }\r\n    mounted() {\r\n        console.log(this.$route, 'ppppppppppppppppppppppp');\r\n        this.sessionId = this.$route.query.sessionId;\r\n    }\r\n    appClick(item) {\r\n        if (item.path) {\r\n            this.$router.push({ path: item.path, query: { state: 'business@5693c8b0-f97f-11ea-8165-3111824eebe8' } });\r\n        }\r\n    }\r\n};\r\nAppList = __decorate([\r\n    Component({\r\n        components: {\r\n            banner\r\n        }\r\n    })\r\n], AppList);\r\nexport default AppList;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./appList.vue?vue&type=template&id=494eb0b0&scoped=true&\"\nimport script from \"./appList.vue?vue&type=script&lang=ts&\"\nexport * from \"./appList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./appList.vue?vue&type=style&index=0&id=494eb0b0&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"494eb0b0\",\n  null\n  \n)\n\nexport default component.exports","import { __decorate } from \"tslib\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport appList from './appList.vue';\r\nlet Home = class Home extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.selectedLabelDefault = 'appList';\r\n        this.tabs = [{\r\n                label: '工作中心',\r\n                icon: 'icon_yingyong',\r\n                value: 'appList'\r\n            }, {\r\n                label: '我的',\r\n                icon: 'icon_gongzhonghao',\r\n                value: 'myconfig'\r\n            }];\r\n    }\r\n    clickHandler(value) {\r\n        // if you clicked home tab, then print 'Home'\r\n        console.log(value);\r\n    }\r\n    changeHandler(label) {\r\n        // if you clicked different tab, this methods can be emitted\r\n    }\r\n};\r\nHome = __decorate([\r\n    Component({\r\n        components: {\r\n            appList\r\n        }\r\n    })\r\n], Home);\r\nexport default Home;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f944ae40&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f944ae40&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f944ae40\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewOrder.vue?vue&type=style&index=0&id=32715893&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewOrder.vue?vue&type=style&index=0&id=32715893&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appList.vue?vue&type=style&index=0&id=494eb0b0&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appList.vue?vue&type=style&index=0&id=494eb0b0&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"atOrder\"},[_c('previewOrder'),_c('payClick',{attrs:{\"actions\":_vm.actions},on:{\"click\":_vm.clickHandler}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'isAtOrder': true}},[_c('div',{ref:\"selectlist\",staticClass:\"atOrderBox\"},[_c('p',{staticClass:\"atOrderBox-title\"},[_vm._v(\"订单确认\")]),_c('div',{style:(_vm.autoHeight)},[_c('cube-scroll',{ref:\"atScroll\",attrs:{\"data\":_vm.selectCommodityList,\"options\":_vm.options}},[_c('ul',{staticClass:\"foods-wrapper\"},_vm._l((_vm.selectCommodityList),function(food,index){return _c('li',{staticClass:\"atOrderBox-li\"},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":food.imgUrlList && food.imgUrlList.length > 0 ? food.imgUrlList[0] + '?w=100' : ''}})]),_c('div',{staticClass:\"atOrderBox-info\"},[_c('div',{staticClass:\"atOrderBox-info-name\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.getFoodPrice(food)))])]),_c('div',{staticClass:\"atOrderBox-info-num\"},[_c('span',[_vm._v(\"数量:\"+_vm._s(food.num)+_vm._s(food.unit))])])])])}),0)])],1),_c('div',{staticClass:\"atOrderBox-bottom\"},[_c('span',{staticStyle:{\"margin-left\":\"3px\"}},[_vm._v(\"小计\")]),_vm._v(_vm._s(_vm.selectCommodityPrice))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport NP from 'number-precision';\r\nlet houseSelect = class houseSelect extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.autoHeight = { height: 'auto' };\r\n    }\r\n    activated() {\r\n        this.isShowChange(true);\r\n    }\r\n    get options() {\r\n        return {\r\n            pullDownRefresh: false,\r\n            pullUpLoad: false,\r\n            scrollbar: {\r\n                fade: false\r\n            }\r\n        };\r\n    }\r\n    get selectCommodityList() {\r\n        return this.$store.state.selectCommodityList;\r\n    }\r\n    getFoodPrice(food) {\r\n        return '¥' + NP.strip(food.num * food.price);\r\n    }\r\n    foodAdd(food, index) {\r\n        let num = food.num || 0;\r\n        this.$set(this.selectCommodityList[index], 'num', num + 1);\r\n        this.$store.commit('SET_SELECT_COMMODITY_LIST', { type: 'add', item: this.selectCommodityList[index] });\r\n        let classId = food.class;\r\n        this.setClassNum(classId, 'add');\r\n    }\r\n    setClassNum(classId, type) {\r\n        this.$store.commit('SET_SELECT_COMMODITY_NUM', { classId: classId, type: type });\r\n    }\r\n    foodReduce(food, index) {\r\n        let num = food.num || 0;\r\n        let setNum = food.num - 1;\r\n        setNum <= 0 ? 0 : setNum;\r\n        this.$set(this.selectCommodityList[index], 'num', setNum);\r\n        this.$store.commit('SET_SELECT_COMMODITY_LIST', { type: 'reduce', item: this.selectCommodityList[index] });\r\n        let classId = food.class;\r\n        this.setClassNum(classId, 'reduce');\r\n    }\r\n    isShowChange(value) {\r\n        console.log('999999999999999');\r\n        if (this.selectCommodityList.length > 3) {\r\n            this.autoHeight.height = 274 + 'px';\r\n        }\r\n        else {\r\n            this.autoHeight.height = 'auto';\r\n        }\r\n        this.$nextTick(function () {\r\n            this.$refs.atScroll.refresh();\r\n        });\r\n    }\r\n    // @Watch('isShow')\r\n    // isShowChange (value) {\r\n    //    if (this.selectCommodityList.length > 3) {\r\n    //      this.autoHeight.height = 274 + 'px'\r\n    //     if (value) {\r\n    //       this.$nextTick(function(){\r\n    //         this.$refs.atScroll.refresh()\r\n    //       })\r\n    //     }\r\n    //    } else {\r\n    //      this.autoHeight.height = 'auto'\r\n    //    }\r\n    // }\r\n    emptyCommodity() {\r\n        this.$store.commit('EMPTY_COMMODITY');\r\n    }\r\n    get commodityNum() {\r\n        let sumValue = 0;\r\n        this.$store.state.selectCommodityList.forEach((obj) => {\r\n            return sumValue += obj.num;\r\n        });\r\n        return sumValue;\r\n    }\r\n    get selectCommodityPrice() {\r\n        let allPrice = 0;\r\n        this.$store.state.selectCommodityList.forEach((item) => {\r\n            allPrice += item.price * item.num;\r\n        });\r\n        return '¥' + NP.strip(allPrice);\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: false })\r\n], houseSelect.prototype, \"isShow\", void 0);\r\n__decorate([\r\n    Watch('selectCommodityList')\r\n], houseSelect.prototype, \"isShowChange\", null);\r\nhouseSelect = __decorate([\r\n    Component({\r\n        components: {},\r\n        filters: {\r\n            getFoodNum(food) {\r\n                return (food.num && food.num > 0) ? food.num : 0;\r\n            }\r\n        }\r\n    })\r\n], houseSelect);\r\nexport default houseSelect;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewOrder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewOrder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewOrder.vue?vue&type=template&id=32715893&scoped=true&\"\nimport script from \"./previewOrder.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewOrder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewOrder.vue?vue&type=style&index=0&id=32715893&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32715893\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.actions[0].text))]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.paymentClick}},[_vm._v(\"下单并支付\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nlet houseSelect = class houseSelect extends Vue {\r\n    mounted() {\r\n    }\r\n    paymentClick() {\r\n        this.$emit('click', { action: 'payButtonClickHandle' });\r\n    }\r\n    shoppingClick() {\r\n        if (this.commodityNum > 0) {\r\n            this.$emit('click', { action: 'shoppingClick' });\r\n        }\r\n    }\r\n    get commodityNum() {\r\n        let sumValue = 0;\r\n        this.$store.state.selectCommodityList.forEach((obj) => {\r\n            return sumValue += obj.num;\r\n        });\r\n        return sumValue;\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: '' })\r\n], houseSelect.prototype, \"actions\", void 0);\r\nhouseSelect = __decorate([\r\n    Component({\r\n        components: {},\r\n        filters: {}\r\n    })\r\n], houseSelect);\r\nexport default houseSelect;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payClick.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payClick.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./payClick.vue?vue&type=template&id=421c7ac2&scoped=true&\"\nimport script from \"./payClick.vue?vue&type=script&lang=ts&\"\nexport * from \"./payClick.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./payClick.vue?vue&type=style&index=0&id=421c7ac2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"421c7ac2\",\n  null\n  \n)\n\nexport default component.exports","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport wx from 'weixin-js-sdk';\r\nimport NP from 'number-precision';\r\nimport previewOrder from '@/components/common-components/previewOrder.vue';\r\nimport payClick from '@/components/common-components/payClick.vue';\r\nlet Home = class Home extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.indicator = false;\r\n        // 声明周期钩子\r\n        this.model = { phone: '', openid: '' };\r\n        this.actions = [\r\n            {\r\n                text: '¥00.00',\r\n                action: 'moreMoney'\r\n            },\r\n            {\r\n                type: 'button',\r\n                text: '<div class=\"payButton\">立即购买</div>',\r\n                action: 'payButtonClickHandle'\r\n            }\r\n        ];\r\n        // 已缴费用\r\n        this.page = 1;\r\n        this.commodityId = '';\r\n        this.commodityObj = {};\r\n        this.commodityNum = 1;\r\n        this.totalCost = 0;\r\n        this.userInfo = { 'phone': '', address: '' };\r\n        this.openid = '';\r\n        this.payButtonClick = false;\r\n        this.weixinInfo = {};\r\n        // 购物车控制\r\n        this.payShowVisible = false;\r\n    }\r\n    activated() {\r\n        this.$store.commit('SET_SESSION_ID', 'noSession');\r\n        let userInfo = this.$route.query.userInfo;\r\n        this.openid = this.$route.query.openid;\r\n        this.$set(this, 'userInfo', userInfo);\r\n        this.actions[0].text = '¥' + this.selectCommodityPrice;\r\n    }\r\n    get selectCommodityPrice() {\r\n        let allPrice = 0;\r\n        this.$store.state.selectCommodityList.forEach((item) => {\r\n            allPrice += item.price * item.num;\r\n        });\r\n        return NP.strip(allPrice);\r\n    }\r\n    selectCommodityListChanged(newPrice) {\r\n        this.actions[0].text = '¥' + newPrice;\r\n    }\r\n    // 计算属性\r\n    get computedMsg() {\r\n        return 'computed ' + this.propB;\r\n    }\r\n    getUserInfo() {\r\n        let query = this.$route.query;\r\n        if (query.code) {\r\n            const toast = this['$createToast']({\r\n                time: 0,\r\n                txt: '数据获取中...'\r\n            });\r\n            toast.show();\r\n            this.$store.dispatch('getCommodityUserInfo', { code: query.code }).then((response) => {\r\n                if (response.success) {\r\n                    if (response.data.openid) {\r\n                        this.openid = response.data.openid;\r\n                        this.getWeiXinConfig();\r\n                        if (response.data.userInfo) {\r\n                            this.userInfo = response.data.userInfo;\r\n                        }\r\n                        if (response.data.weixinInfo) {\r\n                            this.weixinInfo = response.data.weixinInfo;\r\n                        }\r\n                        // this.$router.replace({ path: '/login', query: { openid: response.data.openid, jump: '/home' } })\r\n                    }\r\n                }\r\n                toast.hide();\r\n            });\r\n        }\r\n        else {\r\n            console.log('不是微信登陆');\r\n        }\r\n    }\r\n    pageInit() {\r\n        let query = this.$route.query;\r\n        let state = query.state;\r\n        if (state) {\r\n            let stateArr = state.split('@');\r\n            if (stateArr[0] === 'commodity') {\r\n                this.commodityId = stateArr[1].replace(/\\'/g, \"\");\r\n            }\r\n        }\r\n        if (query.code) {\r\n            this.getUserInfo();\r\n        }\r\n    }\r\n    getCommodityById() {\r\n        const toast = this['$createToast']({\r\n            time: 0,\r\n            txt: '数据获取中...'\r\n        });\r\n        toast.show();\r\n        this.$store.dispatch('getCommodityById', { id: this.commodityId }).then((response) => {\r\n            if (response.success) {\r\n                this.$set(this, 'commodityObj', response.data);\r\n            }\r\n            toast.hide();\r\n        });\r\n    }\r\n    fenToYuan(num) {\r\n        if (typeof num !== 'number' || isNaN(num))\r\n            return null;\r\n        return '合计 ¥' + NP.strip((num / 100).toFixed(2));\r\n    }\r\n    getWeiXinConfig() {\r\n        // let url = window.location.origin + window.location.pathname\r\n        let url = window.location.href;\r\n        this.$store.dispatch('getWeixinConfig', { url: url }).then((res) => {\r\n            console.log('获取微信配置成功', res);\r\n            if (res.success) {\r\n                let config = res.data;\r\n                wx.config({\r\n                    debug: false,\r\n                    appId: config.appId,\r\n                    timestamp: config.timestamp,\r\n                    nonceStr: config.nonceStr,\r\n                    signature: config.signature,\r\n                    jsApiList: ['chooseWXPay'] // 必填，需要使用的JS接口列表\r\n                });\r\n            }\r\n            wx.ready(function () {\r\n            });\r\n            wx.error(function (err) {\r\n            });\r\n        });\r\n    }\r\n    clickHandler(item) {\r\n        if (item.action) {\r\n            this[item.action](item);\r\n        }\r\n    }\r\n    async payButtonClickHandle() {\r\n        this.payButtonClick = true;\r\n        let commodityList = [];\r\n        console.log(this.$store.state.selectCommodityList);\r\n        this.$store.state.selectCommodityList.forEach((item) => {\r\n            let obj = {};\r\n            let fee = 0;\r\n            obj.id = item.id;\r\n            obj.name = item.name;\r\n            obj.num = item.num;\r\n            obj.price = item.price;\r\n            obj.imgUrl = item.imgUrlList[0];\r\n            commodityList.push(obj);\r\n        });\r\n        console.log(this.$store.state.businessId, 'this.$store.state.businessId');\r\n        if (commodityList.length <= 0) {\r\n            const toast = this.$createToast({\r\n                txt: '请选择商品',\r\n                type: 'error'\r\n            });\r\n            toast.show();\r\n            return;\r\n        }\r\n        console.log('type=commodity&commodityList=' + JSON.stringify(commodityList) + '&fee=' + this.selectCommodityPrice + '&businessId=' + this.$store.state.businessId);\r\n        let isMini = await this.getIsMiniProgram();\r\n        if (isMini) {\r\n            wx.miniProgram.navigateTo({\r\n                url: '/pages/jumbprocess/index?type=commodity&commodityList=' + JSON.stringify(commodityList) + '&fee=' + this.selectCommodityPrice + '&businessId=' + this.$store.state.businessId\r\n            });\r\n            return;\r\n        }\r\n        if (!this.userInfo.phone || !this.userInfo.address) {\r\n            this.$router.push({ path: '/orderConfirm', query: { userInfo: this.userInfo, openid: this.openid } });\r\n        }\r\n        else {\r\n            let that = this;\r\n            let query = {};\r\n            query.fee = this.selectCommodityPrice;\r\n            query.body = '集合订单';\r\n            query.openid = this.openid;\r\n            // query.commodityId = this.commodityId\r\n            query.commodityList = commodityList;\r\n            query.businessId = this.$store.state.businessId;\r\n            // query.num = this.commodityNum\r\n            // query.subscribe = this.weixinInfo.subscribe\r\n            this.$store.dispatch('setCommodityOrder', query).then((response) => {\r\n                if (response.success) {\r\n                    let payData = response.data;\r\n                    wx.chooseWXPay({\r\n                        timestamp: payData.timeStamp,\r\n                        nonceStr: payData.nonceStr,\r\n                        package: payData.package,\r\n                        signType: payData.signType,\r\n                        paySign: payData.paySign,\r\n                        success: function (res) {\r\n                            // 支付成功后的回调函数\r\n                            that.payButtonClick = false;\r\n                            const toast = that.$createToast({\r\n                                time: 2000,\r\n                                txt: '订单处理中...',\r\n                                mask: true,\r\n                                onTimeout: () => {\r\n                                    // that.getBillListByHouseId()\r\n                                    // that['$createDialog']({\r\n                                    //   type: 'alert',\r\n                                    //   content: '购买成功\\n 请查看公众号订单信息',\r\n                                    //   icon: 'cubeic-ok'\r\n                                    // }).show()\r\n                                    that.$router.replace({ path: '/paySuccess', query: { openid: that.openid } });\r\n                                }\r\n                            });\r\n                            toast.show();\r\n                        },\r\n                        error: function () {\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    shoppingClick() {\r\n        this.payShowVisible = !this.payShowVisible;\r\n    }\r\n    payShowCancel() {\r\n        this.payShowVisible = false;\r\n    }\r\n    async getIsMiniProgram() {\r\n        return new Promise((resolve) => {\r\n            wx.miniProgram.getEnv(function (res) {\r\n                resolve(res.miniprogram);\r\n            });\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Watch('selectCommodityPrice')\r\n], Home.prototype, \"selectCommodityListChanged\", null);\r\n__decorate([\r\n    Prop({ default: 'default value' })\r\n], Home.prototype, \"propB\", void 0);\r\nHome = __decorate([\r\n    Component({\r\n        components: {\r\n            previewOrder,\r\n            payClick\r\n        },\r\n        filters: {\r\n            getFormatDate(date) {\r\n                return new Date(date).getFullYear() + '年' + (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate();\r\n            },\r\n            fenToYuan(num) {\r\n                if (typeof num !== 'number' || isNaN(num))\r\n                    return null;\r\n                return '¥' + (num / 100).toFixed(2);\r\n            }\r\n        }\r\n    })\r\n], Home);\r\nexport default Home;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./atOrder.vue?vue&type=template&id=d3886320&scoped=true&\"\nimport script from \"./atOrder.vue?vue&type=script&lang=ts&\"\nexport * from \"./atOrder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./atOrder.vue?vue&type=style&index=0&id=d3886320&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\nimport style1 from \"./atOrder.vue?vue&type=style&index=1&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3886320\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payClick.vue?vue&type=style&index=0&id=421c7ac2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payClick.vue?vue&type=style&index=0&id=421c7ac2&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f944ae40&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f944ae40&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=style&index=0&id=d3886320&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./atOrder.vue?vue&type=style&index=0&id=d3886320&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\""],"sourceRoot":""}