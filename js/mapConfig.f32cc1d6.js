(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mapConfig"],{"07e8":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cube-page",class:t.type},[a("header",{staticClass:"header"},[a("h1",[t._v(t._s(t.title))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:t.back}}),a("div",{staticClass:"header-edit"},[t._t("edit")],2)]),a("div",{class:{wrapper:!0,isWhite:"white"===t.type}},[a("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},i=[],c=a("d225"),n=a("b0b4"),s=a("308d"),l=a("6bb5"),r=a("4e2b"),d=a("9ab4"),u=a("60a3"),b=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),Object(n["a"])(e,[{key:"back",value:function(){this.$router.go(-1)}},{key:"created",value:function(){console.log("创建page ===")}}]),e}(u["c"]);Object(d["a"])([Object(u["b"])()],b.prototype,"msg",void 0),Object(d["a"])([Object(u["b"])({default:"",required:!0})],b.prototype,"title",void 0),Object(d["a"])([Object(u["b"])({default:""})],b.prototype,"type",void 0),Object(d["a"])([Object(u["b"])({default:""})],b.prototype,"desc",void 0),Object(d["a"])([Object(u["b"])({default:""})],b.prototype,"content",void 0),Object(d["a"])([Object(u["b"])({default:!0})],b.prototype,"isBack",void 0),b=Object(d["a"])([Object(u["a"])({})],b);var p=b,v=p,f=(a("2de2"),a("2877")),h=Object(f["a"])(v,o,i,!1,null,"75d201ee",null);e["a"]=h.exports},"2de2":function(t,e,a){"use strict";var o=a("4867"),i=a.n(o);i.a},4867:function(t,e,a){},"51f3":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-box"},t._l(t.list,function(e,o){return a("div",{key:o,staticClass:"box",on:{click:function(a){return t.boxClick(e.action)}}},[e.icon?a("i",{class:["iconfont",e.icon]}):a("span",[t._v(t._s(e.text))])])}),0)},i=[],c=a("d225"),n=a("b0b4"),s=a("308d"),l=a("6bb5"),r=a("4e2b"),d=a("9ab4"),u=a("60a3"),b=function(t){function e(){return Object(c["a"])(this,e),Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),Object(n["a"])(e,[{key:"boxClick",value:function(t){this.$emit("click",t)}}]),e}(u["c"]);Object(d["a"])([Object(u["b"])()],b.prototype,"list",void 0),b=Object(d["a"])([u["a"]],b);var p=b,v=p,f=(a("b493"),a("2877")),h=Object(f["a"])(v,o,i,!1,null,"1bd23a4e",null);e["a"]=h.exports},a387:function(t,e,a){},b493:function(t,e,a){"use strict";var o=a("a387"),i=a.n(o);i.a},b845:function(t,e,a){"use strict";var o=a("d270"),i=a.n(o);i.a},d270:function(t,e,a){},d3f49:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{attrs:{title:t.className}},[a("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"map-box",attrs:{id:"map-box"}}),a("div",{staticClass:"oprate"},[a("cube-button",{on:{click:t.saveSchoolInfo}},[t._v("保存")])],1)])])},i=[],c=a("d225"),n=a("b0b4"),s=a("308d"),l=a("6bb5"),r=a("4e2b"),d=a("9ab4"),u=a("60a3"),b=a("07e8"),p=a("3a45"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cube-form",{ref:"addForm",attrs:{model:t.model,schema:t.schema,"immediate-validate":!1,options:t.options},on:{validate:t.validateHandler,submit:t.submitHandler,reset:t.resetHandler}})},f=[],h=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.validity={},t.valid=void 0,t.model={title:""},t.schema={groups:[{legend:"新增公告",fields:[{type:"textarea",modelKey:"title",label:"公告内容",props:{placeholder:"请输入"},rules:{required:!0},debounce:100}]},{fields:[{type:"submit",label:"保存"}]}]},t.options={scrollToInvalidField:!0,layout:"classic"},t}return Object(r["a"])(e,t),Object(n["a"])(e,[{key:"submitHandler",value:function(t){t.preventDefault(),this.$emit("submit",this.model)}},{key:"validateHandler",value:function(t){this.validity=t.validity,this.valid=t.valid,console.log("validity",t.validity,t.valid,t.dirty,t.firstInvalidFieldIndex)}},{key:"reset",value:function(t){this.$refs.addForm.reset()}}]),e}(u["c"]);h=Object(d["a"])([u["a"]],h);var m=h,y=m,O=a("2877"),j=Object(O["a"])(y,v,f,!1,null,"07e28028",null),k=j.exports,w=a("51f3"),g=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.className="校园坐标",t.showBtn=!1,t.coordinate={type:"Point",coordinates:[]},t}return Object(r["a"])(e,t),Object(n["a"])(e,[{key:"hidePopup",value:function(t){var e=this.$refs[t];e.hide()}},{key:"createMap",value:function(){var t=document.createElement("iframe");t.setAttribute("allow","midi; geolocation; microphone; camera; display-capture; encrypted-media;"),t.setAttribute("sandbox","allow-modals allow-forms allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation allow-downloads"),t.src="https://mapapi.qq.com/web/mapComponents/locationPicker/v/index.html?search=1&type=1&key=XDNBZ-GJLLD-EUR43-HDZDI-L2M4E-73FTQ&referer=myapp",t.id="map_box",t.width="100%",t.height="100%",t.frameborder="0",document.getElementById("map-box").appendChild(t)}},{key:"saveSchoolInfo",value:function(){var t=this;if(this.coordinate.coordinates.length<=0){var e=this.$createToast({txt:"请选择坐标",type:"correct"});e.show()}else this.$store.dispatch("updateSchoolInfo",{schoolId:this.schoolInfo.id,type:"coordinate",value:this.coordinate}).then(function(e){e.success&&(t.showBtn=!1,t.showToastType()),t.$store.commit("SET_SCHOOL_INFO_BY_TYPE",{type:"coordinate",value:t.coordinate})})}},{key:"mounted",value:function(){var t=this;t.createMap(),window.addEventListener("message",function(e){var a=e.data;if(a&&"locationPicker"==a.module){console.log("location",a);var o=a.latlng;t.coordinate.coordinates=[o.lng,o.lat]}},!1)}},{key:"showToastType",value:function(){var t=this.$createToast({txt:"保存成功",type:"correct"});t.show()}},{key:"noticeConfig",get:function(){return this.$store.state.schoolInfo.noticeConfig||[]}},{key:"schoolInfo",get:function(){return this.$store.state.schoolInfo}}]),e}(u["c"]);g=Object(d["a"])([Object(u["a"])({components:{page:b["a"],pageView:p["a"],addNotice:k,rightBox:w["a"]}})],g);var _=g,x=_,C=(a("b845"),Object(O["a"])(x,o,i,!1,null,"11780db6",null));e["default"]=C.exports}}]);
//# sourceMappingURL=mapConfig.f32cc1d6.js.map