(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderList"],{"0355":function(t,e,s){},"10b2":function(t,e,s){"use strict";var i=s("68f2"),a=s.n(i);a.a},"15b6":function(t,e,s){},5701:function(t,e,s){},6120:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orderList"},[s("div",{staticClass:"race-list"},[t._l(t.orderList,function(e){return s("div",{staticClass:"order-box"},[s("div",{staticClass:"order-box-tit"},[s("span",{staticClass:"time"},[t._v(t._s(t._f("getFormatDate")(e.payTime)))]),s("span",{staticClass:"type"},[t._v(t._s(t._f("getType")(e)))])]),s("div",{staticClass:"order-box-con"},[s("div",{staticClass:"box-con-img"},[s("img",{attrs:{src:t._f("getImage")(e),alt:""}})]),s("div",{staticClass:"box-con-info"},[s("span",{staticClass:"title"},[t._v("商品名称："+t._s(e.body))]),s("span",[t._v("数量: "+t._s(e.num||1))]),s("span",[t._v("价格: "+t._s(e.fee))])])]),s("div",{staticClass:"user"},[s("div",{staticClass:"tip"},[t._v("有任何问题，请联系配送人员。")]),s("div",{staticClass:"info"},[s("a",{attrs:{href:"tel:13934691550"}},[s("span",[t._v("13934691550")]),s("i",{staticClass:"cubeic-phone"})])])])])}),t.isShowMore?s("div",{staticClass:"more",on:{click:t.showMoreClick}},[t._v("加载更多")]):t._e(),t.isShowMore?t._e():s("div",{staticClass:"more"},[t._v("没有数据了")])],2)])},a=[],n=(s("3b2b"),s("a481"),s("d225")),o=s("b0b4"),c=s("308d"),r=s("6bb5"),u=s("4e2b"),d=s("9ab4"),l=s("60a3"),h=s("b312"),f=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(c["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.openid="",t.page=1,t.orderList=[],t.isShowMore=!1,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"activated",value:function(){this.$store.commit("SET_SESSION_ID","noSession"),this.pageInit()}},{key:"pageInit",value:function(){var t=this.$route.query;t.openid?(this.openid=t.openid,this.getOrderList()):t.code&&this.getUserInfo()}},{key:"getOrderList",value:function(){var t=this,e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getOrderList",{openid:this.openid,page:this.page}).then(function(s){if(s.success){var i=s.data;s.data.list.length>=0&&s.data.list.length<10?(t.orderList=t.orderList.concat(i.list),t.isShowMore=!1):10===s.data.list.length?(t.orderList=t.orderList.concat(i.list),t.isShowMore=!0):t.isShowMore=!1}e.hide()})}},{key:"getUserInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getCommodityUserInfo",{code:e.code}).then(function(e){e.success&&e.data.openid&&(t.openid=e.data.openid,t.getOrderList(),e.data.userInfo&&(t.userInfo=e.data.userInfo)),s.hide()})}else console.log("不是微信登陆")}},{key:"showMoreClick",value:function(){this.page++,this.getOrderList()}},{key:"format",value:function(t,e){e||(e="yyyy-MM-dd hh:mm:ss");var s={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[i]:("00"+s[i]).substr((""+s[i]).length)));return e}},{key:"formatMonth",get:function(){return this.format(this.selectDate,"yyyy-MM")}}]),e}(l["c"]);f=Object(d["a"])([Object(l["a"])({components:{accountSelect:h["a"]},filters:{getFormatDate:function(t){return t?new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()+"号":""},getImage:function(t){return t.commodity_info[0]&&t.commodity_info[0].imgUrlList?t.commodity_info[0].imgUrlList[0]:""},getType:function(t){return"processed"===t.state?"配送成功":"配送中"}}})],f);var g=f,p=g,v=(s("10b2"),s("894e"),s("2877")),b=Object(v["a"])(p,i,a,!1,null,"04424476",null);e["default"]=b.exports},"68f2":function(t,e,s){},"894e":function(t,e,s){"use strict";var i=s("5701"),a=s.n(i);a.a},b312:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"accountSelect"},[s("div",{staticClass:"address"},[s("div",{staticClass:"info"},[s("i",{staticClass:"iconfont iconxiaoqu1"}),s("cube-select",{attrs:{options:t.accountOptions},on:{change:t.accountChange},model:{value:t.accountId,callback:function(e){t.accountId=e},expression:"accountId"}})],1)])])},a=[],n=(s("ac6a"),s("a481"),s("d225")),o=s("b0b4"),c=s("308d"),r=s("6bb5"),u=s("4e2b"),d=s("9ab4"),l=s("60a3"),h=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(c["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.accountList=[],t.accountId="",t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"activated",value:function(){this.accountId?this.$emit("change",this.accountId):this.pageInit()}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var s=this["$createToast"]({time:0,txt:"数据获取中..."});s.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),t.getAdminAccountList())),s.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;this.$store.state.sessionId&&!this.accountId?this.getAdminAccountList():t.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getAdminAccountList",value:function(){var t=this,e=this;this.$store.dispatch("getAdminAccountList",{}).then(function(s){s.data.list&&(s.data.list.forEach(function(t,s){e.$set(e.accountList,s,t)}),t.accountId||(t.accountId=t.accountList[0].id))})}},{key:"getFloorByAccountId",value:function(){var t=this,e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getFloorByAccountId",{accountId:this.accountId}).then(function(s){s.success&&("incomplete"===t.selectedLabelDefault?(t.billList=s.data.list,t.initCheckbox()):s.data.list.length>0?t.billList=t.billList.concat(s.data.list):t.isShowMore=!1),e.hide()})}},{key:"accountChange",value:function(t){var e={};this.accountOptions.forEach(function(s){s.id===t&&(e=s)}),this.$emit("change",t,e)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"accountOptions",get:function(){return this.accountList.forEach(function(t){t.value=t.id,t.text=t.name}),this.accountList}}]),e}(l["c"]);Object(d["a"])([Object(l["d"])("accountId")],h.prototype,"accountChange",null),h=Object(d["a"])([Object(l["a"])({components:{},filters:{}})],h);var f=h,g=f,p=(s("c530"),s("b77c"),s("2877")),v=Object(p["a"])(g,i,a,!1,null,"220f41c5",null);e["a"]=v.exports},b77c:function(t,e,s){"use strict";var i=s("0355"),a=s.n(i);a.a},c530:function(t,e,s){"use strict";var i=s("15b6"),a=s.n(i);a.a}}]);
//# sourceMappingURL=orderList.9628be4a.js.map