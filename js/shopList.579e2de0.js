(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shopList"],{"07e8":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cube-page",class:t.type},[s("header",{staticClass:"header"},[s("h1",[t._v(t._s(t.title))]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:t.back}}),s("div",{staticClass:"header-edit"},[t._t("edit")],2)]),s("div",{class:{wrapper:!0,isWhite:"white"===t.type}},[s("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),s("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},a=[],n=s("d225"),c=s("b0b4"),o=s("308d"),r=s("6bb5"),u=s("4e2b"),d=s("9ab4"),l=s("60a3"),p=function(t){function e(){return Object(n["a"])(this,e),Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"back",value:function(){this.$router.back()}}]),e}(l["c"]);Object(d["a"])([Object(l["b"])()],p.prototype,"msg",void 0),Object(d["a"])([Object(l["b"])({default:"",required:!0})],p.prototype,"title",void 0),Object(d["a"])([Object(l["b"])({default:""})],p.prototype,"type",void 0),Object(d["a"])([Object(l["b"])({default:""})],p.prototype,"desc",void 0),Object(d["a"])([Object(l["b"])({default:""})],p.prototype,"content",void 0),Object(d["a"])([Object(l["b"])({default:!0})],p.prototype,"isBack",void 0),p=Object(d["a"])([l["a"]],p);var h=p,b=h,v=(s("ca73"),s("2877")),f=Object(v["a"])(b,i,a,!1,null,"0717ebb4",null);e["a"]=f.exports},3896:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("page",{attrs:{title:"商店管理",type:"white"}},[s("div",{attrs:{slot:"edit"},slot:"edit"},[s("span",{staticClass:"add-btn",on:{click:t.addShop}},[t._v("新增商店")])]),s("div",{attrs:{slot:"content"},slot:"content"},[s("ul",{staticClass:"commodity-list"},t._l(t.shopList,function(e,i){return s("li",{key:i,staticClass:"commodity-card"},[s("div",{staticClass:"shop-info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.imgUrlList.length>0,expression:"item.imgUrlList.length > 0"}],staticClass:"shop-img"},[s("img",{attrs:{src:e.imgUrlList[0]}})]),s("div",{staticClass:"shop-info"},[s("p",{staticClass:"title"},[t._v(t._s(e.name))])])]),s("div",{staticClass:"edit"},[s("cube-button",{staticClass:"btn",attrs:{inline:!0},on:{click:function(s){return t.editShop(e)}}},[t._v("店铺编辑")]),s("cube-button",{staticClass:"btn",attrs:{primary:!0,inline:!0},on:{click:function(s){return t.toCommodityClass(e)}}},[t._v("商品管理")])],1)])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.shopList.length<=0,expression:"shopList.length <= 0"}],staticClass:"empy"},[t._v("暂无数据")]),s("pageView")],1)])},a=[],n=s("d225"),c=s("b0b4"),o=s("308d"),r=s("6bb5"),u=s("4e2b"),d=s("9ab4"),l=s("60a3"),p=s("07e8"),h=s("3a45"),b=s("7078"),v=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.shopList=[],t}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"getShopList",value:function(){var t=this,e=this.$store.state.userInfo.business,s=this["$createToast"]({time:0,txt:"商店获取中..."});s.show(),this.$store.dispatch("getShopList",{page:1,businessId:e}).then(function(e){if(e.success){var i=e.data.list;t.$set(t,"shopList",i),s.hide()}})}},{key:"addShop",value:function(){this.$router.push({name:"shopAdd"})}},{key:"addCancel",value:function(){this.showAdd=!1}},{key:"saveSuccess",value:function(t,e){var s;"add"===t?this.shopList.push(e):(this.shopList.some(function(t,i){if(e.id===t.id)return s=i,!0}),this.$set(this.shopList,s,e));this.addCancel()}},{key:"editShop",value:function(t){this.$router.push({name:"shopAdd",params:{id:t.id,name:t.name,transType:t.transType,imgUrlList:t.imgUrlList,businessId:t.businessId,address:t.address}})}},{key:"mounted",value:function(){var t=this;this.getShopList(),b["a"].$on("shopList",function(e){t.saveSuccess(e.type,e.data)})}},{key:"toCommodityClass",value:function(t){this.$router.push({path:"/shopList/commodityManageClass",query:{shopId:t.id}})}}]),e}(l["c"]);v=Object(d["a"])([Object(l["a"])({components:{page:p["a"],pageView:h["a"]}})],v);var f=v,m=f,y=(s("ba51"),s("2877")),j=Object(y["a"])(m,i,a,!1,null,"20393f0b",null);e["default"]=j.exports},7078:function(t,e,s){"use strict";s.d(e,"a",function(){return a});var i=s("2b0e"),a=new i["default"]},9378:function(t,e,s){},b0b4:function(t,e,s){"use strict";s.d(e,"a",function(){return c});var i=s("85f2"),a=s.n(i);function n(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),a()(t,i.key,i)}}function c(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}},b13e:function(t,e,s){},ba51:function(t,e,s){"use strict";var i=s("9378"),a=s.n(i);a.a},ca73:function(t,e,s){"use strict";var i=s("b13e"),a=s.n(i);a.a}}]);
//# sourceMappingURL=shopList.579e2de0.js.map