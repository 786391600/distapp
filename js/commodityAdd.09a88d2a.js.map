{"version":3,"sources":["webpack:///./src/components/common-components/page.vue?7cca","webpack:///./src/components/common-components/page.vue","webpack:///./src/components/common-components/page.vue?ed90","webpack:///./src/components/common-components/page.vue?b1c2","webpack:///./src/components/common-components/image-upload.vue?c944","webpack:///./src/components/common-components/image-upload.vue","webpack:///./src/components/common-components/image-upload.vue?42f2","webpack:///./src/components/common-components/image-upload.vue?9442","webpack:///./src/until/event-bus.js","webpack:///./src/components/common-components/image-upload.vue?895a","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./src/views/appcenter/commodityManage/commodity-add.vue?6f40","webpack:///./src/views/appcenter/commodityManage/commodity-add.vue","webpack:///./src/views/appcenter/commodityManage/commodity-add.vue?0afe","webpack:///./src/views/appcenter/commodityManage/commodity-add.vue?b0db","webpack:///./src/views/appcenter/commodityManage/commodity-add.vue?d77b","webpack:///./src/components/common-components/page.vue?8f1c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","type","_v","_s","title","directives","name","rawName","value","expression","on","back","_t","wrapper","isWhite","desc","content","staticRenderFns","Page","$router","Vue","__decorate","Prop","prototype","default","required","Component","component","_l","img","index","key","attrs","$event","handleImgsClick","imageRemove","ref","action","filesAdded","fileRemove","fileSuccess","model","callback","$$v","files","Home","arguments","fileUrl","imageArr","target","data","token","isUploading","$refs","upload","start","pause","retry","hasIgnore","maxSize","k","file","size","ignore","$createToast","time","txt","show","evt","response","md5","str","indexOf","splice","push","initialIndex","params","$props","imgs","loop","$events","change","i","$createImagePreview","list","$emit","length","$set","url","$store","dispatch","then","success","console","log","Watch","immediate","components","filters","EventBus","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps","slot","submitClick","options","validateHandler","submitHandler","resetHandler","fields","AppList","price","unit","disabled","number","imgUrlList","modelKey","label","placeholder","rules","trigger","scrollToInvalidField","layout","$route","classId","shopId","id","e","preventDefault","queryObj","businessId","state","userInfo","business","toast","cubeForm","submit","page","imageUpload"],"mappings":"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","file":"js/commodityAdd.09a88d2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cube-page\",class:_vm.type},[_c('header',{staticClass:\"header\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isBack),expression:\"isBack\"}],staticClass:\"cubeic-back\",on:{\"click\":_vm.back}}),_c('div',{staticClass:\"header-edit\"},[_vm._t(\"edit\")],2)]),_c('div',{class:{ wrapper: true, isWhite: _vm.type === 'white' }},[_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"desc\"},[_vm._t(\"desc\",[_vm._v(_vm._s(_vm.desc))])],2),_c('main',{staticClass:\"content\"},[_vm._t(\"content\",[_vm._v(_vm._s(_vm.content))])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nlet Page = class Page extends Vue {\r\n    back() {\r\n        this.$router.back();\r\n    }\r\n};\r\n__decorate([\r\n    Prop()\r\n], Page.prototype, \"msg\", void 0);\r\n__decorate([\r\n    Prop({ default: '', required: true })\r\n], Page.prototype, \"title\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"type\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"desc\", void 0);\r\n__decorate([\r\n    Prop({ default: '' })\r\n], Page.prototype, \"content\", void 0);\r\n__decorate([\r\n    Prop({ default: true })\r\n], Page.prototype, \"isBack\", void 0);\r\nPage = __decorate([\r\n    Component\r\n], Page);\r\nexport default Page;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=0717ebb4&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=ts&\"\nexport * from \"./page.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0717ebb4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-upload\"},[_c('div',{staticClass:\"file-upload-box\"},[_vm._l((_vm.imageArr),function(img,index){return _c('div',{key:img,staticClass:\"img-box\"},[_c('img',{staticClass:\"imgPriview\",attrs:{\"src\":img},on:{\"click\":function($event){return _vm.handleImgsClick(index)}}}),_c('i',{staticClass:\"cubeic-wrong\",on:{\"click\":function($event){return _vm.imageRemove(img, index)}}})])}),_c('cube-upload',{ref:\"upload\",attrs:{\"action\":_vm.action,\"simultaneous-uploads\":1},on:{\"files-added\":_vm.filesAdded,\"file-removed\":_vm.fileRemove,\"file-success\":_vm.fileSuccess},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}},[_c('div',{staticClass:\"clear-fix\"},[_c('cube-upload-btn',{attrs:{\"multiple\":false}},[_c('div',{staticClass:\"cube-upload-btn-def\"},[_c('i')])])],1)])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nlet Home = class Home extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        // 文件上传测试\r\n        this.fileUrl = 'http://img.beijixiong.club:4869/';\r\n        this.imageArr = [];\r\n        this.action = { target: '/fileUpload', data: { token: 'rwwXO0wQq5SBEqP7' } };\r\n        this.isUploading = true;\r\n    }\r\n    upload() {\r\n        this.isUploading = true;\r\n        this.$refs.upload.start();\r\n    }\r\n    pause() {\r\n        this.isUploading = false;\r\n        this.$refs.upload.pause();\r\n    }\r\n    retry() {\r\n        this.$refs.upload.retry();\r\n    }\r\n    filesAdded(files) {\r\n        let hasIgnore = false;\r\n        const maxSize = 1 * 1024 * 1024; // 1M\r\n        for (let k in files) {\r\n            const file = files[k];\r\n            if (file.size > maxSize) {\r\n                file.ignore = true;\r\n                hasIgnore = true;\r\n            }\r\n        }\r\n        hasIgnore && this.$createToast({\r\n            type: 'warn',\r\n            time: 2000,\r\n            txt: '文件需要小于1M'\r\n        }).show();\r\n    }\r\n    fileRemove(evt) {\r\n        if (evt.response && evt.response.md5) {\r\n            let str = this.fileUrl + evt.response.md5;\r\n            var index = this.imageArr.indexOf(str);\r\n            if (index > -1) {\r\n                this.imageArr.splice(index, 1);\r\n            }\r\n        }\r\n    }\r\n    fileSuccess(file) {\r\n        let md5 = file.response.md5;\r\n        let fileUrl = this.fileUrl + md5;\r\n        var index = this.imageArr.indexOf(fileUrl);\r\n        if (index === -1) {\r\n            this.imageArr.push(fileUrl);\r\n        }\r\n    }\r\n    handleImgsClick(index) {\r\n        this.initialIndex = index;\r\n        const params = {\r\n            $props: {\r\n                imgs: this.imageArr,\r\n                initialIndex: 'initialIndex',\r\n                loop: false\r\n            },\r\n            $events: {\r\n                change: (i) => {\r\n                    // 必须更新 initialIndex\r\n                    this.initialIndex = i;\r\n                }\r\n            }\r\n        };\r\n        this.$createImagePreview({ ...params }).show();\r\n    }\r\n    imageArrChange(list) {\r\n        this.$emit('input', list);\r\n    }\r\n    valueChange(value) {\r\n        if (value.length > 0) {\r\n            this.$set(this, 'imageArr', value);\r\n        }\r\n    }\r\n    imageRemove(url, index) {\r\n        this.$store.dispatch('removeImage', { url: url }).then((response) => {\r\n            if (response.success) {\r\n                console.log(url);\r\n                console.log('图片删除成功！');\r\n            }\r\n            this.imageArr.splice(index, 1);\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Prop({ default: [] })\r\n], Home.prototype, \"value\", void 0);\r\n__decorate([\r\n    Watch('imageArr')\r\n], Home.prototype, \"imageArrChange\", null);\r\n__decorate([\r\n    Watch('value', { immediate: true })\r\n], Home.prototype, \"valueChange\", null);\r\nHome = __decorate([\r\n    Component({\r\n        components: {},\r\n        filters: {}\r\n    })\r\n], Home);\r\nexport default Home;\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image-upload.vue?vue&type=template&id=62b3ef50&\"\nimport script from \"./image-upload.vue?vue&type=script&lang=ts&\"\nexport * from \"./image-upload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: Wangtao\r\n * @Date: 2021-02-01 19:18:51\r\n * @LastEditors: Wangtao\r\n * @LastEditTime: 2021-02-01 19:20:03\r\n */\r\nimport Vue from 'vue'\r\nexport const EventBus = new Vue()","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page',{attrs:{\"title\":_vm.title,\"type\":'white'}},[_c('div',{attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('span',{on:{\"click\":_vm.submitClick}},[_vm._v(\"完成\")])]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('cube-form',{ref:\"cubeForm\",attrs:{\"model\":_vm.model,\"immediate-validate\":false,\"options\":_vm.options},on:{\"validate\":_vm.validateHandler,\"submit\":_vm.submitHandler,\"reset\":_vm.resetHandler}},[_c('cube-form-item',{attrs:{\"field\":_vm.fields[0]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[1]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[2]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[3]}}),_c('cube-form-item',{attrs:{\"field\":_vm.fields[4]}}),_c('imageUpload',{model:{value:(_vm.model.imgUrlList),callback:function ($$v) {_vm.$set(_vm.model, \"imgUrlList\", $$v)},expression:\"model.imgUrlList\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __decorate } from \"tslib\";\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport page from '@/components/common-components/page.vue';\r\nimport imageUpload from '@/components/common-components/image-upload.vue';\r\nimport { EventBus } from '@/until/event-bus';\r\nlet AppList = class AppList extends Vue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.title = '新增商品';\r\n        this.model = {\r\n            name: '',\r\n            price: 0,\r\n            unit: '',\r\n            disabled: false,\r\n            number: 0,\r\n            imgUrlList: []\r\n        };\r\n        this.fields = [\r\n            {\r\n                type: 'input',\r\n                modelKey: 'name',\r\n                label: '商品名称',\r\n                props: {\r\n                    placeholder: '请输入'\r\n                },\r\n                rules: {\r\n                    required: true\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur'\r\n            },\r\n            {\r\n                type: 'input',\r\n                modelKey: 'price',\r\n                label: '价格',\r\n                props: {\r\n                    placeholder: '请输入价格'\r\n                },\r\n                rules: {\r\n                    required: true,\r\n                    type: 'number'\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur'\r\n            },\r\n            {\r\n                type: 'select',\r\n                modelKey: 'unit',\r\n                label: '单位',\r\n                props: {\r\n                    options: ['个', '斤', '件', '箱', '平米', '条']\r\n                },\r\n                rules: {\r\n                    required: true\r\n                }\r\n            },\r\n            {\r\n                type: 'switch',\r\n                modelKey: 'disabled',\r\n                label: '是否上架'\r\n            },\r\n            {\r\n                type: 'input',\r\n                modelKey: 'number',\r\n                label: '数量',\r\n                props: {\r\n                    placeholder: '请输入数量'\r\n                },\r\n                rules: {\r\n                    type: 'number',\r\n                    required: true\r\n                },\r\n                // validating when blur\r\n                trigger: 'blur'\r\n            }\r\n        ];\r\n        this.options = {\r\n            scrollToInvalidField: true,\r\n            layout: 'standard' // classic fresh\r\n        };\r\n    }\r\n    created() {\r\n        let params = this.$route.params;\r\n        this.classId = params.classId;\r\n        this.shopId = params.shopId;\r\n        if (params.data.id) {\r\n            this.title = '修改商品';\r\n            this.model = params.data;\r\n        }\r\n    }\r\n    validateHandler() {\r\n        console.log('ddd');\r\n    }\r\n    submitHandler(e) {\r\n        e.preventDefault();\r\n        let businessId = this.$store.state.userInfo.business;\r\n        let queryObj;\r\n        queryObj = { ...this.model, businessId: businessId, class: this.classId, shopId: this.shopId };\r\n        this.$store.dispatch('addOrUpdateCommodity', queryObj).then((response) => {\r\n            if (response.success) {\r\n                if (response.data) {\r\n                    EventBus.$emit(\"commodityManage\", { type: 'add', data: response.data });\r\n                }\r\n                else {\r\n                    EventBus.$emit(\"commodityManage\", { type: 'update', data: queryObj });\r\n                }\r\n                this.$router.back();\r\n                const toast = this.$createToast({\r\n                    txt: '保存成功',\r\n                    time: 3000,\r\n                    type: 'txt'\r\n                });\r\n                toast.show();\r\n            }\r\n        });\r\n    }\r\n    submitClick() {\r\n        this.$refs.cubeForm.submit();\r\n    }\r\n    resetHandler() {\r\n        this.$emit('cancel');\r\n    }\r\n};\r\nAppList = __decorate([\r\n    Component({\r\n        components: {\r\n            page,\r\n            imageUpload\r\n        }\r\n    })\r\n], AppList);\r\nexport default AppList;\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity-add.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??ref--17-2!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity-add.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./commodity-add.vue?vue&type=template&id=01c3f5ae&scoped=true&\"\nimport script from \"./commodity-add.vue?vue&type=script&lang=ts&\"\nexport * from \"./commodity-add.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./commodity-add.vue?vue&type=style&index=0&id=01c3f5ae&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01c3f5ae\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity-add.vue?vue&type=style&index=0&id=01c3f5ae&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity-add.vue?vue&type=style&index=0&id=01c3f5ae&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0717ebb4&scoped=true&lang=stylus&\""],"sourceRoot":""}