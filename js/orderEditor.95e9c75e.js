(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderEditor"],{"07e8":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cube-page",class:e.type},[i("header",{staticClass:"header"},[i("h1",[e._v(e._s(e.title))]),i("i",{directives:[{name:"show",rawName:"v-show",value:e.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:e.back}})]),i("div",{staticClass:"wrapper"},[i("section",{directives:[{name:"show",rawName:"v-show",value:e.desc,expression:"desc"}],staticClass:"desc"},[e._t("desc",[e._v(e._s(e.desc))])],2),i("main",{staticClass:"content"},[e._t("content",[e._v(e._s(e.content))])],2)])])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=function(e){function t(){return Object(s["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"back",value:function(){this.$router.back()}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])()],p.prototype,"msg",void 0),Object(l["a"])([Object(d["b"])({default:"",required:!0})],p.prototype,"title",void 0),Object(l["a"])([Object(d["b"])({default:""})],p.prototype,"type",void 0),Object(l["a"])([Object(d["b"])({default:""})],p.prototype,"desc",void 0),Object(l["a"])([Object(d["b"])({default:""})],p.prototype,"content",void 0),Object(l["a"])([Object(d["b"])({default:!0})],p.prototype,"isBack",void 0),p=Object(l["a"])([d["a"]],p);var h=p,f=h,b=(i("a406"),i("2877")),v=Object(b["a"])(f,a,r,!1,null,"21abe868",null);t["a"]=v.exports},"0ff8":function(e,t,i){},"2d6b":function(e,t,i){"use strict";var a=i("3e0a"),r=i.n(a);r.a},"2dcb":function(e,t,i){"use strict";var a=i("9e37"),r=i.n(a);r.a},"3ab6":function(e,t,i){},"3e0a":function(e,t,i){},"5eb0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[i("cube-form-group",[i("cube-form-item",{attrs:{field:e.fields[0]}}),i("cube-form-item",{attrs:{field:e.fields[2]}}),i("cube-form-item",{attrs:{field:e.fields[3]}}),i("cube-form-item",{attrs:{field:e.fields[1]}})],1),i("cube-form-group",[i("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.departureTime="",e.model={},e.type="add",e.fields=[{type:"input",modelKey:"recruit_name",label:"职位名称",props:{placeholder:"请输入"},rules:{required:!0}},{type:"textarea",modelKey:"recruit_info",label:"职位详情",props:{placeholder:"请输入",maxlength:"3000"},rules:{required:!0}},{type:"input",modelKey:"recruit_num",label:"招聘人数",props:{placeholder:"请输入"},rules:{required:!0,type:"number"}},{type:"input",modelKey:"recruit_wages",label:"工资",props:{placeholder:"请输入"},rules:{required:!0}}],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.type=this.$route.query.type||"add","edit"===this.type?this.model=this.$route.query.recruitInfo:this.model={enterpriseId:this.$route.query.enterpriseId}}},{key:"deactivated",value:function(){this.model={}}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),this.$store.dispatch("addOrUpdateRecruit",this.model).then(function(e){if(e.success){var i=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});i.show(),t.$router.push({path:"/recruit-list"})}else{var a=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});a.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2020,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",i=":",a=e.getMonth()+1,r=e.getDate(),s=e.getHours(),n=e.getMinutes(),c=e.getSeconds();a>=1&&a<=9&&(a="0"+a),r>=0&&r<=9&&(r="0"+r),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),c>=0&&c<=9&&(c="0"+c);var o=e.getFullYear()+t+a+t+r+" "+s+i+n+i+c;return o}},{key:"title",get:function(){return"add"===this.type?"职位添加":"职位修改"}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("2dcb"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},6981:function(e,t,i){"use strict";var a=i("a2f4"),r=i.n(a);r.a},"828d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:"订单分配",isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"screen-header"},[i("div",[i("span",{on:{click:e.screenOpen}},[e._v("筛选"),i("i",{class:e.openScreen?"cubeic-pullup":"cubeic-pulldown"})])]),i("div",{staticClass:"screen-search",on:{click:e.screenClick}},[e._v("搜索")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.openScreen,expression:"openScreen"}],staticClass:"screen"},[i("cube-input",{model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},[i("span",{staticClass:"screen-span",attrs:{slot:"prepend"},slot:"prepend"},[e._v("起点")])]),i("cube-input",{model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},[i("span",{staticClass:"screen-span",attrs:{slot:"prepend"},slot:"prepend"},[e._v("终点")])]),i("div",{staticClass:"screen-bottom"},[i("cube-button",{staticClass:"screen-bottom-btn",attrs:{inline:!0,light:!0},on:{click:e.screenReset}},[e._v("重置")]),i("cube-button",{staticClass:"screen-bottom-btn",attrs:{inline:!0},on:{click:e.screenOpen}},[e._v("确定")])],1)],1),i("cube-checkbox-group",{attrs:{shape:"square","hollow-style":!0},on:{checked:e.orderChecked,"cancel-checked":e.orderCancelChecked},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.orderList,function(t,a){return i("cube-checkbox",{key:a,staticClass:"checkbox",attrs:{option:t.out_trade_no+"@"+t.number+"@"+t.userId}},[i("p",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.start)+"-"+e._s(t.end))]),i("p",{staticClass:"number"},[e._v("人数:"+e._s(t.number))]),i("p",[e._v("联系电话: "+e._s(t.phone))]),i("p",[e._v("姓名: "+e._s(t.name))]),i("p",[e._v("身份证")]),e._l(t.riderList,function(t,a){return i("p",{key:a},[e._v("\r\n            "+e._s(t.idCard)+"\r\n          ")])})],2)}),1),i("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),i("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")]),i("div",{staticClass:"footer"}),i("cube-toolbar",{attrs:{actions:e.actions},on:{click:e.clickHandler}}),i("cube-drawer",{ref:"drawer",attrs:{data:e.drawerdata,"selected-index":e.selectedIndex}},[i("span",{attrs:{slot:"title"},slot:"title"},[e._v("车辆选择")]),i("cube-drawer-panel",{attrs:{data:e.drawerdata}},[e._l(e.drawerdata,function(t,a){return i("cube-drawer-item",{directives:[{name:"show",rawName:"v-show",value:t.id!==e.carId,expression:"item.id !== carId"}],key:a,attrs:{item:t,index:a}},[i("p",{on:{click:function(i){return e.drawerSelect(t)}}},[e._v("车牌："+e._s(t.licensePlate?t.licensePlate:"未填写"))])])}),i("cube-drawer-item",[i("span",[e._v("加载更多")])])],2)],1)],1)])},r=[],s=(i("28a5"),i("d225")),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.start="",e.end="",e.page=1,e.limit=10,e.count=0,e.carNums=0,e.checkList=[],e.orderList=[],e.selectNum=0,e.selectCarId="",e.drawerdata=[{}],e.selectedIndex=[],e.openScreen=!1,e.actions=[{text:"已选择：0人"},{text:"请选车辆",type:"button",action:"selectCar"},{text:"确认分配",type:"button",action:"distributionOrder"}],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.orderList=[]}},{key:"activated",value:function(){this.checkList=[],this.selectNum=0,this.getOrderList({})}},{key:"deactivated",value:function(){this.resetComponentInfo()}},{key:"getOrderList",value:function(e){var t=this,i=e.skip||0,a=(e.limit,this.carId),r=this["$createToast"]({time:0,txt:"加载..."});r.show(),this.$store.dispatch("getOrderList",{carId:a,skip:i,start:this.start,end:this.end}).then(function(i){i.success&&(e.skip?t.orderList=t.orderList.concat(i.data.list):t.orderList=i.data.list,t.count=i.data.count),r.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getOrderList({skip:e})}}},{key:"orderChecked",value:function(e){var t=e.split("@");this.selectNum+=parseInt(t[1]),this.actions[0].text="已选择："+this.selectNum+"人"}},{key:"orderCancelChecked",value:function(e){var t=e.split("@");this.selectNum-=parseInt(t[1]),this.actions[0].text="已选择："+this.selectNum+"人"}},{key:"clickHandler",value:function(e){"distributionOrder"===e.action?this.distributionOrder():"selectCar"===e.action&&this.selectCar()}},{key:"selectCar",value:function(){this.getCarList({})}},{key:"distributionOrder",value:function(){if(this.checkList.length<=0){var e=this.$createToast({time:1e3,txt:"请选择订单",type:"txt"});e.show()}else{if(!this.selectCarId){var t=this.$createToast({time:1e3,txt:"请选择要分配的车辆",type:"txt"});return t.show(),!1}this.orderAllocation()}}},{key:"getCarList",value:function(e){var t=this,i=e.skip||0,a=e.limit||10,r=(this.fleetId,this["$createToast"]({time:0,txt:"加载..."}));r.show(),console.log(this.fleetId,"fleetId"),this.$store.dispatch("getCarList",{fleetId:this.fleetId,skip:i,limit:a}).then(function(e){e.success&&(t.drawerdata[0]?t.drawerdata=e.data.list:t.drawerdata=t.drawerdata.concat(e.data.list),t.count=e.data.count,t.$refs.drawer.show()),r.hide()})}},{key:"drawerSelect",value:function(e){this.selectCarId=e.id,this.actions[1].text=e.licensePlate?"车牌："+e.licensePlate:"车牌：未知",this.$refs.drawer.hide()}},{key:"resetComponentInfo",value:function(){this.page=1,this.count=0,this.orderList=[],this.selectCarId="",this.actions[1].text="请选车辆",this.actions[0].text="已选择：0人"}},{key:"orderAllocation",value:function(){var e=this;if(!(this.checkList.length<=0)&&this.selectCarId){var t=this["$createToast"]({time:0,txt:"订单分配中..."});t.show(),this.$store.dispatch("orderAllocation",{orderList:this.checkList,toCarId:this.selectCarId,carId:this.carId}).then(function(i){if(i.success){var a=e.$createToast({time:1e3,txt:"分配成功！",type:"txt"});a.show(),e.resetComponentInfo(),e.getOrderList({})}t.hide()})}}},{key:"screenClick",value:function(){this.getOrderList({})}},{key:"screenOpen",value:function(){this.openScreen=!this.openScreen}},{key:"screenReset",value:function(){this.start="",this.end=""}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}},{key:"carId",get:function(){return this.$route.query.carId}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("6981"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},"860b":function(e,t,i){},"912d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("cube-button",{staticClass:"btn",attrs:{primary:!0},on:{click:function(t){return e.goTo("job-enterprise-edit")}}},[e._v("添加企业")])],1),i("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.enterpriseList,function(t,a){return i("cube-button",{key:a,staticClass:"btn",on:{click:function(i){return e.toEnterpriseInfo(t)}}},[i("p",[e._v(e._s(t.enterprise_name))])])}),i("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),i("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")])],2)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.enterpriseList=[],e.page=1,e.limit=10,e.count=0,e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.title="企业列表"}},{key:"activated",value:function(){this.enterpriseList=[],this.getEnterpriseList({})}},{key:"deactivated",value:function(){this.page=1,this.count=0}},{key:"getEnterpriseList",value:function(e){var t=this,i=e.skip||0,a=e.limit||10,r=this["$createToast"]({time:0,txt:"加载..."});r.show(),this.$store.dispatch("getEnterpriseList",{skip:i,limit:a}).then(function(e){e.success&&(t.enterpriseList=t.enterpriseList.concat(e.data.list),t.count=e.data.count),r.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getEnterpriseList({skip:e})}}},{key:"toEnterpriseInfo",value:function(e){console.log("ddddd",e),this.$router.push({path:"/job-enterprise-info",query:{enterpriseId:e.id}})}},{key:"goTo",value:function(e){this.$router.push({path:"/"+e})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("aba6"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},9424:function(e,t,i){"use strict";var a=i("860b"),r=i.n(a);r.a},"9e37":function(e,t,i){},a2f4:function(e,t,i){},a406:function(e,t,i){"use strict";var a=i("cd26"),r=i.n(a);r.a},a485:function(e,t,i){},a564:function(e,t,i){"use strict";var a=i("3ab6"),r=i.n(a);r.a},aba6:function(e,t,i){"use strict";var a=i("d7c6"),r=i.n(a);r.a},b74c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[i("cube-form-group",[i("cube-form-item",{attrs:{field:e.fields[0]}}),i("cube-form-item",{attrs:{field:e.fields[1]}})],1),i("cube-form-group",[i("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.departureTime="",e.model={},e.type="add",e.fields=[{type:"input",modelKey:"enterprise_name",label:"企业名称",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"enterprise_place",label:"企业地点",props:{placeholder:"请输入"},rules:{required:!0}}],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.type=this.$route.query.type||"add","edit"===this.type?this.model=this.$route.query.enterpriseInfo:this.model={}}},{key:"deactivated",value:function(){this.model={}}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),this.$store.dispatch("addOrUpdateEnterprise",this.model).then(function(e){if(e.success){var i=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});i.show(),t.$router.push({path:"/job-enterprise"})}else{var a=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});a.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2020,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",i=":",a=e.getMonth()+1,r=e.getDate(),s=e.getHours(),n=e.getMinutes(),c=e.getSeconds();a>=1&&a<=9&&(a="0"+a),r>=0&&r<=9&&(r="0"+r),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),c>=0&&c<=9&&(c="0"+c);var o=e.getFullYear()+t+a+t+r+" "+s+i+n+i+c;return o}},{key:"title",get:function(){return"add"===this.type?"企业添加":"企业修改"}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("cbd6"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},cbd6:function(e,t,i){"use strict";var a=i("0ff8"),r=i.n(a);r.a},cd26:function(e,t,i){},d66a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:"公司详情",isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"carInfo"},[i("p",[i("span",[e._v("公司名称：")]),i("span",[e._v(e._s(e.enterpriseInfo.enterprise_name?e.enterpriseInfo.enterprise_name:"未填写"))])]),i("p",[i("span",[e._v("公司地点：")]),i("span",[e._v(e._s(e.enterpriseInfo.enterprise_place?e.enterpriseInfo.enterprise_place:"未填写"))])])]),i("cube-button",{staticClass:"btn",on:{click:e.toenterpriseEdit}},[e._v("信息修改")]),i("cube-button",{staticClass:"btn",on:{click:e.toRecruit}},[e._v("招聘信息")])],1)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.carList=[],e.page=1,e.limit=10,e.count=0,e.carId="",e.carNums=0,e.enterpriseInfo={},e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.enterpriseId=this.$route.query.enterpriseId,this.getEnterpriseInfo(this.enterpriseId)}},{key:"deactivated",value:function(){}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;this.page,this.limit}}},{key:"toenterpriseEdit",value:function(){this.$router.push({path:"/job-enterprise-edit",query:{type:"edit",enterpriseInfo:this.enterpriseInfo}})}},{key:"toRecruit",value:function(){this.$router.push({path:"/recruit-list",query:{enterpriseId:this.enterpriseInfo.id}})}},{key:"getEnterpriseInfo",value:function(e){var t=this,i=this["$createToast"]({time:0,txt:"加载..."});i.show(),this.$store.dispatch("getEnterpriseInfo",{enterpriseId:e}).then(function(e){if(e.success){var a=e.data;t.enterpriseInfo=a}i.hide()})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}},{key:"fleetId",get:function(){return this.$route.query.fleetId}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("9424"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},d7c6:function(e,t,i){},efa2:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:"车辆编辑",isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("cube-form",{attrs:{model:e.model},on:{submit:e.submitHandler}},[i("cube-form-group",[i("cube-form-item",{attrs:{field:e.fields[0]}}),i("cube-form-item",{attrs:{field:e.fields[1]}}),i("cube-form-item",{attrs:{field:e.fields[2]}}),i("cube-form-item",{attrs:{field:e.fields[3]}}),i("cube-form-item",{attrs:{field:e.fields[4]}}),i("cube-form-item",{attrs:{field:e.fields[5]}},[i("div",{staticStyle:{"text-align":"left"},on:{click:e.showDatePicker}},[e._v(e._s(e.model.departureTime||"Please select"))])]),e.showComplete?i("cube-form-item",{attrs:{field:e.fields[6]}}):e._e()],1),i("cube-form-group",[i("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[e._v("保存")])],1)],1)],1)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.departureTime="",e.model={},e.fields=[{type:"input",modelKey:"num",label:"票数",props:{placeholder:"请输入",type:"number"},rules:{required:!0}},{type:"input",modelKey:"contacts_name",label:"负责人",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"contacts_phone",label:"联系电话",props:{placeholder:"请输入",type:"number"},rules:{required:!0}},{type:"input",modelKey:"licensePlate",label:"车牌",props:{placeholder:"请输入"},rules:{required:!1}},{type:"input",modelKey:"departurePlace",label:"发车地点",props:{placeholder:"请输入"},rules:{required:!0}},{type:"input",modelKey:"departureTime",label:"发车时间",props:{placeholder:"请输入"},rules:{required:!0}},{type:"switch",modelKey:"complete",label:"业务完成",props:{placeholder:"请输入"}}],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"activated",value:function(){this.$route.query.carInfo["departureTime"];this.carId=this.$route.query.carId,this.model=this.$route.query.carInfo}},{key:"deactivated",value:function(){this.model={}}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),console.log(this.model),this.$store.dispatch("addOrUpdateCar",this.model).then(function(e){if(e.success){var i=t["$createToast"]({time:3e3,txt:"更新成功",type:"txt"});i.show()}else{var a=t["$createToast"]({time:1e3,txt:"更新失败",type:"txt"});a.show()}})}},{key:"submitClick",value:function(){return!1}},{key:"showDatePicker",value:function(){var e=this.model.departureTime,t=new Date(e);this.dateTimePicker=this.$createDatePicker({title:"发车时间选择",min:new Date(2008,7,8,8,0,0),max:new Date(2020,9,20,20,59,59),value:t,columnCount:6,onSelect:this.dateSelectHandle,onCancel:this.dateCancelHandle}),this.dateTimePicker.show()}},{key:"dateSelectHandle",value:function(e){console.log(e);var t=this.getNowFormatDate(e);this.model["departureTime"]=t}},{key:"dateCancelHandle",value:function(){}},{key:"getNowFormatDate",value:function(e){var t="-",i=":",a=e.getMonth()+1,r=e.getDate(),s=e.getHours(),n=e.getMinutes(),c=e.getSeconds();a>=1&&a<=9&&(a="0"+a),r>=0&&r<=9&&(r="0"+r),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),c>=0&&c<=9&&(c="0"+c);var o=e.getFullYear()+t+a+t+r+" "+s+i+n+i+c;return o}},{key:"fleetId",get:function(){return this.$route.query.fleetId}},{key:"showComplete",get:function(){var e=this.model.departureTime;return new Date>new Date(e)}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("f653"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},f653:function(e,t,i){"use strict";var a=i("a485"),r=i.n(a);r.a},fac5:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:"招工管理",isBack:!0}},[i("div",{staticClass:"form-btn",attrs:{slot:"content"},slot:"content"},[i("cube-button",{on:{click:function(t){return e.goTo("job-enterprise")}}},[e._v("企业管理")])],1),i("div",{staticClass:"form-btn",attrs:{slot:"content"},slot:"content"},[i("cube-button",{on:{click:function(t){return e.goTo("job-enterprise")}}},[e._v("投递记录")])],1)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.fleetList=[],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"goTo",value:function(e){this.$router.push({path:"/"+e})}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("a564"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports},fc60:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{type:"form-def",title:e.title,isBack:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("cube-button",{staticClass:"btn",on:{click:function(t){return e.goTo("recruit-edit")}}},[e._v("添加职位")])],1),i("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.recruitList,function(t,a){return i("cube-button",{key:a,staticClass:"btn",on:{click:function(i){return e.toRecruitInfo(t)}}},[i("p",[e._v(e._s(t.recruit_name))])])}),i("cube-button",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"btn",on:{click:e.pageTurning}},[e._v("查看更多")]),i("p",{directives:[{name:"show",rawName:"v-show",value:!e.showMore,expression:"!showMore"}],staticClass:"noMore"},[e._v("没有更多了")])],2)])},r=[],s=i("d225"),n=i("b0b4"),c=i("308d"),o=i("6bb5"),u=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("fdab"),h=i("07e8"),f=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.recruitList=[],e.page=1,e.limit=10,e.count=0,e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"created",value:function(){this.title="职位列表"}},{key:"activated",value:function(){this.enterpriseId=this.$route.query.enterpriseId,this.recruitList=[],this.getRecruitList({})}},{key:"deactivated",value:function(){this.page=1,this.count=0}},{key:"getRecruitList",value:function(e){var t=this,i=e.skip||0,a=e.limit||10,r=this["$createToast"]({time:0,txt:"加载..."});r.show(),this.$store.dispatch("getRecruitList",{enterpriseId:this.enterpriseId,skip:i,limit:a}).then(function(e){e.success&&(t.recruitList=t.recruitList.concat(e.data.list),t.count=e.data.count),r.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var e=(this.page-1)*this.limit;this.getRecruitList({skip:e})}}},{key:"toRecruitInfo",value:function(e){this.$router.push({path:"/recruit-edit",query:{recruitInfo:e,type:"edit"}})}},{key:"goTo",value:function(e){this.$router.push({path:"/"+e,query:{enterpriseId:this.enterpriseId,type:"add"}})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),t}(d["c"]);Object(l["a"])([Object(d["b"])({default:"default value"})],f.prototype,"propB",void 0),f=Object(l["a"])([Object(d["a"])({components:{HelloWorld:p["a"],Page:h["a"]}})],f);var b=f,v=b,m=(i("2d6b"),i("2877")),y=Object(m["a"])(v,a,r,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=orderEditor.95e9c75e.js.map