(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["staffAdmin"],{"0753":function(t,n,e){},"319c":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"slide-banner"},[e("cube-slide",{attrs:{data:t.imgUrl}})],1)},c=[],s=(e("ac6a"),e("d225")),i=e("b0b4"),o=e("308d"),u=e("6bb5"),r=e("4e2b"),f=e("9ab4"),d=e("60a3"),l=function(t){function n(){return Object(s["a"])(this,n),Object(o["a"])(this,Object(u["a"])(n).apply(this,arguments))}return Object(r["a"])(n,t),Object(i["a"])(n,[{key:"imgUrl",get:function(){if(this.url&&"string"===typeof this.url)return[{image:this.url}];if(Array.isArray(this.url)){var t=[];return this.url.forEach(function(n){t.push({image:n})}),t}return[]}}]),n}(d["c"]);Object(f["a"])([Object(d["b"])({default:""})],l.prototype,"url",void 0),l=Object(f["a"])([Object(d["a"])({components:{},filters:{}})],l);var b=l,h=b,p=(e("5016"),e("72a9"),e("2877")),v=Object(p["a"])(h,a,c,!1,null,"2d55a1be",null);n["a"]=v.exports},3238:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"accountSelect"},[e("div",{staticClass:"address"},[e("div",{staticClass:"info"},[e("i",{staticClass:"iconfont iconxiaoqu1"}),e("cube-select",{attrs:{options:t.accountOptions},on:{change:t.accountChange},model:{value:t.accountId,callback:function(n){t.accountId=n},expression:"accountId"}})],1)])])},c=[],s=(e("ac6a"),e("a481"),e("d225")),i=e("b0b4"),o=e("308d"),u=e("6bb5"),r=e("4e2b"),f=e("9ab4"),d=e("60a3"),l=function(t){function n(){var t;return Object(s["a"])(this,n),t=Object(o["a"])(this,Object(u["a"])(n).apply(this,arguments)),t.accountList=[],t.accountId="",t}return Object(r["a"])(n,t),Object(i["a"])(n,[{key:"activated",value:function(){this.accountId?this.$emit("change",this.accountId):this.pageInit()}},{key:"getBindingInfo",value:function(){var t=this,n=this.$route.query;if(n.code){var e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getCodeInfo",{code:n.code,type:"staff"}).then(function(n){n.success&&(n.data.openid?(t.openid=n.data.openid,t.$router.replace({path:"/staffLogin",query:{openid:n.data.openid,jump:"/staffAdmin"}})):n.data.sessionId&&(t.$store.commit("SET_SESSION_ID",n.data.sessionId),t.$store.commit("SET_USER_INFO",n.data.userInfo),t.getAdminAccountList())),e.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;this.$store.state.sessionId&&!this.accountId?this.getAdminAccountList():t.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getAdminAccountList",value:function(){var t=this,n=this;this.$store.dispatch("getAdminBusinessList",{type:"staff"}).then(function(e){e.data.list&&(e.data.list.forEach(function(t,e){n.$set(n.accountList,e,t)}),t.accountId||(t.accountId=t.accountList[0].id))})}},{key:"accountChange",value:function(t){var n={};this.accountOptions.forEach(function(e){e.id===t&&(n=e)}),this.$emit("change",t,n)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"accountOptions",get:function(){return this.accountList.forEach(function(t){t.value=t.id,t.text=t.name}),this.accountList}}]),n}(d["c"]);Object(f["a"])([Object(d["d"])("accountId")],l.prototype,"accountChange",null),l=Object(f["a"])([Object(d["a"])({components:{},filters:{}})],l);var b=l,h=b,p=(e("6187"),e("a020"),e("2877")),v=Object(p["a"])(h,a,c,!1,null,"190360b6",null);n["a"]=v.exports},3410:function(t,n,e){},"4eca":function(t,n,e){},5016:function(t,n,e){"use strict";var a=e("fc70"),c=e.n(a);c.a},6187:function(t,n,e){"use strict";var a=e("4eca"),c=e.n(a);c.a},"72a9":function(t,n,e){"use strict";var a=e("0753"),c=e.n(a);c.a},7689:function(t,n,e){},"91fd":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"payAdminBox"},[e("banner",{attrs:{url:t.accountInfo.bannerUrl||""}}),e("businessSelect",{on:{change:t.getAccountId}}),e("div",{staticClass:"App-box"},[e("div",{staticClass:"btn-header"},[t._v("负责人")]),e("p",[t._v("联系人："+t._s(t.accountInfo.contacts))]),e("p",[t._v("手机号："),e("a",{attrs:{href:"tel:"+t.accountInfo.phone}},[t._v(t._s(t.accountInfo.phone)),e("span",[t._v("(点击拨打)")])])])]),e("div",{staticClass:"App-box"},[e("div",{staticClass:"btn-header"},[t._v("商家工具")]),e("div",{staticClass:"btn"},[e("div",{staticClass:"btn-box",on:{click:function(n){return t.toOtherPage("business-payAdmin")}}},[t._m(0)]),e("div",{staticClass:"btn-box",on:{click:function(n){return t.toOtherPage("business-orderAdmin")}}},[t._m(1)])])])],1)},c=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"btn-box-box"},[e("div",{staticClass:"icon-bg iconwuyefei-bg"},[e("i",{staticClass:"iconfont iconzhangdanguanli"})]),e("span",[t._v("账单管理")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"btn-box-box"},[e("div",{staticClass:"icon-bg icongonggao-bg"},[e("i",{staticClass:"iconfont icongonggaoguanli"})]),e("span",[t._v("订单管理")])])}],s=e("d225"),i=e("b0b4"),o=e("308d"),u=e("6bb5"),r=e("4e2b"),f=e("9ab4"),d=e("60a3"),l=e("3238"),b=e("c88e"),h=e("319c"),p=function(t){function n(){var t;return Object(s["a"])(this,n),t=Object(o["a"])(this,Object(u["a"])(n).apply(this,arguments)),t.raceLength=0,t.raceCost=0,t.accountList=[],t.accountId="",t.accountInfo={},t}return Object(r["a"])(n,t),Object(i["a"])(n,[{key:"getAccountId",value:function(t,n){this.accountId=t,this.$set(this,"accountInfo",n)}},{key:"toOtherPage",value:function(t){if(t){var n="/"+t;this.$router.push({path:n,query:{accountId:this.accountId}})}}},{key:"getPower",value:function(t){var n=this.$store.state.userInfo;return Object(b["a"])(t,n)}},{key:"showAdmin",get:function(){return!!(this.$store.state.userInfo&&this.$store.state.userInfo.power&&this.$store.state.userInfo.power.length>0)&&this.$store.state.userInfo.adminAccount.indexOf(this.accountId)>-1}}]),n}(d["c"]);p=Object(f["a"])([Object(d["a"])({components:{businessSelect:l["a"],banner:h["a"]},filters:{fenToYuan:function(t){return"number"!==typeof t||isNaN(t)?null:"¥"+(t/100).toFixed(2)}}})],p);var v=p,g=v,I=(e("ab29"),e("2877")),O=Object(I["a"])(g,a,c,!1,null,"e66ff786",null);n["default"]=O.exports},a020:function(t,n,e){"use strict";var a=e("3410"),c=e.n(a);c.a},ab29:function(t,n,e){"use strict";var a=e("7689"),c=e.n(a);c.a},c88e:function(t,n,e){"use strict";e.d(n,"a",function(){return a});e("3b2b"),e("a481");function a(t,n){var e=n.power;return-1!==e.indexOf(t)}},fc70:function(t,n,e){}}]);
//# sourceMappingURL=staffAdmin.590a964b.js.map