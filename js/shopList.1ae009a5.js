(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shopList"],{3896:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("page",{attrs:{title:"商店管理",type:"white"}},[i("div",{attrs:{slot:"edit"},slot:"edit"},[i("span",{staticClass:"add-btn",on:{click:t.addShop}},[t._v("新增商店")])]),i("div",{attrs:{slot:"content"},slot:"content"},[i("ul",{staticClass:"commodity-list"},t._l(t.shopList,function(s,e){return i("li",{key:e,staticClass:"commodity-card"},[i("div",{staticClass:"shop-info"},[i("div",{directives:[{name:"show",rawName:"v-show",value:s.imgUrlList.length>0,expression:"item.imgUrlList.length > 0"}],staticClass:"shop-img"},[i("img",{attrs:{src:s.imgUrlList[0]}})]),i("div",{staticClass:"shop-info"},[i("p",{staticClass:"title"},[t._v(t._s(s.name))])])]),i("div",{staticClass:"edit"},[i("cube-button",{staticClass:"btn",attrs:{inline:!0},on:{click:function(i){return t.editShop(s)}}},[t._v("店铺编辑")]),i("cube-button",{staticClass:"btn",attrs:{primary:!0,inline:!0},on:{click:function(i){return t.toCommodityClass(s)}}},[t._v("商品管理")])],1)])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.shopList.length<=0,expression:"shopList.length <= 0"}],staticClass:"empy"},[t._v("暂无数据")]),i("pageView")],1)])},a=[],n=i("d225"),o=i("b0b4"),c=i("308d"),d=i("6bb5"),u=i("4e2b"),h=i("9ab4"),r=i("60a3"),l=i("07e8"),p=i("3fd0"),m=i("3a45"),v=i("7078"),b=function(t){function s(){var t;return Object(n["a"])(this,s),t=Object(c["a"])(this,Object(d["a"])(s).apply(this,arguments)),t.classId="",t.className="",t.shopList=[],t.showAdd=!1,t.shopObj={name:"",distribution:!1,imgUrlList:[]},t}return Object(u["a"])(s,t),Object(o["a"])(s,[{key:"getShopList",value:function(){var t=this,s=this.$store.state.userInfo.business,i=this["$createToast"]({time:0,txt:"商店获取中..."});i.show(),this.$store.dispatch("getShopList",{page:1,businessId:s}).then(function(s){if(s.success){var e=s.data.list;t.$set(t,"shopList",e),i.hide()}})}},{key:"addShop",value:function(){this.$router.push({name:"shopAdd"})}},{key:"addCancel",value:function(){this.showAdd=!1}},{key:"saveSuccess",value:function(t,s){var i;"add"===t?this.shopList.push(s):(this.shopList.some(function(t,e){if(s.id===t.id)return i=e,!0}),this.$set(this.shopList,i,s));this.addCancel()}},{key:"editShop",value:function(t){this.$router.push({name:"shopAdd",params:{id:t.id,name:t.name,distribution:t.distribution,imgUrlList:t.imgUrlList,businessId:t.businessId}})}},{key:"mounted",value:function(){var t=this;this.getShopList(),v["a"].$on("shopList",function(s){t.saveSuccess(s.type,s.data)})}},{key:"toCommodityClass",value:function(t){this.$router.push({path:"/shopList/commodityManageClass",query:{shopId:t.id}})}}]),s}(r["c"]);b=Object(h["a"])([Object(r["a"])({components:{page:l["a"],shopAdd:p["default"],pageView:m["a"]}})],b);var f=b,g=f,L=(i("8915"),i("2877")),y=Object(L["a"])(g,e,a,!1,null,"682db604",null);s["default"]=y.exports},6848:function(t,s,i){},8915:function(t,s,i){"use strict";var e=i("6848"),a=i.n(e);a.a}}]);
//# sourceMappingURL=shopList.1ae009a5.js.map