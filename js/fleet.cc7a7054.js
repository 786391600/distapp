(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fleet"],{"07e8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cube-page",class:t.type},[a("header",{staticClass:"header"},[a("h1",[t._v(t._s(t.title))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:t.back}})]),a("div",{staticClass:"wrapper"},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),a("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},s=[],c=a("d225"),n=a("b0b4"),o=a("308d"),r=a("6bb5"),u=a("4e2b"),l=a("9ab4"),h=a("60a3"),d=function(t){function e(){return Object(c["a"])(this,e),Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"back",value:function(){this.$router.back()}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])()],d.prototype,"msg",void 0),Object(l["a"])([Object(h["b"])({default:"",required:!0})],d.prototype,"title",void 0),Object(l["a"])([Object(h["b"])({default:""})],d.prototype,"type",void 0),Object(l["a"])([Object(h["b"])({default:""})],d.prototype,"desc",void 0),Object(l["a"])([Object(h["b"])({default:""})],d.prototype,"content",void 0),Object(l["a"])([Object(h["b"])({default:!0})],d.prototype,"isBack",void 0),d=Object(l["a"])([h["a"]],d);var b=d,p=b,f=(a("a406"),a("2877")),v=Object(f["a"])(p,i,s,!1,null,"21abe868",null);e["a"]=v.exports},"0ece":function(t,e,a){"use strict";var i=a("f587"),s=a.n(i);s.a},"0efa":function(t,e,a){"use strict";var i=a("ee7c"),s=a.n(i);s.a},"1de0":function(t,e,a){},"2d45":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{attrs:{type:"form-def",title:t.title,isBack:!0}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._l(t.carList,function(e,i){return a("cube-button",{key:i,staticClass:"btn",on:{click:function(a){return t.toCarInfo(e)}}},[t._v("车辆"+t._s(i+1)+"--"+t._s(e.departureTime))])}),a("cube-button",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"btn",on:{click:t.pageTurning}},[t._v("查看更多")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.showMore,expression:"!showMore"}]},[t._v("没有更多了")])],2)])},s=[],c=a("d225"),n=a("b0b4"),o=a("308d"),r=a("6bb5"),u=a("4e2b"),l=a("9ab4"),h=a("60a3"),d=a("fdab"),b=a("07e8"),p=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.carList=[],t.page=1,t.limit=10,t.count=0,t}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){this.fleetId!==this.$route.query.fleetId&&(this.carList=[],this.fleetId=this.$route.query.fleetId,this.title=this.$route.query.title,this.getCarList({}))}},{key:"deactivated",value:function(){this.page=1,this.count=0}},{key:"getCarList",value:function(t){var e=this,a=t.skip||0,i=t.limit||10,s=this.fleetId,c=this["$createToast"]({time:0,txt:"加载..."});c.show(),this.$store.dispatch("getCarList",{fleetId:s,skip:a,limit:i}).then(function(t){t.success&&(e.carList=e.carList.concat(t.data.list),e.count=t.data.count),c.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var t=(this.page-1)*this.limit;this.getCarList({skip:t})}}},{key:"toCarInfo",value:function(t){this.$router.push({path:"/carInfo",query:{carId:t.id}})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])({default:"default value"})],p.prototype,"propB",void 0),p=Object(l["a"])([Object(h["a"])({components:{HelloWorld:d["a"],Page:b["a"]}})],p);var f=p,v=f,m=(a("f91f"),a("2877")),j=Object(m["a"])(v,i,s,!1,null,null,null);e["default"]=j.exports},"90db":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{attrs:{type:"form-def",title:"车队列表",isBack:!0}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._l(t.fleetList,function(e){return a("cube-button",{key:e,staticClass:"btn",on:{click:function(a){return t.toCar(e)}}},[t._v(t._s(e.name))])}),a("cube-button",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"btn",on:{click:t.pageTurning}},[t._v("查看更多")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.showMore,expression:"!showMore"}]},[t._v("没有更多了")])],2)])},s=[],c=a("d225"),n=a("b0b4"),o=a("308d"),r=a("6bb5"),u=a("4e2b"),l=a("9ab4"),h=a("60a3"),d=a("fdab"),b=a("07e8"),p=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.fleetList=[],t.model={inputValue:"",pcaValue:[],dateValue:""},t.fields=[{type:"input",modelKey:"inputValue",label:"Input",props:{placeholder:"请输入"},rules:{required:!0}}],t.valid=void 0,t.validity={},t.page=1,t.limit=10,t.count=0,t}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"created",value:function(){this.getFleetList({})}},{key:"getFleetList",value:function(t){var e=this,a=t.skip||0,i=t.limit||10,s=this["$createToast"]({time:0,txt:"加载..."});s.show(),this.$store.dispatch("getFleetList",{skip:a,limit:i}).then(function(t){t.success&&(e.fleetList=e.fleetList.concat(t.data.list),e.count=t.data.count),s.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var t=(this.page-1)*this.limit;this.getFleetList({skip:t})}}},{key:"toCar",value:function(t){this.$router.push({path:"/car",query:{fleetId:t.id,title:t.name}})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])({default:"default value"})],p.prototype,"propB",void 0),p=Object(l["a"])([Object(h["a"])({components:{HelloWorld:d["a"],Page:b["a"]}})],p);var f=p,v=f,m=(a("0efa"),a("2877")),j=Object(m["a"])(v,i,s,!1,null,null,null);e["default"]=j.exports},a406:function(t,e,a){"use strict";var i=a("cd26"),s=a.n(i);s.a},b897:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{attrs:{type:"form-def",title:"订票详情",isBack:!0}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("cube-button",{staticClass:"btn"},[t._v("订票人数:"+t._s(t.carNums))])],1)])},s=[],c=a("d225"),n=a("b0b4"),o=a("308d"),r=a("6bb5"),u=a("4e2b"),l=a("9ab4"),h=a("60a3"),d=a("fdab"),b=a("07e8"),p=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(o["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.carList=[],t.page=1,t.limit=10,t.count=0,t.carNums=0,t}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){this.carId=this.$route.query.carId,this.getCarInfo({})}},{key:"deactivated",value:function(){this.carList=[],this.page=1,this.count=0}},{key:"getCarInfo",value:function(t){var e=this,a=(t.skip,t.limit,this.carId),i=this["$createToast"]({time:0,txt:"加载..."});i.show(),this.$store.dispatch("getCarInfo",{carId:a}).then(function(t){t.success&&(t.data&&t.data[0]?e.carNums=t.data[0].nums:e.carNums=0),i.hide()})}},{key:"pageTurning",value:function(){if(this.showMore){this.page++;var t=(this.page-1)*this.limit;this.getCarInfo({skip:t})}}},{key:"toCar",value:function(t){this.$router.push({path:"/car",query:{carId:t.id}})}},{key:"showMore",get:function(){return Math.ceil(this.count/this.limit)>=this.page+1}}]),e}(h["c"]);Object(l["a"])([Object(h["b"])({default:"default value"})],p.prototype,"propB",void 0),p=Object(l["a"])([Object(h["a"])({components:{HelloWorld:d["a"],Page:b["a"]}})],p);var f=p,v=f,m=(a("0ece"),a("2877")),j=Object(m["a"])(v,i,s,!1,null,null,null);e["default"]=j.exports},cd26:function(t,e,a){},ee7c:function(t,e,a){},f587:function(t,e,a){},f91f:function(t,e,a){"use strict";var i=a("1de0"),s=a.n(i);s.a}}]);
//# sourceMappingURL=fleet.cc7a7054.js.map