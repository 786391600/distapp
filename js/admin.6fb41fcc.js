(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"0355":function(t,n,e){},2953:function(t,n,e){"use strict";e.r(n);var c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"payAdminBox"},[e("accountSelect",{on:{change:t.getAccountId}}),t.showAdmin?e("div",{staticClass:"App-box"},[e("div",{staticClass:"btn-header"},[t._v("小区管理")]),e("div",{staticClass:"btn"},[t.getPower("power1")?e("div",{staticClass:"btn-box",on:{click:function(n){return t.toOtherPage("payAdmin")}}},[t._m(0)]):t._e(),t.getPower("power2")?e("div",{staticClass:"btn-box",on:{click:function(n){return t.toOtherPage("repairAdmin")}}},[t._m(1)]):t._e(),t.getPower("power3")?e("div",{staticClass:"btn-box",on:{click:function(n){return t.toOtherPage("noticeAdmin")}}},[t._m(2)]):t._e()])]):t._e()],1)},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"btn-box-box"},[e("div",{staticClass:"icon-bg iconwuyefei-bg"},[e("i",{staticClass:"iconfont iconzhangdanguanli"})]),e("span",[t._v("账单管理")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"btn-box-box"},[e("div",{staticClass:"icon-bg iconbaoxiu-bg"},[e("i",{staticClass:"iconfont iconbaoxiuguanli"})]),e("span",[t._v("报修管理")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"btn-box-box"},[e("div",{staticClass:"icon-bg icongonggao-bg"},[e("i",{staticClass:"iconfont icongonggaoguanli"})]),e("span",[t._v("公告管理")])])}],a=(e("ac6a"),e("d225")),o=e("b0b4"),s=e("308d"),u=e("6bb5"),r=e("4e2b"),d=e("9ab4"),l=e("60a3"),h=e("b312"),f=e("c88e"),b=function(t){function n(){var t;return Object(a["a"])(this,n),t=Object(s["a"])(this,Object(u["a"])(n).apply(this,arguments)),t.raceLength=0,t.raceCost=0,t.accountList=[],t.accountId="",t}return Object(r["a"])(n,t),Object(o["a"])(n,[{key:"getAccountId",value:function(t){this.accountId=t}},{key:"toOtherPage",value:function(t){if(t){var n="/"+t;this.$router.push({path:n,query:{accountId:this.accountId}})}}},{key:"getPower",value:function(t){var n=this.$store.state.userInfo;return Object(f["a"])(t,n)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"accountOptions",get:function(){return this.accountList.forEach(function(t){t.value=t.id,t.text=t.name}),this.accountList}},{key:"showAdmin",get:function(){return!!(this.$store.state.userInfo&&this.$store.state.userInfo.power&&this.$store.state.userInfo.power.length>0)&&this.$store.state.userInfo.adminAccount.indexOf(this.accountId)>-1}}]),n}(l["c"]);b=Object(d["a"])([Object(l["a"])({components:{accountSelect:h["a"]},filters:{fenToYuan:function(t){return"number"!==typeof t||isNaN(t)?null:"¥"+(t/100).toFixed(2)}}})],b);var p=b,g=p,v=(e("6571"),e("2877")),m=Object(v["a"])(g,c,i,!1,null,"08a86a3e",null);n["default"]=m.exports},3627:function(t,n,e){"use strict";var c=e("a972"),i=e.n(c);i.a},"5b34":function(t,n,e){},6571:function(t,n,e){"use strict";var c=e("5b34"),i=e.n(c);i.a},a972:function(t,n,e){},b312:function(t,n,e){"use strict";var c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"accountSelect"},[e("div",{staticClass:"address"},[e("div",{staticClass:"info"},[e("i",{staticClass:"iconfont iconxiaoqu1"}),e("cube-select",{attrs:{options:t.accountOptions},on:{change:t.accountChange},model:{value:t.accountId,callback:function(n){t.accountId=n},expression:"accountId"}})],1)])])},i=[],a=(e("ac6a"),e("a481"),e("d225")),o=e("b0b4"),s=e("308d"),u=e("6bb5"),r=e("4e2b"),d=e("9ab4"),l=e("60a3"),h=function(t){function n(){var t;return Object(a["a"])(this,n),t=Object(s["a"])(this,Object(u["a"])(n).apply(this,arguments)),t.accountList=[],t.accountId="",t}return Object(r["a"])(n,t),Object(o["a"])(n,[{key:"activated",value:function(){this.accountId?this.$emit("change",this.accountId):this.pageInit()}},{key:"getBindingInfo",value:function(){var t=this,n=this.$route.query;if(n.code){var e=this["$createToast"]({time:0,txt:"数据获取中..."});e.show(),this.$store.dispatch("getCodeInfo",{code:n.code}).then(function(n){n.success&&(n.data.openid?(t.openid=n.data.openid,t.$router.replace({path:"/login",query:{openid:n.data.openid,jump:"/home"}})):n.data.sessionId&&(t.$store.commit("SET_SESSION_ID",n.data.sessionId),t.$store.commit("SET_USER_INFO",n.data.userInfo),t.getAdminAccountList())),e.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;this.$store.state.sessionId&&!this.accountId?this.getAdminAccountList():t.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getAdminAccountList",value:function(){var t=this,n=this;this.$store.dispatch("getAdminAccountList",{}).then(function(e){e.data.list&&(e.data.list.forEach(function(t,e){n.$set(n.accountList,e,t)}),t.accountId||(t.accountId=t.accountList[0].id))})}},{key:"getFloorByAccountId",value:function(){var t=this,n=this["$createToast"]({time:0,txt:"数据获取中..."});n.show(),this.$store.dispatch("getFloorByAccountId",{accountId:this.accountId}).then(function(e){e.success&&("incomplete"===t.selectedLabelDefault?(t.billList=e.data.list,t.initCheckbox()):e.data.list.length>0?t.billList=t.billList.concat(e.data.list):t.isShowMore=!1),n.hide()})}},{key:"accountChange",value:function(t){this.$emit("change",t)}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"accountOptions",get:function(){return this.accountList.forEach(function(t){t.value=t.id,t.text=t.name}),this.accountList}}]),n}(l["c"]);Object(d["a"])([Object(l["d"])("accountId")],h.prototype,"accountChange",null),h=Object(d["a"])([Object(l["a"])({components:{},filters:{}})],h);var f=h,b=f,p=(e("3627"),e("b77c"),e("2877")),g=Object(p["a"])(b,c,i,!1,null,"79246356",null);n["a"]=g.exports},b77c:function(t,n,e){"use strict";var c=e("0355"),i=e.n(c);i.a},c88e:function(t,n,e){"use strict";e.d(n,"a",function(){return c});e("3b2b"),e("a481");function c(t,n){var e=n.power;return-1!==e.indexOf(t)}}}]);
//# sourceMappingURL=admin.6fb41fcc.js.map