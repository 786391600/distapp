(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commodityManage"],{"07e8":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cube-page",class:t.type},[s("header",{staticClass:"header"},[s("h1",[t._v(t._s(t.title))]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isBack,expression:"isBack"}],staticClass:"cubeic-back",on:{click:t.back}}),s("div",{staticClass:"header-edit"},[t._t("edit")],2)]),s("div",{class:{wrapper:!0,isWhite:"white"===t.type}},[s("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),s("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},i=[],c=s("d225"),o=s("b0b4"),n=s("308d"),d=s("6bb5"),r=s("4e2b"),u=s("9ab4"),l=s("60a3"),m=function(t){function e(){return Object(c["a"])(this,e),Object(n["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),Object(o["a"])(e,[{key:"back",value:function(){this.$router.back()}}]),e}(l["c"]);Object(u["a"])([Object(l["b"])()],m.prototype,"msg",void 0),Object(u["a"])([Object(l["b"])({default:"",required:!0})],m.prototype,"title",void 0),Object(u["a"])([Object(l["b"])({default:""})],m.prototype,"type",void 0),Object(u["a"])([Object(l["b"])({default:""})],m.prototype,"desc",void 0),Object(u["a"])([Object(l["b"])({default:""})],m.prototype,"content",void 0),Object(u["a"])([Object(l["b"])({default:!0})],m.prototype,"isBack",void 0),m=Object(u["a"])([l["a"]],m);var b=m,p=b,h=(s("ca73"),s("2877")),v=Object(h["a"])(p,a,i,!1,null,"0717ebb4",null);e["a"]=v.exports},7078:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var a=s("2b0e"),i=new a["default"]},"92d3":function(t,e,s){},b0b4:function(t,e,s){"use strict";s.d(e,"a",function(){return o});var a=s("85f2"),i=s.n(a);function c(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),i()(t,a.key,a)}}function o(t,e,s){return e&&c(t.prototype,e),s&&c(t,s),t}},b13e:function(t,e,s){},ca73:function(t,e,s){"use strict";var a=s("b13e"),i=s.n(a);i.a},d6c5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("page",{attrs:{title:t.className,type:"white"}},[s("div",{attrs:{slot:"edit"},slot:"edit"},[s("span",{staticClass:"add-btn",on:{click:t.addCommodity}},[t._v("新增商品")])]),s("div",{attrs:{slot:"content"},slot:"content"},[s("pageView"),s("ul",{staticClass:"commodity-list"},t._l(t.commodityList,function(e,a){return s("li",{key:a,staticClass:"commodity-card"},[s("div",[s("p",{staticClass:"title"},[t._v(t._s(e.name))]),s("p",{staticClass:"price"},[t._v("价格："+t._s(e.price)+"元")]),s("p",{staticClass:"price"},[t._v("单位："+t._s(e.unit))]),s("p",{staticClass:"class"},[t._v("分类："+t._s(t.className))])]),s("div",{staticClass:"edit"},[s("cube-button",{attrs:{inline:!0},on:{click:function(s){return t.editCommodity(e)}}},[t._v("编辑")])],1)])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.commodityList.length<=0,expression:"commodityList.length <= 0"}],staticClass:"empy"},[t._v("暂无数据")])],1)])},i=[],c=s("d225"),o=s("b0b4"),n=s("308d"),d=s("6bb5"),r=s("4e2b"),u=s("9ab4"),l=s("60a3"),m=s("07e8"),b=s("3a45"),p=s("7078"),h=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(n["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.classId="",t.className="",t.shopId="",t.commodityList=[],t.commodityObj={name:"",price:0,unit:"",disabled:!1,number:0,imgUrlList:[]},t}return Object(r["a"])(e,t),Object(o["a"])(e,[{key:"mounted",value:function(){var t=this,e=this.$route.query;this.classId=e.id,this.shopId=e.shopId,this.className=e.name,p["a"].$on("commodityManage",function(e){t.saveSuccess(e.type,e.data)})}},{key:"deactivated",value:function(){this.classId="",this.$set(this,"commodityList",[])}},{key:"idChange",value:function(t){t&&this.getCommodityListByClassId()}},{key:"getCommodityListByClassId",value:function(){var t=this;if(this.classId){var e=this["$createToast"]({time:0,txt:"商品获取中..."});e.show(),this.$store.dispatch("getCommodityListByClassId",{class:this.classId,page:1}).then(function(s){if(s.success){var a=s.data.list;t.$set(t,"commodityList",a),e.hide()}})}}},{key:"addCommodity",value:function(){var t={data:{name:"",price:0,unit:"",disabled:!1,number:0,imgUrlList:[]},classId:this.classId,shopId:this.shopId};this.$router.push({name:"commodityAdd",params:t})}},{key:"saveSuccess",value:function(t,e){var s;"add"===t?this.commodityList.push(e):(this.commodityList.some(function(t,s){if(e.id===t.id)return s=s,!0}),this.$set(this.commodityList,s,e))}},{key:"editCommodity",value:function(t){var e={data:t,classId:this.classId,shopId:this.shopId};this.$router.push({name:"commodityAdd",params:e})}}]),e}(l["c"]);Object(u["a"])([Object(l["d"])("classId")],h.prototype,"idChange",null),h=Object(u["a"])([Object(l["a"])({components:{page:m["a"],pageView:b["a"]}})],h);var v=h,y=v,f=(s("efbc"),s("2877")),j=Object(f["a"])(y,a,i,!1,null,"b742186e",null);e["default"]=j.exports},efbc:function(t,e,s){"use strict";var a=s("92d3"),i=s.n(a);i.a}}]);
//# sourceMappingURL=commodityManage.cebb26e0.js.map