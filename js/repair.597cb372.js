(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["repair"],{"02ea":function(t,e,a){},"60d6":function(t,e,a){"use strict";var i=a("e481"),o=a.n(i);o.a},ac210:function(t,e,a){"use strict";var i=a("02ea"),o=a.n(i);o.a},d470:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"repair"},[a("div",{staticClass:"swipe-wrapper"},[a("cube-tab-bar",{attrs:{data:t.tabBarList},on:{change:t.tabBarChange},model:{value:t.selectedLabelDefault,callback:function(e){t.selectedLabelDefault=e},expression:"selectedLabelDefault"}}),a("div",{staticClass:"address"},[a("div",{staticClass:"info"},[a("i",{staticClass:"iconfont iconxiaoqu1"}),a("cube-select",{attrs:{title:t.title,options:t.houseOptions,placeholder:t.placeholder,"auto-pop":t.autoPop,disabled:t.disabled},on:{change:t.houseChange},model:{value:t.houseId,callback:function(e){t.houseId=e},expression:"houseId"}})],1)]),a("div",[a("cube-form",{staticClass:"home-form",attrs:{model:t.model,options:t.options},on:{validate:t.validateHandler,submit:t.submitHandler}},[a("cube-form-group",[a("div",[a("cube-form-item",{attrs:{field:t.fields[0]}})],1),a("div",[a("cube-form-item",{attrs:{field:t.fields[1]}})],1)]),a("cube-form-group",[a("cube-button",{staticClass:"submit",attrs:{type:"submit"}},[t._v("点击报修")])],1)],1)],1)],1)])},o=[],s=(a("ac6a"),a("a481"),a("d225")),n=a("b0b4"),l=a("308d"),u=a("6bb5"),d=a("4e2b"),c=a("9ab4"),r=a("60a3"),p=a("fdab"),h=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.model={details:"",type:"type1"},t.fields=[{type:"textarea",modelKey:"details",props:{placeholder:"请描述您要报修的详情...",maxlength:"100",autoExpand:!0,autofocus:!0}},{type:"select",modelKey:"type",label:"报修类型",props:{placeholder:"请输入",type:"text",options:[{text:"开锁服务",value:"type1"},{text:"公共报修",value:"type2"},{text:"个人报修",value:"type3"}]}}],t.valid=void 0,t.validity={},t.options={},t.time=60,t.sendMsgDisabled=!1,t.isVerification=!1,t.openid="",t.jump="",t.actions=[{text:"合计 ¥00.00",action:"moreMoney"},{type:"button",text:'<div class="payButton">立即缴费</div>',action:"payButtonClick"}],t.selectCost=0,t.totalCost=0,t.checkList=[],t.billList=[],t.houseId="",t.selectedLabelDefault="incomplete",t.tabBarList=[{label:"快捷报修",value:"incomplete"},{label:"报修记录",value:"complete"}],t.page=1,t.isShowMore=!0,t}return Object(d["a"])(e,t),Object(n["a"])(e,[{key:"activated",value:function(){this.pageInit()}},{key:"validateHandler",value:function(t){this.validity=t.validity,this.valid=t.valid,console.log(t),console.log("validity",t.validity,t.valid,t.dirty,t.firstInvalidFieldIndex)}},{key:"getBindingInfo",value:function(){var t=this,e=this.$route.query;if(e.code){var a=this["$createToast"]({time:0,txt:"数据获取中..."});a.show(),this.$store.dispatch("getCodeInfo",{code:e.code}).then(function(e){e.success&&(e.data.openid?(t.openid=e.data.openid,t.$router.replace({path:"/login",query:{openid:e.data.openid,jump:"/home"}})):e.data.sessionId&&(t.$store.commit("SET_SESSION_ID",e.data.sessionId),t.$store.commit("SET_USER_INFO",e.data.userInfo),t.getHouseList())),a.hide()})}else console.log("不是微信登陆")}},{key:"pageInit",value:function(){var t=this.$route.query;t.houseId&&(this.houseId=t.houseId),this.$store.state.sessionId&&!this.houseId?this.getHouseList():t.code&&!this.$store.state.sessionId&&this.getBindingInfo()}},{key:"getHouseList",value:function(){var t=this;this.$store.dispatch("getHouseList",{}).then(function(e){e.data.list&&(t.listData=e.data.list,t.houseId||(t.houseId=t.listData[0].id),t.$store.commit("SET_HOUSE_LIST",t.listData))})}},{key:"tabBarChange",value:function(t){this.page=1,this.isShowMore=!0,this.billList=[],this.getBillListByHouseId()}},{key:"showMoreClick",value:function(){this.page++,this.getBillListByHouseId()}},{key:"computedMsg",get:function(){return"computed "+this.propB}},{key:"houseOptions",get:function(){return this.$store.state.houseList.forEach(function(t){t.value=t.id,t.text=t.account_info[0].name+" "+t.build_info[0].name+" "+t.unitNum+"单元"+t.floorNum+"层"+t.roomNum+"室"}),this.$store.state.houseList}}]),e}(r["c"]);Object(c["a"])([Object(r["b"])({default:"default value"})],h.prototype,"propB",void 0),h=Object(c["a"])([Object(r["a"])({components:{HelloWorld:p["a"]},filters:{getFormatDate:function(t){return new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()},fenToYuan:function(t){return"number"!==typeof t||isNaN(t)?null:"¥"+(t/100).toFixed(2)},billType:function(t){return"property"===t?"物业费用":"其他费用"}}})],h);var f=h,b=f,v=(a("ac210"),a("60d6"),a("2877")),m=Object(v["a"])(b,i,o,!1,null,"1863e8d2",null);e["default"]=m.exports},e481:function(t,e,a){}}]);
//# sourceMappingURL=repair.597cb372.js.map